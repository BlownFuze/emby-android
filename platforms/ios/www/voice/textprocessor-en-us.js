define([],function(){function e(e){var r={action:"",itemName:"",itemType:"",category:"",filters:[],removeWords:[],sortby:"",sortorder:"Ascending",limit:null,userId:Dashboard.getCurrentUserId()},t=e.toLowerCase(),i=e.toLowerCase().split(" "),o=["show","pull up","display","go to","view"];if(o.filter(function(e){return 0==t.indexOf(e)}).length)return-1!=i.indexOf("guide")&&(r.action="show",r.category="tvguide"),-1!=i.indexOf("recordings")&&(r.action="show",r.category="recordings"),r.removeWords=o,r;var n=["search","search for","find","query"];if(n.filter(function(e){return 0==t.indexOf(e)}).length)return r.action="search",r.removeWords=n,r;var d=["play","watch"];if(d.filter(function(e){return 0==t.indexOf(e)}).length)return r.action="play",r.removeWords=d,r;var s=["use","control"];if(s.filter(function(e){return 0==t.indexOf(e)}).length)return r.action="control",r.removeWords=s,r;var f=["enable","turn on"];if(f.filter(function(e){return 0==t.indexOf(e)}).length)return r.action="enable",r.removeWords=f,r;var a=["disable","turn off"];if(a.filter(function(e){return 0==t.indexOf(e)}).length)return r.action="disable",r.removeWords=a,r;var u=["toggle"];return u.filter(function(e){return 0==t.indexOf(e)}).length?(r.action="toggle",r.removeWords=u,r):-1!=i.indexOf("shuffle")?(r.action="shuffle",r.removeWords.push("shuffle"),r):-1!=i.indexOf("record")?(r.action="record",r.removeWords.push("record"),r):-1!=i.indexOf("guide")?(r.action="show",r.category="tvguide",r):r}function r(e,r){e=e.toLowerCase();var t,i;for(t=0,i=r.removeWords.length;i>t;t++)e=e.replace(r.removeWords[t],"");e=e.trim();var o=["my"];for(t=0,i=o.length;i>t;t++)0==e.indexOf(o[t])&&(e=e.substring(o[t].length));r.what=e,e=e.trim();var n=e.toLowerCase().split(" ");return-1!=n.indexOf("favorite")&&r.filters.push("favorite"),-1!=e.indexOf("latest movies")||-1!=e.indexOf("latest films")?(r.sortby="datecreated",r.sortorder="Descending",r.filters.push("unplayed"),void(r.itemType="Movie")):-1!=e.indexOf("latest episodes")?(r.sortby="datecreated",r.sortorder="Descending",r.filters.push("unplayed"),void(r.itemType="Episode")):-1!=e.indexOf("next up")?void(r.category="nextup"):-1!=e.indexOf("movies")||-1!=e.indexOf("films")?void(r.itemType="Movie"):-1!=e.indexOf("shows")||-1!=e.indexOf("series")?void(r.itemType="Series"):-1!=e.indexOf("songs")?void(r.itemType="Audio"):void 0}return function(t){var i=e(t);return r(t,i),i}});