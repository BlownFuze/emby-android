define(["thirdparty/social-share-kit-1.0.4/dist/js/social-share-kit.min","css!thirdparty/social-share-kit-1.0.4/dist/css/social-share-kit.css","fade-in-animation","fade-out-animation","paper-dialog"],function(){function a(a,s,e){var i="dlg"+(new Date).getTime(),t="";t+='<paper-dialog id="'+i+'" entry-animation="fade-in-animation" exit-animation="fade-out-animation" with-backdrop>',t+="<h2>"+Globalize.translate("HeaderShare")+"</h2>",t+="<div>",t+='<div class="ssk-group ssk-round ssk-lg">',Dashboard.isConnectMode()&&(t+='<a href="" class="ssk ssk-facebook"></a>'),t+='<a href="" class="ssk ssk-twitter"></a><a href="" class="ssk ssk-google-plus"></a><a href="" class="ssk ssk-pinterest"></a><a href="" class="ssk ssk-tumblr"></a></div>',t+="</div>",t+='<div style="max-width:240px;">',t+=Globalize.translate("ButtonShareHelp"),t+="</div>",t+='<div class="buttons">',t+='<paper-button class="btnCancel" dialog-dismiss>'+Globalize.translate("ButtonCancel")+"</paper-button>",t+="</div>",t+="</paper-dialog>",$(document.body).append(t);var n=!1;setTimeout(function(){var t=document.getElementById(i);t.open();var o=a.share;SocialShareKit.init({selector:"#"+i+" .ssk",url:o.Url,title:o.Name,text:o.Overview,image:o.ImageUrl,via:"Emby"}),$(t).on("iron-overlay-closed",function(){$(this).remove(),n?s(a):e(a)}),$(".ssk",t).on("click",function(){n=!0,t.close()})},100)}return{showMenu:a}});