define(["paper-dialog","scale-up-animation","fade-out-animation"],function(){function o(o,e,i){function a(t){var i=t.detail.state||{},a=i.hash=="#"+e;"back"==i.direction&&o&&(a||(o.close(),o=null))}function n(){i!==!1&&Dashboard.onPopupClose(),o=null,t()&&(window.removeEventListener("navigate",a),window.location.hash=="#"+e&&history.back())}o.addEventListener("iron-overlay-closed",n),o.open(),i!==!1&&Dashboard.onPopupOpen(),t()&&(window.location.hash=e,window.addEventListener("navigate",a))}function t(){return browserInfo.msie?!1:browserInfo.edge?!1:!0}function e(t,e,i){new o(t,e,i)}function i(o){t()?o.opened&&history.back():o.close()}function a(o){o=o||{};var t=document.createElement("paper-dialog");t.setAttribute("with-backdrop","with-backdrop"),t.setAttribute("role","alertdialog"),browserInfo.msie||browserInfo.mozilla||o.modal!==!1&&t.setAttribute("modal","modal"),t.setAttribute("noAutoFocus","noAutoFocus"),browserInfo.mobile||(t.entryAnimation="scale-up-animation",t.exitAnimation="fade-out-animation"),t.classList.add("popupEditor"),t.classList.add("small"==o.size?"small-paper-dialog":"medium"==o.size?"medium-paper-dialog":"fullscreen-paper-dialog");var e=o.theme||"b";return t.classList.add("ui-body-"+e),t.classList.add("background-theme-"+e),t.classList.add("smoothScrollY"),t}function n(o,t){var e=$(window).height();if(e>=540){var i=$(t).offset();i.top+=t.offsetHeight/2,i.left+=t.offsetWidth/2,i.top-=24,i.left-=24,i.top-=$(o).height()/2,i.left-=$(o).width()/2,i.top-=$(window).scrollTop(),i.left-=$(window).scrollLeft(),i.top=Math.min(i.top,e-300),i.left=Math.min(i.left,$(window).width()-300),i.top=Math.max(i.top,0),i.left=Math.max(i.left,0),o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px"}}return window.PaperDialogHelper={openWithHash:e,close:i,createDialog:a,positionTo:n},PaperDialogHelper});