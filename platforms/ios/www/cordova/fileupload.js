!function(e){function i(){var e=this;e.upload=function(e,i,n){return new Promise(function(o,r){resolveLocalFileSystemURL(e,function(a){a.file(function(a){var f=a.type||"";if(0!=f.indexOf("image/"))return void r();var t=function(e){o()},l=function(e){r()},u=new FileUploadOptions;u.fileKey="file",u.fileName=i,u.mimeType=f;var c={};u.params=c,(new FileTransfer).upload(e,n,t,l,u)},function(){r()})},function(){r()})})}}e.MediaBrowser||(e.MediaBrowser={}),e.MediaBrowser.FileUpload=i}(this);