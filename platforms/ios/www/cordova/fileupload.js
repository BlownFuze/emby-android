!function(e){function i(){var e=this;e.upload=function(e,i,o){return new Promise(function(n,r){resolveLocalFileSystemURL(e,function(l){l.file(function(l){var a=l.type||"";if(0!=a.indexOf("image/"))return Logger.log("Skipping upload because file is not an image. path: "+e+" mimeType: "+a),void r();Logger.log("mimeType for file "+e+" is "+l);var f=function(e){n()},t=function(e){r()},u=new FileUploadOptions;u.fileKey="file",u.fileName=i,u.mimeType=a;var d={};u.params=d,(new FileTransfer).upload(e,o,f,t,u)},function(){Logger.log("File upload failed. fileEntry.file returned an error"),r()})},function(){Logger.log("File upload failed. resolveLocalFileSystemURL returned an error"),r()})})}}e.MediaBrowser||(e.MediaBrowser={}),e.MediaBrowser.FileUpload=i}(this);