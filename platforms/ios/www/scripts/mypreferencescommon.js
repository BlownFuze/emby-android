define(["apphost","listViewStyle"],function(e){return function(r,t){r.querySelector(".btnLogout").addEventListener("click",function(){Dashboard.logout()}),r.addEventListener("viewshow",function(){var r=this,s=t.userId||Dashboard.getCurrentUserId();r.querySelector(".lnkDisplayPreferences").setAttribute("href","mypreferencesdisplay.html?userId="+s),r.querySelector(".lnkLanguagePreferences").setAttribute("href","mypreferenceslanguages.html?userId="+s),r.querySelector(".lnkHomeScreenPreferences").setAttribute("href","mypreferenceshome.html?userId="+s),r.querySelector(".lnkMyProfile").setAttribute("href","myprofile.html?userId="+s),r.querySelector(".lnkSync").setAttribute("href","mysyncsettings.html?userId="+s),r.querySelector(".lnkCameraUpload").setAttribute("href","camerauploadsettings.html?userId="+s),e.supports("cameraupload")?r.querySelector(".lnkCameraUpload").classList.remove("hide"):r.querySelector(".lnkCameraUpload").classList.add("hide"),e.supports("sync")?r.querySelector(".lnkSync").classList.remove("hide"):r.querySelector(".lnkSync").classList.add("hide"),Dashboard.getCurrentUser().then(function(e){r.querySelector(".headerUser").innerHTML=e.Name,e.Policy.IsAdministrator?r.querySelector(".adminSection").classList.remove("hide"):r.querySelector(".adminSection").classList.add("hide")}),Dashboard.isConnectMode()?r.querySelector(".selectServer").classList.remove("hide"):r.querySelector(".selectServer").classList.add("hide")})}});