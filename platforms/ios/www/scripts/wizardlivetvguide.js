!function(e,n){function t(n,t){Dashboard.showLoadingMsg();var i=ApiClient;i.getJSON(i.getUrl("Startup/Configuration")).then(function(i){var r=null;(i.LiveTvGuideProviderType||"").toLowerCase()==t.toLowerCase()&&i.LiveTvGuideProviderId&&(r=i.LiveTvGuideProviderId);var a="components/tvproviders/"+t.toLowerCase()+".js";require([a],function(t){var i=new t(n,r,{showCancelButton:!1,showSubmitButton:!1,showConfirmation:!1});Dashboard.hideLoadingMsg(),i.init(),u=i,e(u).on("submitted",o)})})}function i(e,n){u=null,ApiClient.ajax({type:"GET",url:"components/tvproviders/"+n+".template.html"}).then(function(i){var o=e.querySelector(".providerTemplate");o.innerHTML=Globalize.translateDocument(i),t(e,n)})}function o(){var e=ApiClient;e.getJSON(e.getUrl("Startup/Info")).then(function(e){Dashboard.navigate(e.SupportsRunningAsService?"wizardservice.html":"wizardagreement.html")})}function r(){u.submit()}function a(n){e("#selectType",n).trigger("change")}var u;e(n).on("pageinit","#wizardGuidePage",function(){var n=this;e("#selectType",n).on("change",function(){i(n,this.value)}),e(".btnSkip",n).on("click",o),e(".btnNext",n).on("click",r)}).on("pageshow","#wizardGuidePage",function(){var e=this;a(e)})}(jQuery,document,window);