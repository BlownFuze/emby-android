define(["jQuery"],function(e){function n(e,n){Dashboard.showLoadingMsg();var t=ApiClient;t.getJSON(t.getUrl("Startup/Configuration")).then(function(t){var o=null;(t.LiveTvGuideProviderType||"").toLowerCase()==n.toLowerCase()&&t.LiveTvGuideProviderId&&(o=t.LiveTvGuideProviderId);var r="components/tvproviders/"+n.toLowerCase()+".js";require([r],function(n){var t=new n(e,o,{showCancelButton:!1,showSubmitButton:!1,showConfirmation:!1});Dashboard.hideLoadingMsg(),t.init(),a=t,Events.on(a,"submitted",i)})})}function t(e,t){a=null,ApiClient.ajax({type:"GET",url:"components/tvproviders/"+t.toLowerCase()+".template.html"}).then(function(i){var o=e.querySelector(".providerTemplate");o.innerHTML=Globalize.translateDocument(i),n(e,t)})}function i(){require(["scripts/wizardcontroller"],function(e){e.navigateToComponents()})}function o(){a.submit()}function r(n){e("#selectType",n).trigger("change")}var a;e(document).on("pageinit","#wizardGuidePage",function(){var n=this;e("#selectType",n).on("change",function(){t(n,this.value)}),e(".btnSkip",n).on("click",i),e(".btnNext",n).on("click",o)}).on("pageshow","#wizardGuidePage",function(){var e=this;r(e)})});