define(["scrollStyles"],function(){function e(e,t){Dashboard.showLoadingMsg();var n=AppInfo.hasLowImageBandwidth&&!r()?24:40,i={Limit:n,Fields:"AirTime,UserData,SeriesStudio,SyncInfo",UserId:Dashboard.getCurrentUserId(),ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb"};i.ParentId=t.topParentId,ApiClient.getJSON(ApiClient.getUrl("Shows/Upcoming",i)).then(function(r){var t=r.Items;e.querySelector(".noItemsMessage").style.display=t.length?"none":"block";var n=e.querySelector("#upcomingItems");a(n,t),Dashboard.hideLoadingMsg()})}function r(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function t(){return r()?"overflowBackdrop":"backdrop"}function a(e,a){var n,i,o=[],s="",l=[];for(n=0,i=a.length;i>n;n++){var d=a[n],c="";if(d.PremiereDate)try{var h=parseISO8601Date(d.PremiereDate,{toLocal:!0});c=h.getDate()==(new Date).getDate()-1?Globalize.translate("Yesterday"):LibraryBrowser.getFutureDateText(h,!0)}catch(m){}c!=s?(l.length&&o.push({name:s,items:l}),s=c,l=[d]):l.push(d)}var u="";for(n=0,i=o.length;i>n;n++){var g=o[n];u+='<div class="homePageSection">',u+='<h1 class="listHeader">'+g.name+"</h1>",u+=r()?'<div class="itemsContainer hiddenScrollX">':'<div class="itemsContainer">',u+=LibraryBrowser.getPosterViewHtml({items:g.items,showLocationTypeIndicator:!1,shape:t(),showTitle:!0,showPremiereDate:!0,preferThumb:!0,lazy:!0,showDetailsMenu:!0,centerText:!0}),u+="</div>",u+="</div>"}e.innerHTML=u,ImageLoader.lazyChildren(e)}return function(r,t,a){var n=this;n.renderTab=function(){e(a,t)}}});