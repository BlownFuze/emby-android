!function(e){function n(){var e=i(),n=c[e];return n||(n=c[e]={query:{StartIndex:0,EnableFavoriteSorting:!0,Limit:LibraryBrowser.getDefaultPageSize()}},LibraryBrowser.loadSavedQueryValues(e,n.query)),n}function r(){return n().query}function i(){return LibraryBrowser.getSavedQueryKey("channels")}function t(e){return LibraryBrowser.getListViewHtml({items:e,smallIcon:!0})}function a(n,a,c){var l=r();e(".listTopPaging",n).html(LibraryBrowser.getQueryPagingHtml({startIndex:l.StartIndex,limit:l.Limit,totalRecordCount:c.TotalRecordCount,viewButton:!0,showLimit:!1,viewPanelClass:"channelViewPanel",updatePageSizeSetting:!1,viewIcon:"filter-list"})),s(a);var u=t(c.Items),d=n.querySelector("#items");d.innerHTML=u,ImageLoader.lazyChildren(d),e(".btnNextPage",n).on("click",function(){l.StartIndex+=l.Limit,o(n,a)}),e(".btnPreviousPage",n).on("click",function(){l.StartIndex-=l.Limit,o(n,a)}),LibraryBrowser.saveQueryValues(i(),l)}function o(e,n){Dashboard.showLoadingMsg();var i=r();i.UserId=Dashboard.getCurrentUserId(),ApiClient.getLiveTvChannels(i).then(function(r){a(e,n,r),Dashboard.hideLoadingMsg(),LibraryBrowser.setLastRefreshed(e)})}function s(n){var i=r();e(".chkFavorite",n).checked(1==i.IsFavorite),e(".chkLikes",n).checked(1==i.IsLiked),e(".chkDislikes",n).checked(1==i.IsDisliked)}var c={};window.LiveTvPage.initChannelsTab=function(n,i){var t=n.querySelector(".channelViewPanel");e(".chkFavorite",t).on("change",function(){var e=r();e.StartIndex=0,e.IsFavorite=this.checked?!0:null,o(i,t)}),e(".chkLikes",t).on("change",function(){var e=r();e.StartIndex=0,e.IsLiked=this.checked?!0:null,o(i,t)}),e(".chkDislikes",t).on("change",function(){var e=r();e.StartIndex=0,e.IsDisliked=this.checked?!0:null,o(i,t)})},window.LiveTvPage.renderChannelsTab=function(e,n){var r=e.querySelector(".channelViewPanel");LibraryBrowser.needsRefresh(n)&&(o(n,r),s(r))}}(jQuery,document);