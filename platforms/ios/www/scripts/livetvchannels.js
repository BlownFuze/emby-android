!function(e){function r(){var e=n(),r=u[e];return r||(r=u[e]={query:{StartIndex:0,EnableFavoriteSorting:!0,Limit:LibraryBrowser.getDefaultPageSize()}},LibraryBrowser.loadSavedQueryValues(e,r.query)),r}function t(){return r().query}function n(){return LibraryBrowser.getSavedQueryKey("channels")}function i(e){return LibraryBrowser.getListViewHtml({items:e,smallIcon:!0})}function a(r,a){var u=t();e(".listTopPaging",r).html(LibraryBrowser.getQueryPagingHtml({startIndex:u.StartIndex,limit:u.Limit,totalRecordCount:a.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1,filterButton:!0}));var l=i(a.Items),c=r.querySelector("#items");c.innerHTML=l,ImageLoader.lazyChildren(c),e(".btnNextPage",r).on("click",function(){u.StartIndex+=u.Limit,s(r)}),e(".btnPreviousPage",r).on("click",function(){u.StartIndex-=u.Limit,s(r)}),e(".btnFilter",r).on("click",function(){o(r)}),LibraryBrowser.saveQueryValues(n(),u)}function o(e){require(["components/filterdialog/filterdialog"],function(r){var n=new r({query:t(),mode:"livetvchannels"});Events.on(n,"filterchange",function(){s(e)}),n.show()})}function s(e){Dashboard.showLoadingMsg();var r=t();r.UserId=Dashboard.getCurrentUserId(),ApiClient.getLiveTvChannels(r).then(function(r){a(e,r),Dashboard.hideLoadingMsg(),LibraryBrowser.setLastRefreshed(e)})}var u={};window.LiveTvPage.renderChannelsTab=function(e,r){LibraryBrowser.needsRefresh(r)&&s(r)}}(jQuery,document);