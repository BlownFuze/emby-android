define(["jQuery"],function(e){return function(r,t,n){function i(e){var r=o(e),t=y[r];return t||(t=y[r]={query:{StartIndex:0,EnableFavoriteSorting:!0,Limit:LibraryBrowser.getDefaultPageSize()}},LibraryBrowser.loadSavedQueryValues(r,t.query)),t}function a(e){return i(e).query}function o(e){return e.savedQueryKey||(e.savedQueryKey=LibraryBrowser.getSavedQueryKey("channels")),e.savedQueryKey}function u(e){return LibraryBrowser.getPosterViewHtml({items:e,shape:"square",showTitle:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0})}function s(r,t){var n=a(r);e(".listTopPaging",r).html(LibraryBrowser.getQueryPagingHtml({startIndex:n.StartIndex,limit:n.Limit,totalRecordCount:t.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1,filterButton:!0}));var i=u(t.Items),s=r.querySelector("#items");s.innerHTML=i,ImageLoader.lazyChildren(s),e(".btnNextPage",r).on("click",function(){n.StartIndex+=n.Limit,c(r)}),e(".btnPreviousPage",r).on("click",function(){n.StartIndex-=n.Limit,c(r)}),e(".btnFilter",r).on("click",function(){l(r)}),LibraryBrowser.saveQueryValues(o(r),n)}function l(e){require(["components/filterdialog/filterdialog"],function(r){var t=new r({query:a(e),mode:"livetvchannels"});Events.on(t,"filterchange",function(){c(e)}),t.show()})}function c(e){Dashboard.showLoadingMsg();var r=a(e);r.UserId=Dashboard.getCurrentUserId(),ApiClient.getLiveTvChannels(r).then(function(r){s(e,r),Dashboard.hideLoadingMsg()})}var d=this,y={};d.renderTab=function(){c(n)}}});