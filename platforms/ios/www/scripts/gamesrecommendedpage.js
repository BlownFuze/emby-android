define(["jQuery"],function(e){e(document).on("pagebeforeshow","#gamesRecommendedPage",function(){var r=LibraryMenu.getTopParentId(),t=Dashboard.getCurrentUserId(),a=this,n={IncludeItemTypes:"Game",Limit:18,Fields:"PrimaryImageAspectRatio",ParentId:r,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb"};ApiClient.getJSON(ApiClient.getUrl("Users/"+t+"/Items/Latest",n)).then(function(e){var r=a.querySelector("#recentlyAddedItems");r.innerHTML=LibraryBrowser.getPosterViewHtml({items:e,transparent:!0,borderless:!0,shape:"auto",lazy:!0}),ImageLoader.lazyChildren(r)}),n={SortBy:"DatePlayed",SortOrder:"Descending",MediaTypes:"Game",Limit:18,Recursive:!0,Filters:"IsPlayed",Fields:"ItemCounts,AudioInfo,PrimaryImageAspectRatio",ParentId:r,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb"},ApiClient.getItems(t,n).then(function(r){r.Items.length?e("#recentlyPlayedSection",a).show():e("#recentlyPlayedSection",a).hide();var t=a.querySelector("#recentlyPlayedItems");t.innerHTML=LibraryBrowser.getPosterViewHtml({items:r.Items,transparent:!0,borderless:!0,shape:"auto",lazy:!0}),ImageLoader.lazyChildren(t)})})});