define(["datetime","paper-icon-button-light","emby-button","listViewStyle"],function(e){function t(e,t){require(["confirm"],function(i){i(Globalize.translate("MessageConfirmSeriesCancellation"),Globalize.translate("HeaderConfirmSeriesCancellation")).then(function(){Dashboard.showLoadingMsg(),ApiClient.cancelLiveTvSeriesTimer(t).then(function(){require(["toast"],function(e){e(Globalize.translate("MessageSeriesCancelled"))}),a(e)})})})}function i(i,a){var s="";a.length&&(s+='<div class="paperList">');for(var r=0,l=a.length;l>r;r++){var o=a[r];if(s+='<div class="listItem">',s+='<i class="md-icon listItemIcon">live_tv</i>',s+='<div class="listItemBody three-line">',s+='<a class="clearLink" href="livetvseriestimer.html?id='+o.Id+'">',s+='<h3 class="listItemBodyText">',s+=o.Name,s+="</h3>",s+='<div class="secondary">',o.DayPattern)s+=o.DayPattern;else{var c=o.Days||[];s+=c.join(", ")}s+=o.RecordAnyTime?" - "+Globalize.translate("LabelAnytime"):" - "+e.getDisplayTime(o.StartDate),s+="</div>",s+='<div class="secondary">',o.RecordAnyChannel?s+=Globalize.translate("LabelAllChannels"):o.ChannelId&&(s+=o.ChannelName),s+="</div>",s+="</a>",s+="</div>",s+='<button type="button" is="paper-icon-button-light" data-seriestimerid="'+o.Id+'" title="'+Globalize.translate("ButtonCancelSeries")+'" class="btnCancelSeries autoSize"><i class="md-icon">cancel</i></button>',s+="</div>"}a.length&&(s+="</div>");var d=i.querySelector("#items");d.innerHTML=s,a.length&&d.querySelector(".paperList").addEventListener("click",function(e){var a=n(e.target,"btnCancelSeries");a&&t(i,a.getAttribute("data-seriestimerid"))}),Dashboard.hideLoadingMsg()}function n(e,t){for(;!e.classList||!e.classList.contains(t);)if(e=e.parentNode,!e)return null;return e}function a(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvSeriesTimers(s).then(function(t){i(e,t.Items)})}var s={SortBy:"SortName",SortOrder:"Ascending"};return function(e,t,i){var n=this;n.renderTab=function(){a(i)}}});