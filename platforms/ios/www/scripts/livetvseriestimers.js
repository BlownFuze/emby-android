define(["datetime","paper-icon-button-light","emby-button","listViewStyle"],function(e){function t(e,t){require(["confirm"],function(i){i(Globalize.translate("MessageConfirmSeriesCancellation"),Globalize.translate("HeaderConfirmSeriesCancellation")).then(function(){Dashboard.showLoadingMsg(),ApiClient.cancelLiveTvSeriesTimer(t).then(function(){require(["toast"],function(e){e(Globalize.translate("MessageSeriesCancelled"))}),a(e)})})})}function i(i,a){var r="";a.length&&(r+='<div class="paperList">');for(var s=0,l=a.length;l>s;s++){var o=a[s];if(r+='<div class="listItem">',r+='<button type="button" is="emby-button" class="fab mini autoSize blue" item-icon><i class="md-icon">live_tv</i></button>',r+='<div class="listItemBody three-line">',r+='<a class="clearLink" href="livetvseriestimer.html?id='+o.Id+'">',r+="<h3>",r+=o.Name,r+="</h3>",r+='<div class="secondary">',o.DayPattern)r+=o.DayPattern;else{var c=o.Days||[];r+=c.join(", ")}r+=o.RecordAnyTime?" - "+Globalize.translate("LabelAnytime"):" - "+e.getDisplayTime(o.StartDate),r+="</div>",r+='<div class="secondary">',o.RecordAnyChannel?r+=Globalize.translate("LabelAllChannels"):o.ChannelId&&(r+=o.ChannelName),r+="</div>",r+="</a>",r+="</div>",r+='<button type="button" is="paper-icon-button-light" data-seriestimerid="'+o.Id+'" title="'+Globalize.translate("ButtonCancelSeries")+'" class="btnCancelSeries autoSize"><i class="md-icon">cancel</i></button>',r+="</div>"}a.length&&(r+="</div>");var d=i.querySelector("#items");d.innerHTML=r,a.length&&d.querySelector(".paperList").addEventListener("click",function(e){var a=n(e.target,"btnCancelSeries");a&&t(i,a.getAttribute("data-seriestimerid"))}),Dashboard.hideLoadingMsg()}function n(e,t){for(;!e.classList||!e.classList.contains(t);)if(e=e.parentNode,!e)return null;return e}function a(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvSeriesTimers(r).then(function(t){i(e,t.Items)})}var r={SortBy:"SortName",SortOrder:"Ascending"};return function(e,t,i){var n=this;n.renderTab=function(){a(i)}}});