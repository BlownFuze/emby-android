!function(e){function r(){var e=a(),r=n[e];return r||(r=n[e]={query:{SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"Audio,MusicVideo",Recursive:!0,Fields:"DateCreated,SyncInfo,ItemCounts",StartIndex:0,Limit:LibraryBrowser.getDefaultPageSize()},view:LibraryBrowser.getSavedView(e)||LibraryBrowser.getDefaultItemsView("Thumb","Thumb")},r.query.ParentId=LibraryMenu.getTopParentId(),LibraryBrowser.loadSavedQueryValues(e,r.query)),r}function t(){return r().query}function a(){return LibraryBrowser.getSavedQueryKey("genres")}function i(n){Dashboard.showLoadingMsg();var o=t();ApiClient.getMusicGenres(Dashboard.getCurrentUserId(),o).then(function(t){window.scrollTo(0,0);var u="",s=r().view;e(".listTopPaging",n).html(LibraryBrowser.getQueryPagingHtml({startIndex:o.StartIndex,limit:o.Limit,totalRecordCount:t.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1,addLayoutButton:!0,currentLayout:s})),"Thumb"==s?u=LibraryBrowser.getPosterViewHtml({items:t.Items,shape:"backdrop",preferThumb:!0,context:"music",showItemCounts:!0,lazy:!0,centerText:!0,overlayPlayButton:!0}):"ThumbCard"==s&&(u=LibraryBrowser.getPosterViewHtml({items:t.Items,shape:"backdrop",preferThumb:!0,context:"music",showItemCounts:!0,cardLayout:!0,lazy:!0,showTitle:!0}));var d=n.querySelector("#items");d.innerHTML=u,ImageLoader.lazyChildren(d),e(".btnNextPage",n).on("click",function(){o.StartIndex+=o.Limit,i(n)}),e(".btnPreviousPage",n).on("click",function(){o.StartIndex-=o.Limit,i(n)}),e(".btnChangeLayout",n).on("layoutchange",function(e,t){r().view=t,LibraryBrowser.saveViewSetting(a(),t),i(n)}),LibraryBrowser.saveQueryValues(a(),o),Dashboard.hideLoadingMsg()})}var n={};window.MusicPage.renderGenresTab=function(e,r){LibraryBrowser.needsRefresh(r)&&i(r)}}(jQuery,document);