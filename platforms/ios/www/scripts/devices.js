!function(){function e(e,i){var a=Globalize.translate("DeleteDeviceConfirmation");Dashboard.confirm(a,Globalize.translate("HeaderDeleteDevice"),function(a){a&&(Dashboard.showLoadingMsg(),ApiClient.ajax({type:"DELETE",url:ApiClient.getUrl("Devices",{Id:i})}).then(function(){t(e)}))})}function i(i,t){var a="";t.length&&(a+='<div class="paperList">'),a+=t.map(function(e){var i="";return i+="<paper-icon-item>",i+='<paper-fab mini style="background:#999;" icon="tablet-android" item-icon></paper-fab>',i+="<paper-item-body three-line>",i+='<a class="clearLink" href="device.html?id='+e.Id+'">',i+="<div>",i+=e.Name,i+="</div>",e.AppName&&(i+="<div secondary>",i+=e.AppName,i+="</div>"),e.LastUserName&&(i+="<div secondary>",i+=Globalize.translate("DeviceLastUsedByUserName",e.LastUserName),i+="</div>"),i+="</a>",i+="</paper-item-body>",i+='<paper-icon-button icon="delete" data-id="'+e.Id+'" title="'+Globalize.translate("ButtonDelete")+'" class="btnDeleteDevice"></paper-icon-button>',i+="</paper-icon-item>"}).join(""),t.length&&(a+="</div>");var n=$(".devicesList",i).html(a).trigger("create");$(".btnDeleteDevice",n).on("click",function(){e(i,this.getAttribute("data-id"))})}function t(e){Dashboard.showLoadingMsg(),ApiClient.getJSON(ApiClient.getUrl("Devices",{SupportsPersistentIdentifier:!0})).then(function(t){require(["paper-fab","paper-item-body","paper-icon-item"],function(){i(e,t.Items)}),Dashboard.hideLoadingMsg()})}$(document).on("pageshow","#devicesPage",function(){var e=this;t(e)})}();