!function(){function n(n,e){var t=e.split("-");return 2==t.length&&(t[1]=t[1].toUpperCase(),e=t.join("-")),"strings/"+n+"/"+e+".json"}function e(e,t){return g[n(e,t)]}function t(t,r){return new Promise(function(o){if(e(t,r))return void o();var u=n(t,r),i=u+"?v="+AppInfo.appVersion,a=new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(this.status<400)g[u]=JSON.parse(this.response),o();else{var e=new XMLHttpRequest;e.open("GET",n(t,"en-US"),!0),e.onload=function(){g[u]=JSON.parse(this.response),o()},e.send()}},a.send()})}function r(n){return Logger.log("Setting culture to "+n),p=n,Promise.all([t("html",n),t("javascript",n)])}function o(n){n=n.replace("_","-");var e=n.split("-");return 2==e.length&&e[0].toLowerCase()==e[1].toLowerCase()&&(n=e[0].toLowerCase()),n}function u(){return new Promise(function(n){AppInfo.isNativeApp?n(navigator.language||navigator.userLanguage):AppInfo.supportsUserDisplayLanguageSetting?(Logger.log("AppInfo.supportsUserDisplayLanguageSetting is true"),n(AppSettings.displayLanguage())):(Logger.log("Getting culture from document"),n(document.documentElement.getAttribute("data-culture")))})}function i(){return Logger.log("Entering Globalize.ensure"),new Promise(function(n){u().then(function(e){e=o(e||"en-US"),r(e).then(n)})})}function a(n,t){t=t||"html";var r=e(t,p)||{};return s(n,r)}function s(n,e){var t=n.indexOf("${");if(-1==t)return n;t+=2;var r=n.indexOf("}",t);if(-1==r)return n;var o=n.substring(t,r),u=e[o]||o;return n=n.replace("${"+o+"}",u),s(n,e)}var g={},p="en-US";window.Globalize={translate:function(n){for(var t=e("javascript",p)||{},r=t[n]||n,o=1;o<arguments.length;o++)r=r.replace("{"+(o-1)+"}",arguments[o]);return r},ensure:i,translateDocument:a}}();