!function(e,t,i){function o(e){Dashboard.showLoadingMsg();var t=a(),i=ApiClient.getUsers();Promise.all([t,i]).then(function(t){U=t[0],l(e,U,t[1]),Dashboard.hideLoadingMsg()})}function a(){var e=getParameterByName("id"),t=e?"Dlna/Profiles/"+e:"Dlna/Profiles/Default";return ApiClient.getJSON(ApiClient.getUrl(t))}function l(t,i,o){e("#txtName",t).val(i.Name),e(".chkMediaType",t).each(function(){this.checked=-1!=(i.SupportedMediaTypes||"").split(",").indexOf(this.getAttribute("data-value"))}).checkboxradio("refresh"),e("#chkEnableAlbumArtInDidl",t).checked(i.EnableAlbumArtInDidl).checkboxradio("refresh"),e("#chkEnableSingleImageLimit",t).checked(i.EnableSingleAlbumArtLimit).checkboxradio("refresh"),c(t,i.XmlRootAttributes||[]);var a=i.Identification||{};n(t,a.Headers||[]),f(t,i.SubtitleProfiles||[]),e("#txtInfoFriendlyName",t).val(i.FriendlyName||""),e("#txtInfoModelName",t).val(i.ModelName||""),e("#txtInfoModelNumber",t).val(i.ModelNumber||""),e("#txtInfoModelDescription",t).val(i.ModelDescription||""),e("#txtInfoModelUrl",t).val(i.ModelUrl||""),e("#txtInfoManufacturer",t).val(i.Manufacturer||""),e("#txtInfoManufacturerUrl",t).val(i.ManufacturerUrl||""),e("#txtInfoSerialNumber",t).val(i.SerialNumber||""),e("#txtIdFriendlyName",t).val(a.FriendlyName||""),e("#txtIdModelName",t).val(a.ModelName||""),e("#txtIdModelNumber",t).val(a.ModelNumber||""),e("#txtIdModelDescription",t).val(a.ModelDescription||""),e("#txtIdModelUrl",t).val(a.ModelUrl||""),e("#txtIdManufacturer",t).val(a.Manufacturer||""),e("#txtIdManufacturerUrl",t).val(a.ManufacturerUrl||""),e("#txtIdSerialNumber",t).val(a.SerialNumber||""),e("#txtIdDeviceDescription",t).val(a.DeviceDescription||""),e("#txtAlbumArtPn",t).val(i.AlbumArtPn||""),e("#txtAlbumArtMaxWidth",t).val(i.MaxAlbumArtWidth||""),e("#txtAlbumArtMaxHeight",t).val(i.MaxAlbumArtHeight||""),e("#txtIconMaxWidth",t).val(i.MaxIconWidth||""),e("#txtIconMaxHeight",t).val(i.MaxIconHeight||""),e("#chkIgnoreTranscodeByteRangeRequests",t).checked(i.IgnoreTranscodeByteRangeRequests).checkboxradio("refresh"),e("#txtMaxAllowedBitrate",t).val(i.MaxStreamingBitrate||""),e("#txtMusicStreamingTranscodingBitrate",t).val(i.MusicStreamingTranscodingBitrate||""),e("#chkRequiresPlainFolders",t).checked(i.RequiresPlainFolders).checkboxradio("refresh"),e("#chkRequiresPlainVideoItems",t).checked(i.RequiresPlainVideoItems).checkboxradio("refresh"),e("#txtProtocolInfo",t).val(i.ProtocolInfo||""),e("#txtXDlnaCap",t).val(i.XDlnaCap||""),e("#txtXDlnaDoc",t).val(i.XDlnaDoc||""),e("#txtSonyAggregationFlags",t).val(i.SonyAggregationFlags||""),i.DirectPlayProfiles=i.DirectPlayProfiles||[],i.TranscodingProfiles=i.TranscodingProfiles||[],i.ContainerProfiles=i.ContainerProfiles||[],i.CodecProfiles=i.CodecProfiles||[],i.ResponseProfiles=i.ResponseProfiles||[];var l="<option></option>"+o.map(function(e){return'<option value="'+e.Id+'">'+e.Name+"</option>"}).join("");e("#selectUser",t).html(l).val(i.UserId||""),b(t,i)}function n(t,i){var o=0,a='<ul data-role="listview" data-inset="true" data-split-icon="delete">'+i.map(function(e){var t="<li>";return t+='<a href="#">',t+='<div style="font-weight:normal;">'+e.Name+": "+(e.Value||"")+"</div>",t+='<div style="font-weight:normal;">'+(e.Match||"")+"</div>",t+="</a>",t+='<a class="btnDeleteIdentificationHeader" href="#" data-index="'+o+'"></a>',t+="</li>",o++,t}).join("")+"</ul>",l=e(".httpHeaderIdentificationList",t).html(a).trigger("create");e(".btnDeleteIdentificationHeader",l).on("click",function(){var e=parseInt(this.getAttribute("data-index"));U.Identification.Headers.splice(e,1),n(t,U.Identification.Headers)})}function r(t,i){q=null==i,i=i||{},X=i;var o=e("#identificationHeaderPopup",t);e("#txtIdentificationHeaderName",o).val(i.Name||""),e("#txtIdentificationHeaderValue",o).val(i.Value||""),e("#selectMatchType",o).val(i.Match||"Equals"),o.popup("open")}function d(t){X.Name=e("#txtIdentificationHeaderName",t).val(),X.Value=e("#txtIdentificationHeaderValue",t).val(),X.Match=e("#selectMatchType",t).val(),q&&U.Identification.Headers.push(X),n(t,U.Identification.Headers),X=null,e("#identificationHeaderPopup",t).popup("close")}function c(t,i){var o=0,a='<ul data-role="listview" data-inset="true" data-split-icon="delete">'+i.map(function(e){var t="<li>";return t+='<a href="#">',t+='<div style="font-weight:normal;">'+e.Name+" = "+(e.Value||"")+"</div>",t+="</a>",t+='<a class="btnDeleteXmlAttribute" href="#" data-icon="delete" data-index="'+o+'"></a>',t+="</li>",o++,t}).join("")+"</ul>",l=e(".xmlDocumentAttributeList",t).html(a).trigger("create");e(".btnDeleteXmlAttribute",l).on("click",function(){var e=parseInt(this.getAttribute("data-index"));U.XmlRootAttributes.splice(e,1),c(t,U.XmlRootAttributes)})}function s(t,i){q=null==i,i=i||{},X=i;var o=e("#xmlAttributePopup",t);e("#txtXmlAttributeName",o).val(i.Name||""),e("#txtXmlAttributeValue",o).val(i.Value||""),o.popup("open")}function u(t){X.Name=e("#txtXmlAttributeName",t).val(),X.Value=e("#txtXmlAttributeValue",t).val(),q&&U.XmlRootAttributes.push(X),c(t,U.XmlRootAttributes),X=null,e("#xmlAttributePopup",t).popup("close")}function f(t,i){var o=0,a='<ul data-role="listview" data-inset="true" data-split-icon="delete">'+i.map(function(e){var t="<li>";return t+='<a href="#" class="lnkEditSubProfile" data-index="'+o+'">',t+='<div style="font-weight:normal;">'+(e.Format||"")+"</div>",t+="</a>",t+='<a class="btnDeleteProfile" href="#" data-icon="delete" data-index="'+o+'"></a>',t+="</li>",o++,t}).join("")+"</ul>",l=e(".subtitleProfileList",t).html(a).trigger("create");e(".btnDeleteProfile",l).on("click",function(){var e=parseInt(this.getAttribute("data-index"));U.SubtitleProfiles.splice(e,1),f(t,U.SubtitleProfiles)}),e(".lnkEditSubProfile",l).on("click",function(){var e=parseInt(this.getAttribute("data-index"));p(t,U.SubtitleProfiles[e])})}function p(t,i){q=null==i,i=i||{},X=i;var o=e("#subtitleProfilePopup",t);e("#txtSubtitleProfileFormat",o).val(i.Format||""),e("#selectSubtitleProfileMethod",o).val(i.Method||""),e("#selectSubtitleProfileDidlMode",o).val(i.DidlMode||""),o.popup("open")}function P(t){X.Format=e("#txtSubtitleProfileFormat",t).val(),X.Method=e("#selectSubtitleProfileMethod",t).val(),X.DidlMode=e("#selectSubtitleProfileDidlMode",t).val(),q&&U.SubtitleProfiles.push(X),f(t,U.SubtitleProfiles),X=null,e("#subtitleProfilePopup",t).popup("close")}function b(e,t){m(e,t.DirectPlayProfiles),x(e,t.TranscodingProfiles),y(e,t.ContainerProfiles),S(e,t.CodecProfiles),F(e,t.ResponseProfiles)}function g(t){X.Type=e("#selectDirectPlayProfileType",t).val(),X.Container=e("#txtDirectPlayContainer",t).val(),X.AudioCodec=e("#txtDirectPlayAudioCodec",t).val(),X.VideoCodec=e("#txtDirectPlayVideoCodec",t).val(),q&&U.DirectPlayProfiles.push(X),b(t,U),X=null,e("#popupEditDirectPlayProfile",t).popup("close")}function m(t,i){var o="";o+='<ul data-role="listview" data-inset="true" data-split-icon="delete">';for(var a,l=0,n=i.length;n>l;l++){var r=i[l];r.Type!==a&&(o+='<li data-role="list-divider">'+r.Type+"</li>",a=r.Type),o+="<li>",o+='<a data-profileindex="'+l+'" class="lnkEditSubProfile" href="#">',o+="<p>"+Globalize.translate("ValueContainer").replace("{0}",r.Container||z)+"</p>","Video"==r.Type?(o+="<p>"+Globalize.translate("ValueVideoCodec").replace("{0}",r.VideoCodec||z)+"</p>",o+="<p>"+Globalize.translate("ValueAudioCodec").replace("{0}",r.AudioCodec||z)+"</p>"):"Audio"==r.Type&&(o+="<p>"+Globalize.translate("ValueCodec").replace("{0}",r.AudioCodec||z)+"</p>"),o+="</a>",o+='<a href="#" data-icon="delete" class="btnDeleteProfile" data-profileindex="'+l+'">Delete</a>',o+="</li>"}o+="</ul>";var d=e(".directPlayProfiles",t).html(o).trigger("create");e(".btnDeleteProfile",d).on("click",function(){var e=this.getAttribute("data-profileindex");h(t,e)}),e(".lnkEditSubProfile",d).on("click",function(){var e=parseInt(this.getAttribute("data-profileindex"));v(t,U.DirectPlayProfiles[e])})}function h(e,t){U.DirectPlayProfiles.splice(t,1),m(e,U.DirectPlayProfiles)}function v(t,i){q=null==i,i=i||{},X=i;var o=e("#popupEditDirectPlayProfile",t);e("#selectDirectPlayProfileType",o).val(i.Type||"Video").trigger("change"),e("#txtDirectPlayContainer",o).val(i.Container||""),e("#txtDirectPlayAudioCodec",o).val(i.AudioCodec||""),e("#txtDirectPlayVideoCodec",o).val(i.VideoCodec||""),o.popup("open")}function x(t,i){var o="";o+='<ul data-role="listview" data-inset="true" data-split-icon="delete">';for(var a,l=0,n=i.length;n>l;l++){var r=i[l];r.Type!==a&&(o+='<li data-role="list-divider">'+r.Type+"</li>",a=r.Type),o+="<li>",o+='<a data-profileindex="'+l+'" class="lnkEditSubProfile" href="#">',o+="<p>Protocol: "+(r.Protocol||"Http")+"</p>",o+="<p>"+Globalize.translate("ValueContainer").replace("{0}",r.Container||z)+"</p>","Video"==r.Type?(o+="<p>"+Globalize.translate("ValueVideoCodec").replace("{0}",r.VideoCodec||z)+"</p>",o+="<p>"+Globalize.translate("ValueAudioCodec").replace("{0}",r.AudioCodec||z)+"</p>"):"Audio"==r.Type&&(o+="<p>"+Globalize.translate("ValueCodec").replace("{0}",r.AudioCodec||z)+"</p>"),o+="</a>",o+='<a href="#" data-icon="delete" class="btnDeleteProfile" data-profileindex="'+l+'">Delete</a>',o+="</li>"}o+="</ul>";var d=e(".transcodingProfiles",t).html(o).trigger("create");e(".btnDeleteProfile",d).on("click",function(){var e=this.getAttribute("data-profileindex");A(t,e)}),e(".lnkEditSubProfile",d).on("click",function(){var e=parseInt(this.getAttribute("data-profileindex"));C(t,U.TranscodingProfiles[e])})}function C(t,i){q=null==i,i=i||{},X=i;var o=e("#transcodingProfilePopup",t);e("#selectTranscodingProfileType",o).val(i.Type||"Video").trigger("change"),e("#txtTranscodingContainer",o).val(i.Container||""),e("#txtTranscodingAudioCodec",o).val(i.AudioCodec||""),e("#txtTranscodingVideoCodec",o).val(i.VideoCodec||""),e("#selectTranscodingProtocol",o).val(i.Protocol||"Http"),e("#chkEnableMpegtsM2TsMode",o).checked(i.EnableMpegtsM2TsMode||!1).checkboxradio("refresh"),e("#chkEstimateContentLength",o).checked(i.EstimateContentLength||!1).checkboxradio("refresh"),e("#chkReportByteRangeRequests",o).checked("Bytes"==i.TranscodeSeekInfo).checkboxradio("refresh"),e(".radioTabButton:first",o).trigger("click"),o.popup("open")}function A(e,t){U.TranscodingProfiles.splice(t,1),x(e,U.TranscodingProfiles)}function D(t){X.Type=e("#selectTranscodingProfileType",t).val(),X.Container=e("#txtTranscodingContainer",t).val(),X.AudioCodec=e("#txtTranscodingAudioCodec",t).val(),X.VideoCodec=e("#txtTranscodingVideoCodec",t).val(),X.Protocol=e("#selectTranscodingProtocol",t).val(),X.Context="Streaming",X.EnableMpegtsM2TsMode=e("#chkEnableMpegtsM2TsMode",t).checked(),X.EstimateContentLength=e("#chkEstimateContentLength",t).checked(),X.TranscodeSeekInfo=e("#chkReportByteRangeRequests",t).checked()?"Bytes":"Auto",q&&U.TranscodingProfiles.push(X),b(t,U),X=null,e("#transcodingProfilePopup",t).popup("close")}function y(t,i){var o="";o+='<ul data-role="listview" data-inset="true" data-split-icon="delete">';for(var a,l=0,n=i.length;n>l;l++){var r=i[l];r.Type!==a&&(o+='<li data-role="list-divider">'+r.Type+"</li>",a=r.Type),o+="<li>",o+='<a data-profileindex="'+l+'" class="lnkEditSubProfile" href="#">',o+="<p>"+Globalize.translate("ValueContainer").replace("{0}",r.Container||z)+"</p>",r.Conditions&&r.Conditions.length&&(o+="<p>",o+=Globalize.translate("ValueConditions").replace("{0}",r.Conditions.map(function(e){return e.Property}).join(", ")),o+="</p>"),o+="</a>",o+='<a href="#" data-icon="delete" class="btnDeleteProfile" data-profileindex="'+l+'">Delete</a>',o+="</li>"}o+="</ul>";var d=e(".containerProfiles",t).html(o).trigger("create");e(".btnDeleteProfile",d).on("click",function(){var e=this.getAttribute("data-profileindex");M(t,e)}),e(".lnkEditSubProfile",d).on("click",function(){var e=parseInt(this.getAttribute("data-profileindex"));I(t,U.ContainerProfiles[e])})}function M(e,t){U.ContainerProfiles.splice(t,1),y(e,U.ContainerProfiles)}function I(t,i){q=null==i,i=i||{},X=i;var o=e("#containerProfilePopup",t);e("#selectContainerProfileType",o).val(i.Type||"Video").trigger("change"),e("#txtContainerProfileContainer",o).val(i.Container||""),e(".radioTabButton:first",o).trigger("click"),o.popup("open")}function T(t){X.Type=e("#selectContainerProfileType",t).val(),X.Container=e("#txtContainerProfileContainer",t).val(),q&&U.ContainerProfiles.push(X),b(t,U),X=null,e("#containerProfilePopup",t).popup("close")}function S(t,i){var o="";o+='<ul data-role="listview" data-inset="true" data-split-icon="delete">';for(var a,l=0,n=i.length;n>l;l++){var r=i[l],d=r.Type.replace("VideoAudio","Video Audio");d!==a&&(o+='<li data-role="list-divider">'+d+"</li>",a=d),o+="<li>",o+='<a data-profileindex="'+l+'" class="lnkEditSubProfile" href="#">',o+="<p>"+Globalize.translate("ValueCodec").replace("{0}",r.Codec||z)+"</p>",r.Conditions&&r.Conditions.length&&(o+="<p>",o+=Globalize.translate("ValueConditions").replace("{0}",r.Conditions.map(function(e){return e.Property}).join(", ")),o+="</p>"),o+="</a>",o+='<a href="#" data-icon="delete" class="btnDeleteProfile" data-profileindex="'+l+'">Delete</a>',o+="</li>"}o+="</ul>";var c=e(".codecProfiles",t).html(o).trigger("create");e(".btnDeleteProfile",c).on("click",function(){var e=this.getAttribute("data-profileindex");k(t,e)}),e(".lnkEditSubProfile",c).on("click",function(){var e=parseInt(this.getAttribute("data-profileindex"));V(t,U.CodecProfiles[e])})}function k(e,t){U.CodecProfiles.splice(t,1),S(e,U.CodecProfiles)}function V(t,i){q=null==i,i=i||{},X=i;var o=e("#codecProfilePopup",t);e("#selectCodecProfileType",o).val(i.Type||"Video").trigger("change"),e("#txtCodecProfileCodec",o).val(i.Codec||""),e(".radioTabButton:first",o).trigger("click"),o.popup("open")}function R(t){X.Type=e("#selectCodecProfileType",t).val(),X.Codec=e("#txtCodecProfileCodec",t).val(),q&&U.CodecProfiles.push(X),b(t,U),X=null,e("#codecProfilePopup",t).popup("close")}function F(t,i){var o="";o+='<ul data-role="listview" data-inset="true" data-split-icon="delete">';for(var a,l=0,n=i.length;n>l;l++){var r=i[l];r.Type!==a&&(o+='<li data-role="list-divider">'+r.Type+"</li>",a=r.Type),o+="<li>",o+='<a data-profileindex="'+l+'" class="lnkEditSubProfile" href="#">',o+="<p>"+Globalize.translate("ValueContainer").replace("{0}",r.Container||z)+"</p>","Video"==r.Type?(o+="<p>"+Globalize.translate("ValueVideoCodec").replace("{0}",r.VideoCodec||z)+"</p>",o+="<p>"+Globalize.translate("ValueAudioCodec").replace("{0}",r.AudioCodec||z)+"</p>"):"Audio"==r.Type&&(o+="<p>"+Globalize.translate("ValueCodec").replace("{0}",r.AudioCodec||z)+"</p>"),r.Conditions&&r.Conditions.length&&(o+="<p>",o+=Globalize.translate("ValueConditions").replace("{0}",r.Conditions.map(function(e){return e.Property}).join(", ")),o+="</p>"),o+="</a>",o+='<a href="#" data-icon="delete" class="btnDeleteProfile" data-profileindex="'+l+'">Delete</a>',o+="</li>"}o+="</ul>";var d=e(".mediaProfiles",t).html(o).trigger("create");e(".btnDeleteProfile",d).on("click",function(){var e=this.getAttribute("data-profileindex");N(t,e)}),e(".lnkEditSubProfile",d).on("click",function(){var e=parseInt(this.getAttribute("data-profileindex"));E(t,U.ResponseProfiles[e])})}function N(e,t){U.ResponseProfiles.splice(t,1),F(e,U.ResponseProfiles)}function E(t,i){q=null==i,i=i||{},X=i;var o=e("#responseProfilePopup",t);e("#selectResponseProfileType",o).val(i.Type||"Video").trigger("change"),e("#txtResponseProfileContainer",o).val(i.Container||""),e("#txtResponseProfileAudioCodec",o).val(i.AudioCodec||""),e("#txtResponseProfileVideoCodec",o).val(i.VideoCodec||""),e(".radioTabButton:first",o).trigger("click"),o.popup("open")}function w(t){X.Type=e("#selectResponseProfileType",t).val(),X.Container=e("#txtResponseProfileContainer",t).val(),X.AudioCodec=e("#txtResponseProfileAudioCodec",t).val(),X.VideoCodec=e("#txtResponseProfileVideoCodec",t).val(),q&&U.ResponseProfiles.push(X),b(t,U),X=null,e("#responseProfilePopup",t).popup("close")}function H(e,t){B(e,t);var i=getParameterByName("id");i?ApiClient.ajax({type:"POST",url:ApiClient.getUrl("Dlna/Profiles/"+i),data:JSON.stringify(t),contentType:"application/json"}).then(function(){require(["toast"],function(e){e("Settings saved.")})}):ApiClient.ajax({type:"POST",url:ApiClient.getUrl("Dlna/Profiles"),data:JSON.stringify(t),contentType:"application/json"}).then(function(){Dashboard.navigate("dlnaprofiles.html")}),Dashboard.hideLoadingMsg()}function B(t,i){i.Name=e("#txtName",t).val(),i.EnableAlbumArtInDidl=e("#chkEnableAlbumArtInDidl",t).checked(),i.EnableSingleAlbumArtLimit=e("#chkEnableSingleImageLimit",t).checked(),i.SupportedMediaTypes=e(".chkMediaType:checked",t).get().map(function(e){return e.getAttribute("data-value")}).join(","),i.Identification=i.Identification||{},i.FriendlyName=e("#txtInfoFriendlyName",t).val(),i.ModelName=e("#txtInfoModelName",t).val(),i.ModelNumber=e("#txtInfoModelNumber",t).val(),i.ModelDescription=e("#txtInfoModelDescription",t).val(),i.ModelUrl=e("#txtInfoModelUrl",t).val(),i.Manufacturer=e("#txtInfoManufacturer",t).val(),i.ManufacturerUrl=e("#txtInfoManufacturerUrl",t).val(),i.SerialNumber=e("#txtInfoSerialNumber",t).val(),i.Identification.FriendlyName=e("#txtIdFriendlyName",t).val(),i.Identification.ModelName=e("#txtIdModelName",t).val(),i.Identification.ModelNumber=e("#txtIdModelNumber",t).val(),i.Identification.ModelDescription=e("#txtIdModelDescription",t).val(),i.Identification.ModelUrl=e("#txtIdModelUrl",t).val(),i.Identification.Manufacturer=e("#txtIdManufacturer",t).val(),i.Identification.ManufacturerUrl=e("#txtIdManufacturerUrl",t).val(),i.Identification.SerialNumber=e("#txtIdSerialNumber",t).val(),i.Identification.DeviceDescription=e("#txtIdDeviceDescription",t).val(),i.AlbumArtPn=e("#txtAlbumArtPn",t).val(),i.MaxAlbumArtWidth=e("#txtAlbumArtMaxWidth",t).val(),i.MaxAlbumArtHeight=e("#txtAlbumArtMaxHeight",t).val(),i.MaxIconWidth=e("#txtIconMaxWidth",t).val(),i.MaxIconHeight=e("#txtIconMaxHeight",t).val(),i.RequiresPlainFolders=e("#chkRequiresPlainFolders",t).checked(),i.RequiresPlainVideoItems=e("#chkRequiresPlainVideoItems",t).checked(),i.IgnoreTranscodeByteRangeRequests=e("#chkIgnoreTranscodeByteRangeRequests",t).checked(),i.MaxStreamingBitrate=e("#txtMaxAllowedBitrate",t).val(),i.MusicStreamingTranscodingBitrate=e("#txtMusicStreamingTranscodingBitrate",t).val(),i.ProtocolInfo=e("#txtProtocolInfo",t).val(),i.XDlnaCap=e("#txtXDlnaCap",t).val(),i.XDlnaDoc=e("#txtXDlnaDoc",t).val(),i.SonyAggregationFlags=e("#txtSonyAggregationFlags",t).val(),i.UserId=e("#selectUser",t).val()}var U,X,q,z=Globalize.translate("LabelAll");e(t).on("pageinit","#dlnaProfilePage",function(){var t=this;e(".radioTabButton",t).on("click",function(){e(this).siblings().removeClass("ui-btn-active"),e(this).addClass("ui-btn-active");var i="A"==this.tagName?this.getAttribute("data-value"):this.value,o=e("."+i,t);o.siblings(".tabContent").hide(),o.show()}),e("#selectDirectPlayProfileType",t).on("change",function(){"Video"==this.value?e("#fldDirectPlayVideoCodec",t).show():e("#fldDirectPlayVideoCodec",t).hide(),"Photo"==this.value?e("#fldDirectPlayAudioCodec",t).hide():e("#fldDirectPlayAudioCodec",t).show()}),e("#selectTranscodingProfileType",t).on("change",function(){"Video"==this.value?(e("#fldTranscodingVideoCodec",t).show(),e("#fldTranscodingProtocol",t).show(),e("#fldEnableMpegtsM2TsMode",t).show()):(e("#fldTranscodingVideoCodec",t).hide(),e("#fldTranscodingProtocol",t).hide(),e("#fldEnableMpegtsM2TsMode",t).hide()),"Photo"==this.value?(e("#fldTranscodingAudioCodec",t).hide(),e("#fldEstimateContentLength",t).hide(),e("#fldReportByteRangeRequests",t).hide()):(e("#fldTranscodingAudioCodec",t).show(),e("#fldEstimateContentLength",t).show(),e("#fldReportByteRangeRequests",t).show())}),e("#selectResponseProfileType",t).on("change",function(){"Video"==this.value?e("#fldResponseProfileVideoCodec",t).show():e("#fldResponseProfileVideoCodec",t).hide(),"Photo"==this.value?e("#fldResponseProfileAudioCodec",t).hide():e("#fldResponseProfileAudioCodec",t).show()}),e(".btnAddDirectPlayProfile",t).on("click",function(){v(t)}),e(".btnAddTranscodingProfile",t).on("click",function(){C(t)}),e(".btnAddContainerProfile",t).on("click",function(){I(t)}),e(".btnAddCodecProfile",t).on("click",function(){V(t)}),e(".btnAddResponseProfile",t).on("click",function(){E(t)}),e(".btnAddIdentificationHttpHeader",t).on("click",function(){r(t)}),e(".btnAddXmlDocumentAttribute",t).on("click",function(){s(t)}),e(".btnAddSubtitleProfile",t).on("click",function(){p(t)}),e(".dlnaProfileForm").off("submit",DlnaProfilePage.onSubmit).on("submit",DlnaProfilePage.onSubmit),e(".editDirectPlayProfileForm").off("submit",DlnaProfilePage.onDirectPlayFormSubmit).on("submit",DlnaProfilePage.onDirectPlayFormSubmit),e(".transcodingProfileForm").off("submit",DlnaProfilePage.onTranscodingProfileFormSubmit).on("submit",DlnaProfilePage.onTranscodingProfileFormSubmit),e(".containerProfileForm").off("submit",DlnaProfilePage.onContainerProfileFormSubmit).on("submit",DlnaProfilePage.onContainerProfileFormSubmit),e(".codecProfileForm").off("submit",DlnaProfilePage.onCodecProfileFormSubmit).on("submit",DlnaProfilePage.onCodecProfileFormSubmit),e(".editResponseProfileForm").off("submit",DlnaProfilePage.onResponseProfileFormSubmit).on("submit",DlnaProfilePage.onResponseProfileFormSubmit),e(".identificationHeaderForm").off("submit",DlnaProfilePage.onIdentificationHeaderFormSubmit).on("submit",DlnaProfilePage.onIdentificationHeaderFormSubmit),e(".xmlAttributeForm").off("submit",DlnaProfilePage.onXmlAttributeFormSubmit).on("submit",DlnaProfilePage.onXmlAttributeFormSubmit),e(".subtitleProfileForm").off("submit",DlnaProfilePage.onSubtitleProfileFormSubmit).on("submit",DlnaProfilePage.onSubtitleProfileFormSubmit)}).on("pageshow","#dlnaProfilePage",function(){var t=this;e("#radioInfo",t).trigger("click"),o(t)}),i.DlnaProfilePage={onSubmit:function(){Dashboard.showLoadingMsg();var t=this,i=e(t).parents(".page");return H(i,U),!1},onDirectPlayFormSubmit:function(){var t=this,i=e(t).parents(".page");return g(i),!1},onTranscodingProfileFormSubmit:function(){var t=this,i=e(t).parents(".page");return D(i),!1},onContainerProfileFormSubmit:function(){var t=this,i=e(t).parents(".page");return T(i),!1},onCodecProfileFormSubmit:function(){var t=this,i=e(t).parents(".page");return R(i),!1},onResponseProfileFormSubmit:function(){var t=this,i=e(t).parents(".page");return w(i),!1},onIdentificationHeaderFormSubmit:function(){var t=this,i=e(t).parents(".page");return d(i),!1},onXmlAttributeFormSubmit:function(){var t=this,i=e(t).parents(".page");return u(i),!1},onSubtitleProfileFormSubmit:function(){var t=this,i=e(t).parents(".page");return P(i),!1}}}(jQuery,document,window);