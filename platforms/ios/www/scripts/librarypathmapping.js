!function(t,n){function i(t,n){Dashboard.confirm(Globalize.translate("MessageConfirmPathSubstitutionDeletion"),Globalize.translate("HeaderConfirmDeletion"),function(i){i&&ApiClient.getServerConfiguration().then(function(i){i.PathSubstitutions.splice(n,1),ApiClient.updateServerConfiguration(i).then(function(){r(t)})})})}function e(n,i){i.PathSubstitutions.push({From:t("#txtFrom",n).val(),To:t("#txtTo",n).val()})}function a(n,e){var a=0,o=e.PathSubstitutions.map(function(t){var n="<tr>";return n+='<td style="vertical-align:middle;">',n+=t.From,n+="</td>",n+='<td style="vertical-align:middle;">',n+=t.To,n+="</td>",n+="<td>",n+='<paper-icon-button data-index="'+a+'" icon="delete" class="btnDeletePath"></paper-icon-button>',n+="</td>",n+="</tr>",a++,n}),r=t(".tbodyPathSubstitutions",n).html(o.join("")).parents("table").table("refresh").trigger("create");t(".btnDeletePath",r).on("click",function(){i(n,parseInt(this.getAttribute("data-index")))}),e.PathSubstitutions.length?t("#tblPaths",n).show():t("#tblPaths",n).hide()}function o(t,n){l=n,a(t,n),Dashboard.hideLoadingMsg()}function r(n){t("#txtFrom",n).val(""),t("#txtTo",n).val(""),ApiClient.getServerConfiguration().then(function(t){o(n,t)})}function u(){Dashboard.showLoadingMsg();var n=this,i=t(n).parents(".page");return ApiClient.getServerConfiguration().then(function(t){e(i,t),ApiClient.updateServerConfiguration(t).then(function(){r(i)})}),!1}var l;t(n).on("pageinit","#libraryPathMappingPage",function(){t(".libraryPathMappingForm").off("submit",u).on("submit",u)}).on("pageshow","#libraryPathMappingPage",function(){Dashboard.showLoadingMsg();var t=this;ApiClient.getServerConfiguration().then(function(n){o(t,n)})}).on("pagebeforehide","#libraryPathMappingPage",function(){l=null})}(jQuery,document,window);