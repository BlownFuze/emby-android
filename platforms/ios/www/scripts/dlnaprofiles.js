!function(e,i){function n(e){Dashboard.showLoadingMsg(),ApiClient.getJSON(ApiClient.getUrl("Dlna/ProfileInfos")).then(function(i){t(e,i),o(e,i),Dashboard.hideLoadingMsg()})}function t(e,i){r(e,e.querySelector(".customProfiles"),i.filter(function(e){return"User"==e.Type}))}function o(e,i){r(e,e.querySelector(".systemProfiles"),i.filter(function(e){return"System"==e.Type}))}function r(i,n,t){require(["paper-fab","paper-item-body","paper-icon-item"],function(){var o="";t.length&&(o+='<div class="paperList">');for(var r=0,l=t.length;l>r;r++){var f=t[r];o+="<paper-icon-item>",o+="<a item-icon class='clearLink' href='dlnaprofile.html?id="+f.Id+"'>",o+='<paper-fab mini icon="dvr" class="blue"></paper-fab>',o+="</a>",o+="<paper-item-body two-line>",o+="<a class='clearLink' href='dlnaprofile.html?id="+f.Id+"'>",o+="<div>"+f.Name+"</div>",o+="</a>",o+="</paper-item-body>","User"==f.Type&&(o+='<paper-icon-button icon="delete" class="btnDeleteProfile" data-profileid="'+f.Id+'" title="'+Globalize.translate("ButtonDelete")+'"></paper-icon-button>'),o+="</paper-icon-item>"}t.length&&(o+="</div>"),n.innerHTML=o,e(".btnDeleteProfile",n).on("click",function(){var e=this.getAttribute("data-profileid");a(i,e)})})}function a(e,i){require(["confirm"],function(t){t(Globalize.translate("MessageConfirmProfileDeletion"),Globalize.translate("HeaderConfirmProfileDeletion")).then(function(){Dashboard.showLoadingMsg(),ApiClient.ajax({type:"DELETE",url:ApiClient.getUrl("Dlna/Profiles/"+i)}).then(function(){Dashboard.hideLoadingMsg(),n(e)})})})}e(i).on("pageshow","#dlnaProfilesPage",function(){var e=this;n(e)})}(jQuery,document,window);