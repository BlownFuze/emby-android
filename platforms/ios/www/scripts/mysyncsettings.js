define(["appSettings","apphost","emby-checkbox","emby-select","emby-input"],function(e,t){function c(t){t.querySelector("#txtSyncPath").value=e.syncPath()||"",t.querySelector("#chkWifi").checked=e.syncOnlyOnWifi(),t.querySelector(".selectAudioBitrate").value=e.maxStaticMusicBitrate()||""}function r(t){var c=t.querySelector("#txtSyncPath").value;e.syncPath(c),e.syncOnlyOnWifi(t.querySelector("#chkWifi").checked),e.maxStaticMusicBitrate(t.querySelector(".selectAudioBitrate").value||null)}return function(e){e.querySelector("form").addEventListener("submit",function(t){return r(e),t.preventDefault(),!1}),e.querySelector("#btnSelectSyncPath").addEventListener("click",function(){require(["nativedirectorychooser"],function(){NativeDirectoryChooser.chooseDirectory().then(function(t){t&&(e.querySelector("#txtSyncPath").value=t)})})}),e.addEventListener("viewshow",function(){var e=this,r=getParameterByName("userId")||Dashboard.getCurrentUserId();ApiClient.getUser(r).then(function(t){c(e,t)}),t.supports("customsyncpath")?e.querySelector(".fldSyncPath").classList.remove("hide"):e.querySelector(".fldSyncPath").classList.add("hide")}),e.addEventListener("viewbeforehide",function(){r(this)})}});