define(["datetime"],function(e){function t(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function a(){return t()?"overflowSquare":"square"}function r(r,n){n=n||{};var i,s,o=r.map(function(e){return e.Type="Timer",e}),u=[],l="",m=[];for(i=0,s=o.length;s>i;i++){var d=o[i],h="";if(n.indexByDate!==!1&&d.StartDate)try{var c=e.parseISO8601Date(d.StartDate,!0);h=LibraryBrowser.getFutureDateText(c,!0)}catch(f){}h!=l?(m.length&&u.push({name:l,items:m}),l=h,m=[d]):m.push(d)}m.length&&u.push({name:l,items:m});var v="";for(i=0,s=u.length;s>i;i++){var y=u[i];y.name&&(v+='<div class="homePageSection">',v+='<h1 class="listHeader">'+y.name+"</h1>"),v+=t()?'<div class="itemsContainer hiddenScrollX">':'<div class="itemsContainer">',v+=LibraryBrowser.getPosterViewHtml({items:y.items,shape:a(),showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0,defaultAction:"edit"}),v+="</div>",y.name&&(v+="</div>")}return Promise.resolve(v)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},getTimersHtml:r}});