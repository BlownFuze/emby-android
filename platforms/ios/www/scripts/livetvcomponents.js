define(["datetime","cardBuilder"],function(e,a){function t(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function r(){return t()?"overflowSquare":"square"}function n(n,i){i=i||{};var s,o,m=n.map(function(e){return e.Type="Timer",e}),u=[],d="",l=[];for(s=0,o=m.length;o>s;s++){var c=m[s],h="";if(i.indexByDate!==!1&&c.StartDate)try{var v=e.parseISO8601Date(c.StartDate,!0);h=LibraryBrowser.getFutureDateText(v,!0)}catch(y){}h!=d?(l.length&&u.push({name:d,items:l}),d=h,l=[c]):l.push(c)}l.length&&u.push({name:d,items:l});var f="";for(s=0,o=u.length;o>s;s++){var p=u[s];p.name&&(f+='<div class="homePageSection">',f+='<h1 class="listHeader">'+p.name+"</h1>"),f+=t()?'<div is="emby-itemscontainer" class="itemsContainer hiddenScrollX">':'<div is="emby-itemscontainer" class="itemsContainer vertical-wrap">',f+=a.getCardsHtml({items:p.items,shape:r(),showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,action:"edit"}),f+="</div>",p.name&&(f+="</div>")}return Promise.resolve(f)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},getTimersHtml:n}});