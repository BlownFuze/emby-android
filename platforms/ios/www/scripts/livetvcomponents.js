define(["datetime"],function(e){function t(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function a(){return t()?"overflowSquare":"square"}function r(r,n){n=n||{};var i,s,o=r.map(function(e){return e.Type="Timer",e}),m=[],u="",d=[];for(i=0,s=o.length;s>i;i++){var l=o[i],c="";if(n.indexByDate!==!1&&l.StartDate)try{var h=e.parseISO8601Date(l.StartDate,!0);c=LibraryBrowser.getFutureDateText(h,!0)}catch(y){}c!=u?(d.length&&m.push({name:u,items:d}),u=c,d=[l]):d.push(l)}d.length&&m.push({name:u,items:d});var f="";for(i=0,s=m.length;s>i;i++){var v=m[i];v.name&&(f+='<div class="homePageSection">',f+='<h1 class="listHeader">'+v.name+"</h1>"),f+=t()?'<div is="emby-itemscontainer" class="itemsContainer hiddenScrollX">':'<div is="emby-itemscontainer" class="itemsContainer">',f+=LibraryBrowser.getPosterViewHtml({items:v.items,shape:a(),showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,defaultAction:"edit"}),f+="</div>",v.name&&(f+="</div>")}return Promise.resolve(f)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},getTimersHtml:r}});