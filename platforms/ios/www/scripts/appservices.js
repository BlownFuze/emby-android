define(["jQuery"],function(e){function t(e){Dashboard.showLoadingMsg();var t=ApiClient.getAvailablePlugins({TargetSystems:"Server"}),i=ApiClient.getInstalledPlugins();Promise.all([t,i]).then(function(t){a(e,t[0],t[1]),n(e,t[0],t[1])})}function i(){var e=getParameterByName("context"),t=[];return"sync"==e?t.push("Sync"):"livetv"==e?t.push("Live TV"):"notifications"==e&&t.push("Notifications"),t}function a(e,t,a){requirejs(["scripts/pluginspage"],function(){var n=i()[0];a=a.filter(function(e){var i=t.filter(function(t){return t.guid==e.Id})[0];return i?i.category==n:!1}),PluginsPage.renderPlugins(e,a)})}function n(t,a,n){requirejs(["scripts/plugincatalogpage"],function(){var r=i();PluginCatalog.renderCatalog({catalogElement:e(".catalog",t),availablePlugins:a,installedPlugins:n,categories:r,showCategory:!1,context:getParameterByName("context"),targetSystem:"Server"})})}e(document).on("pagebeforeshow pageshow","#appServicesPage",function(){var e=this,t=getParameterByName("context");"sync"==t?(Dashboard.setPageTitle(Globalize.translate("TitleSync")),e.setAttribute("data-helpurl","https://github.com/MediaBrowser/Wiki/wiki/Sync")):"livetv"==t?(Dashboard.setPageTitle(Globalize.translate("TitleLiveTV")),e.setAttribute("data-helpurl","https://github.com/MediaBrowser/Wiki/wiki/Live%20TV")):"notifications"==t&&(Dashboard.setPageTitle(Globalize.translate("TitleNotifications")),e.setAttribute("data-helpurl","https://github.com/MediaBrowser/Wiki/wiki/Notifications"))}).on("pageshow","#appServicesPage",function(){var e=this;t(e)})});