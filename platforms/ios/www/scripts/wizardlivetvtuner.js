define(["jQuery"],function(e){function n(n){Dashboard.showLoadingMsg();var t=ApiClient;t.getJSON(t.getUrl("Startup/Configuration")).then(function(a){a.LiveTvTunerType=e("#selectTunerType",n).val(),a.LiveTvTunerPath=e(".txtDevicePath",n).val(),t.ajax({type:"POST",data:a,url:t.getUrl("Startup/Configuration")}).then(function(){Dashboard.hideLoadingMsg(),i(a)},function(){Dashboard.hideLoadingMsg(),Dashboard.alert({message:Globalize.translate("ErrorSavingTvProvider")})})})}function t(n){Dashboard.showLoadingMsg();var t=ApiClient;t.getJSON(t.getUrl("Startup/Configuration")).then(function(t){e("#selectTunerType",n).val(t.LiveTvTunerType||"hdhomerun"),n.querySelector(".txtDevicePath").value=t.LiveTvTunerPath||"",Dashboard.hideLoadingMsg()})}function i(e){e.LiveTvTunerPath&&e.LiveTvTunerType?Dashboard.navigate("wizardlivetvguide.html"):a()}function a(){require(["scripts/wizardcontroller"],function(e){e.navigateToComponents()})}function r(){var e=this;return n(e),!1}e(document).on("pageinit","#wizardTunerPage",function(){var n=this;e("form",n).off("submit",r).on("submit",r),e(".btnSkip",n).on("click",a)}).on("pageshow","#wizardTunerPage",function(){var e=this;t(e)})});