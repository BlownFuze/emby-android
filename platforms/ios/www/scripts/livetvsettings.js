define(["jQuery"],function(e){function n(n,i){e(".liveTvSettingsForm",n).show(),e(".noLiveTvServices",n).hide(),e("#selectGuideDays",n).val(i.GuideDays||""),e("#chkMovies",n).checked(i.EnableMovieProviders),e("#chkOrganize",n).checked(i.EnableAutoOrganize),e("#chkConvertRecordings",n).checked(i.EnableRecordingEncoding),e("#txtRecordingPath",n).val(i.RecordingPath||""),e("#txtPrePaddingMinutes",n).val(i.PrePaddingSeconds/60),e("#txtPostPaddingMinutes",n).val(i.PostPaddingSeconds/60),Dashboard.hideLoadingMsg()}function i(){Dashboard.showLoadingMsg();var n=this;return ApiClient.getNamedConfiguration("livetv").then(function(i){i.GuideDays=e("#selectGuideDays",n).val()||null,i.EnableMovieProviders=e("#chkMovies",n).checked(),i.EnableAutoOrganize=e("#chkOrganize",n).checked(),i.EnableRecordingEncoding=e("#chkConvertRecordings",n).checked(),i.RecordingPath=e("#txtRecordingPath",n).val()||null,i.PrePaddingSeconds=60*e("#txtPrePaddingMinutes",n).val(),i.PostPaddingSeconds=60*e("#txtPostPaddingMinutes",n).val(),ApiClient.updateNamedConfiguration("livetv",i).then(Dashboard.processServerConfigurationUpdateResult)}),!1}e(document).on("pageinit","#liveTvSettingsPage",function(){var n=this;e(".liveTvSettingsForm").off("submit",i).on("submit",i),e("#btnSelectRecordingPath",n).on("click.selectDirectory",function(){require(["directorybrowser"],function(i){var t=new i;t.show({callback:function(i){i&&e("#txtRecordingPath",n).val(i),t.close()}})})})}).on("pageshow","#liveTvSettingsPage",function(){Dashboard.showLoadingMsg();var e=this;ApiClient.getNamedConfiguration("livetv").then(function(i){n(e,i)}),e.querySelector(".btnSupporterForConverting a").href=AppInfo.enableSupporterMembership?"https://emby.media/premiere":"#"})});