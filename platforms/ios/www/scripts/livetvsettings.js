!function(e,i){function n(i,n){e(".liveTvSettingsForm",i).show(),e(".noLiveTvServices",i).hide(),e("#selectGuideDays",i).val(n.GuideDays||""),e("#chkMovies",i).checked(n.EnableMovieProviders),e("#chkOrganize",i).checked(n.EnableAutoOrganize),e("#txtRecordingPath",i).val(n.RecordingPath||""),e("#txtPrePaddingMinutes",i).val(n.PrePaddingSeconds/60),e("#txtPostPaddingMinutes",i).val(n.PostPaddingSeconds/60),Dashboard.hideLoadingMsg()}function t(){Dashboard.showLoadingMsg();var i=this;return ApiClient.getNamedConfiguration("livetv").then(function(n){n.GuideDays=e("#selectGuideDays",i).val()||null,n.EnableMovieProviders=e("#chkMovies",i).checked(),n.EnableAutoOrganize=e("#chkOrganize",i).checked(),n.RecordingPath=e("#txtRecordingPath",i).val()||null,n.PrePaddingSeconds=60*e("#txtPrePaddingMinutes",i).val(),n.PostPaddingSeconds=60*e("#txtPostPaddingMinutes",i).val(),ApiClient.updateNamedConfiguration("livetv",n).then(Dashboard.processServerConfigurationUpdateResult)}),!1}e(i).on("pageinit","#liveTvSettingsPage",function(){var i=this;e(".liveTvSettingsForm").off("submit",t).on("submit",t),e("#btnSelectRecordingPath",i).on("click.selectDirectory",function(){require(["directorybrowser"],function(n){var t=new n;t.show({callback:function(n){n&&e("#txtRecordingPath",i).val(n),t.close()}})})})}).on("pageshow","#liveTvSettingsPage",function(){Dashboard.showLoadingMsg();var e=this;ApiClient.getNamedConfiguration("livetv").then(function(i){n(e,i)})})}(jQuery,document,window);