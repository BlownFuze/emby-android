define(["jQuery"],function(e){function t(a){Dashboard.showLoadingMsg(),ApiClient.getLiveTvRecordings(r).then(function(o){window.scrollTo(0,0);var n="";e(".listTopPaging",a).html(LibraryBrowser.getQueryPagingHtml({startIndex:r.StartIndex,limit:r.Limit,totalRecordCount:o.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1})),i();var s=e(window).width();n+=LibraryBrowser.getPosterViewHtml({items:o.Items,shape:"auto",showTitle:!0,showParentTitle:!0,overlayText:s>=600,coverImage:!0}),n+=LibraryBrowser.getQueryPagingHtml({startIndex:r.StartIndex,limit:r.Limit,totalRecordCount:o.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1});var d=a.querySelector("#items");d.innerHTML=n,ImageLoader.lazyChildren(d),e(".btnNextPage",a).on("click",function(){r.StartIndex+=r.Limit,t(a)}),e(".btnPreviousPage",a).on("click",function(){r.StartIndex-=r.Limit,t(a)}),e(".selectPageSize",a).on("change",function(){r.Limit=parseInt(this.value),r.StartIndex=0,t(a)}),"false"!=getParameterByName("savequery")&&LibraryBrowser.saveQueryValues("episodes",r),Dashboard.hideLoadingMsg()})}function i(){}var r={UserId:Dashboard.getCurrentUserId(),StartIndex:0,Fields:"CanDelete,PrimaryImageAspectRatio"};e(document).on("pageinit","#liveTvRecordingListPage",function(){}).on("pagebeforeshow","#liveTvRecordingListPage",function(){var a=this,o=LibraryBrowser.getDefaultPageSize();o!=r.Limit&&(r.Limit=o,r.StartIndex=0),LibraryBrowser.loadSavedQueryValues("episodes",r);var n=getParameterByName("groupid");r.GroupId=n,t(a),r.GroupId?ApiClient.getLiveTvRecordingGroup(r.GroupId).then(function(t){e(".listName",a).html(t.Name)}):e(".listName",a).html(Globalize.translate("HeaderAllRecordings")),i(this)})});