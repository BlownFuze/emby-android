!function(){function e(e){require(["paper-menu","paper-dialog","paper-dialog-scrollable","scale-up-animation","fade-out-animation"],function(){t(e)})}function t(e){var t,n="",o=$(window).height();e.positionTo&&o>=540&&(t=$(e.positionTo).offset(),t.top+=$(e.positionTo).innerHeight()/2,t.left+=$(e.positionTo).innerWidth()/2,t.top-=24,t.left-=24,t.top-=55*e.items.length/2,t.left-=80,t.top-=$(window).scrollTop(),t.left-=$(window).scrollLeft(),t.top=Math.min(t.top,$(window).height()-300),t.left=Math.min(t.left,$(window).width()-300),t.top=Math.max(t.top,0),t.left=Math.max(t.left,0)),e.title&&(n+="<h3>",n+=e.title,n+="</h3>");var i=!browserInfo.safari;i&&(n+="<paper-dialog-scrollable>");var a=e.items.filter(function(e){return e.ironIcon}),r=a.length,l=e.title&&(!a.length||a.length!=e.items.length);n+=l?'<paper-menu style="text-align:center;">':"<paper-menu>";for(var s=0,p=e.items.length;p>s;s++){var c=e.items[s];n+='<paper-menu-item class="actionSheetMenuItem" data-id="'+c.id+'" style="display:block;">',c.ironIcon?n+=l?'<iron-icon style="margin-right:.5em;" icon="'+c.ironIcon+'"></iron-icon>':'<iron-icon icon="'+c.ironIcon+'"></iron-icon>':r&&!l&&(n+="<iron-icon></iron-icon>"),n+="<span>"+c.name+"</span>",n+="</paper-menu-item>"}n+="</paper-menu>",i&&(n+="</paper-dialog-scrollable>"),e.showCancel&&(n+='<div class="buttons">',n+="<paper-button dialog-dismiss>"+Globalize.translate("ButtonCancel")+"</paper-button>",n+="</div>");var d=document.createElement("paper-dialog");d.setAttribute("with-backdrop","with-backdrop"),d.innerHTML=n,t&&(d.style.position="fixed",d.style.left=t.left+"px",d.style.top=t.top+"px"),document.body.appendChild(d),browserInfo.msie||(d.animationConfig={entry:{name:"scale-up-animation",node:d,timing:{duration:160,easing:"ease-out"}},exit:{name:"fade-out-animation",node:d,timing:{duration:200,easing:"ease-in"}}}),setTimeout(function(){d.open()},50),d.addEventListener("iron-overlay-closed",function(){d.parentNode.removeChild(d)});var m=browserInfo.chrome||browserInfo.safari?"click":"mousedown";$(".actionSheetMenuItem",d).on(m,function(){var t=this.getAttribute("data-id");setTimeout(function(){d.close(),e.callback&&e.callback(t)},100)})}window.ActionSheetElement={show:e}}();