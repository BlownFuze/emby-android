!function(){function t(t){require(["paper-menu","paper-dialog","scale-up-animation","fade-out-animation"],function(){e(t)})}function e(t){var e,o="",i=$(window).height();t.positionTo&&i>=540&&(e=$(t.positionTo).offset(),e.top+=$(t.positionTo).innerHeight()/2,e.left+=$(t.positionTo).innerWidth()/2,e.top-=24,e.left-=24,e.top-=55*t.items.length/2,e.left-=80,e.top-=$(window).scrollTop(),e.left-=$(window).scrollLeft(),e.top=Math.min(e.top,$(window).height()-300),e.left=Math.min(e.left,$(window).width()-300),e.top=Math.max(e.top,0),e.left=Math.max(e.left,0)),t.title&&(o+="<h3>",o+=t.title,o+="</h3>");var a=(!browserInfo.safari,t.items.filter(function(t){return t.ironIcon})),r=a.length,l=t.title&&(!a.length||a.length!=t.items.length);o+=l?'<paper-menu style="text-align:center;">':"<paper-menu>";for(var s=0,c=t.items.length;c>s;s++){var p=t.items[s];o+='<paper-menu-item class="actionSheetMenuItem" data-id="'+p.id+'" style="display:block;">',p.ironIcon?o+=l?'<iron-icon style="margin-right:.5em;" icon="'+p.ironIcon+'"></iron-icon>':'<iron-icon icon="'+p.ironIcon+'"></iron-icon>':r&&!l&&(o+="<iron-icon></iron-icon>"),o+="<span>"+p.name+"</span>",o+="</paper-menu-item>"}o+="</paper-menu>",t.showCancel&&(o+='<div class="buttons">',o+="<paper-button dialog-dismiss>"+Globalize.translate("ButtonCancel")+"</paper-button>",o+="</div>");var u=document.createElement("paper-dialog");u.setAttribute("with-backdrop","with-backdrop"),u.setAttribute("role","alertdialog"),u.setAttribute("noAutoFocus","noAutoFocus"),u.innerHTML=o,e&&(u.style.position="fixed",u.style.left=e.left+"px",u.style.top=e.top+"px"),document.body.appendChild(u),u.animationConfig={entry:{name:"scale-up-animation",node:u,timing:{duration:160,easing:"ease-out"}},exit:{name:"fade-out-animation",node:u,timing:{duration:200,easing:"ease-in"}}};var d=browserInfo.chrome?0:100;setTimeout(function(){u.open()},d),u.addEventListener("iron-overlay-closed",function(){u.parentNode.removeChild(u)});var m=browserInfo.chrome||browserInfo.safari?"click":"mousedown";u.addEventListener(m,function(e){var o=n(e.target,"actionSheetMenuItem");if(o){var i=o.getAttribute("data-id");setTimeout(function(){u.close(),t.callback&&t.callback(i)},100)}})}function n(t,e){for(;!t.classList||!t.classList.contains(e);)if(t=t.parentNode,!t)return null;return t}window.ActionSheetElement={show:t}}();