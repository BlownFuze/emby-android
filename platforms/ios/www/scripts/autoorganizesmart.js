!function(a,e){function t(a){Dashboard.showLoadingMsg(),ApiClient.getSmartMatchInfos(o).then(function(e){r=e,n(a,e),Dashboard.hideLoadingMsg()},function(){Dashboard.hideLoadingMsg()})}function n(e,t){var n=t.Items;n.length>0&&(n=n.sort(function(a,e){return a=a.OrganizerType+" "+(a.DisplayName||a.ItemName),e=e.OrganizerType+" "+(e.DisplayName||e.ItemName),a==e?0:e>a?-1:1}));var i="";n.length&&(i+='<div class="paperList">');for(var r=0,o=n.length;o>r;r++){var s=n[r];i+="<paper-icon-item>",i+='<paper-fab mini icon="folder" item-icon class="blue"></paper-fab>',i+=s.DisplayName||s.ItemName,i+="</paper-icon-item>";var c=0;i+=s.MatchStrings.map(function(a){var e="";return e+="<paper-icon-item>",e+="<paper-item-body>",e+="<div secondary>"+a+"</div>",e+="</paper-item-body>",e+='<paper-icon-button icon="delete" class="btnDeleteMatchEntry" data-index="'+r+'" data-matchindex="'+c+'" title="'+Globalize.translate("ButtonDelete")+'"></paper-icon-button>',e+="</paper-icon-item>",c++,e}).join("")}n.length&&(i+="</div>"),a(".divMatchInfos",e).html(i)}function i(){Dashboard.hideLoadingMsg(),Dashboard.alert({message:Globalize.translate("DefaultErrorMessage")})}var r,o={StartIndex:0,Limit:1e5};a(e).on("pageinit","#libraryFileOrganizerSmartMatchPage",function(){var e=this;a(".divMatchInfos",e).on("click",".btnDeleteMatchEntry",function(){var a=this,n=parseInt(a.getAttribute("data-index")),o=parseInt(a.getAttribute("data-matchindex")),s=r.Items[n],c=[{Name:s.ItemName,Value:s.MatchStrings[o]}];ApiClient.deleteSmartMatchEntries(c).then(function(){t(e)},i)})}).on("pageshow","#libraryFileOrganizerSmartMatchPage",function(){var a=this;Dashboard.showLoadingMsg(),t(a)}).on("pagebeforehide","#libraryFileOrganizerSmartMatchPage",function(){r=null})}(jQuery,document,window);