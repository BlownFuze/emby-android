!function(e,a){function t(e){Dashboard.showLoadingMsg(),ApiClient.getSmartMatchInfos(o).then(function(a){r=a,i(e,a),Dashboard.hideLoadingMsg()},function(){Dashboard.hideLoadingMsg()})}function i(a,t){var i=t.Items;i.length>0&&(i=i.sort(function(e,a){return e=e.OrganizerType+" "+(e.DisplayName||e.ItemName),a=a.OrganizerType+" "+(a.DisplayName||a.ItemName),e==a?0:a>e?-1:1}));var n="";i.length&&(n+='<div class="paperList">');for(var r=0,o=i.length;o>r;r++){var s=i[r];n+="<paper-icon-item>",n+='<paper-fab mini icon="folder" item-icon class="blue"></paper-fab>',n+=s.DisplayName||s.ItemName,n+="</paper-icon-item>";var c=0;n+=s.MatchStrings.map(function(e){var a="";return a+="<paper-icon-item>",a+="<paper-item-body>",a+="<div secondary>"+e+"</div>",a+="</paper-item-body>",a+='<paper-icon-button icon="delete" class="btnDeleteMatchEntry" data-index="'+r+'" data-matchindex="'+c+'" title="'+Globalize.translate("ButtonDelete")+'"></paper-icon-button>',a+="</paper-icon-item>",c++,a}).join("")}i.length&&(n+="</div>"),e(".divMatchInfos",a).html(n).trigger("create")}function n(){Dashboard.hideLoadingMsg(),Dashboard.alert({message:Globalize.translate("DefaultErrorMessage")})}var r,o={StartIndex:0,Limit:1e5};e(a).on("pageinit","#libraryFileOrganizerSmartMatchPage",function(){var a=this;e(".divMatchInfos",a).on("click",".btnDeleteMatchEntry",function(){var e=this,i=parseInt(e.getAttribute("data-index")),o=parseInt(e.getAttribute("data-matchindex")),s=r.Items[i],c=[{Name:s.ItemName,Value:s.MatchStrings[o]}];ApiClient.deleteSmartMatchEntries(c).then(function(){t(a)},n)})}).on("pageshow","#libraryFileOrganizerSmartMatchPage",function(){var e=this;Dashboard.showLoadingMsg(),t(e)}).on("pagebeforehide","#libraryFileOrganizerSmartMatchPage",function(){r=null})}(jQuery,document,window);