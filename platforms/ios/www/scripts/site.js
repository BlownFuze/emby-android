function pageClassOn(e,a,n){document.addEventListener(e,function(e){var t=e.target;t.classList.contains(a)&&n.call(t,e)})}function pageIdOn(e,a,n){document.addEventListener(e,function(e){var t=e.target;t.id==a&&n.call(t,e)})}!function(){function e(){document.removeEventListener("click",e),window.Notification&&Notification.requestPermission()}document.addEventListener("click",e)}(),window.Logger={log:function(e){}};var Dashboard={isConnectMode:function(){if(AppInfo.isNativeApp)return!0;var e=window.location.href.toLowerCase();return-1!=e.indexOf("mediabrowser.tv")||-1!=e.indexOf("emby.media")},isRunningInCordova:function(){return"cordova"==window.appMode},onRequestFail:function(e,a){if(401==a.status){var n=a.url.toLowerCase();return-1!=n.indexOf("emby.media")||-1!=n.indexOf("mb3admin.com")?void Dashboard.hideLoadingMsg():-1!=n.indexOf("/sync")?void Dashboard.hideLoadingMsg():void(-1!=n.indexOf("/password")||-1!=n.indexOf("/authenticate")||$($.mobile.activePage).is(".standalonePage")||("ParentalControl"==a.errorCode?Dashboard.alert({message:Globalize.translate("MessageLoggedOutParentalControl"),callback:function(){Dashboard.logout(!1)}}):Dashboard.logout(!1)))}},onPopupOpen:function(){Dashboard.popupCount=(Dashboard.popupCount||0)+1,document.body.classList.add("bodyWithPopupOpen")},onPopupClose:function(){Dashboard.popupCount=(Dashboard.popupCount||1)-1,Dashboard.popupCount||document.body.classList.remove("bodyWithPopupOpen")},getCurrentUser:function(){return window.ApiClient.getCurrentUser()},serverAddress:function(){if(Dashboard.isConnectMode()){var e=window.ApiClient;return e?e.serverAddress():null}var a=window.location.href.toLowerCase(),n=a.lastIndexOf("/web");if(-1!=n)return a.substring(0,n);var t=window.location,o=t.protocol+"//"+t.hostname;return t.port&&(o+=":"+t.port),o},getCurrentUserId:function(){var e=window.ApiClient;return e?e.getCurrentUserId():null},onServerChanged:function(e,a,n){n=n||window.ApiClient,window.ApiClient=n},logout:function(e){function a(){var e;Dashboard.isConnectMode()?(e="connectlogin.html",window.ApiClient=null):e="login.html",Dashboard.navigate(e)}e===!1?a():ConnectionManager.logout().then(a)},importCss:function(e){var a=e;if(e+="?v="+AppInfo.appVersion,Dashboard.importedCss||(Dashboard.importedCss=[]),-1==Dashboard.importedCss.indexOf(e))if(Dashboard.importedCss.push(e),document.createStyleSheet)document.createStyleSheet(e);else{var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("data-url",a),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.head.appendChild(n)}},removeStylesheet:function(e){var a=document.querySelector("link[data-url='"+e+"']");a&&a.parentNode.removeChild(a)},updateSystemInfo:function(e){Dashboard.lastSystemInfo=e,Dashboard.ensureWebSocket(),Dashboard.initialServerVersion||(Dashboard.initialServerVersion=e.Version),e.HasPendingRestart?(Dashboard.hideDashboardVersionWarning(),Dashboard.getCurrentUser().then(function(a){a.Policy.IsAdministrator&&Dashboard.showServerRestartWarning(e)})):(Dashboard.hideServerRestartWarning(),Dashboard.initialServerVersion!=e.Version&&Dashboard.showDashboardRefreshNotification()),Dashboard.showInProgressInstallations(e.InProgressInstallations)},showInProgressInstallations:function(e){e=e||[];for(var a=0,n=e.length;n>a;a++){var t=e[a],o=t.PercentComplete||0;100>o&&Dashboard.showPackageInstallNotification(t,"progress")}e.length?Dashboard.ensureInstallRefreshInterval():Dashboard.stopInstallRefreshInterval()},ensureInstallRefreshInterval:function(){Dashboard.installRefreshInterval||(ApiClient.isWebSocketOpen()&&ApiClient.sendWebSocketMessage("SystemInfoStart","0,500"),Dashboard.installRefreshInterval=1)},stopInstallRefreshInterval:function(){Dashboard.installRefreshInterval&&(ApiClient.isWebSocketOpen()&&ApiClient.sendWebSocketMessage("SystemInfoStop"),Dashboard.installRefreshInterval=null)},cancelInstallation:function(e){ApiClient.cancelPackageInstallation(e).then(Dashboard.refreshSystemInfoFromServer,Dashboard.refreshSystemInfoFromServer)},showServerRestartWarning:function(e){if(!AppInfo.isNativeApp){var a='<span style="margin-right: 1em;">'+Globalize.translate("MessagePleaseRestart")+"</span>";e.CanSelfRestart&&(a+='<paper-button raised class="submit mini" onclick="this.disabled=\'disabled\';Dashboard.restartServer();"><iron-icon icon="refresh"></iron-icon><span>'+Globalize.translate("ButtonRestart")+"</span></paper-button>"),Dashboard.showFooterNotification({id:"serverRestartWarning",html:a,forceShow:!0,allowHide:!1})}},hideServerRestartWarning:function(){var e=document.getElementById("serverRestartWarning");e&&e.parentNode.removeChild(e)},showDashboardRefreshNotification:function(){if(!AppInfo.isNativeApp){var e='<span style="margin-right: 1em;">'+Globalize.translate("MessagePleaseRefreshPage")+"</span>";e+='<paper-button raised class="submit mini" onclick="this.disabled=\'disabled\';Dashboard.reloadPage();"><iron-icon icon="refresh"></iron-icon><span>'+Globalize.translate("ButtonRefresh")+"</span></paper-button>",Dashboard.showFooterNotification({id:"dashboardVersionWarning",html:e,forceShow:!0,allowHide:!1})}},reloadPage:function(){window.location.reload(!0)},hideDashboardVersionWarning:function(){var e=document.getElementById("dashboardVersionWarning");e&&e.parentNode.removeChild(e)},showFooterNotification:function(e){var a=!e.id;if(e.id=e.id||"notification"+(new Date).getTime()+parseInt(Math.random()),!document.querySelector(".footer")){var n='<div id="footer" class="footer" data-theme="b" class="ui-bar-b">';n+='<div id="footerNotifications"></div>',n+="</div>",$(document.body).append(n)}var t=$(".footer").css("top","initial").show(),o=$("#footerNotifications",t),i=$("#"+e.id,o);i.length||(i=$('<p id="'+e.id+'" class="footerNotification"></p>').appendTo(o));var s=a?'jQuery("#'+e.id+'").trigger("notification.remove").remove();':'jQuery("#'+e.id+'").trigger("notification.hide").hide();';e.allowHide!==!1&&(e.html+="<span style='margin-left: 1em;'><paper-button class='submit' onclick='"+s+"'>"+Globalize.translate("ButtonHide")+"</paper-button></span>"),e.forceShow&&i.show(),i.html(e.html),e.timeout&&setTimeout(function(){a?i.trigger("notification.remove").remove():i.trigger("notification.hide").hide()},e.timeout),t.on("notification.remove notification.hide",function(){setTimeout(function(){o.html()||t.hide()},50)})},getConfigurationPageUrl:function(e){return"configurationpage?name="+encodeURIComponent(e)},navigate:function(e,a){if(!e)throw new Error("url cannot be null or empty");var n=getWindowLocationSearch();a&&n&&(e+=n),0!=e.indexOf("/")&&0!=e.indexOf("http")&&0!=e.indexOf("file:")&&(e="/"+e),Emby.Page.show(e)},showLoadingMsg:function(){Dashboard.loadingVisible=!0,require(["loading"],function(e){Dashboard.loadingVisible?e.show():e.hide()})},hideLoadingMsg:function(){Dashboard.loadingVisible=!1,require(["loading"],function(e){Dashboard.loadingVisible?e.show():e.hide()})},getModalLoadingMsg:function(){var e=document.querySelector(".modalLoading");return e||(e=document.createElement("modalLoading"),e.classList.add("modalLoading"),e.classList.add("hide"),document.body.appendChild(e)),e},showModalLoadingMsg:function(){Dashboard.getModalLoadingMsg().classList.remove("hide"),Dashboard.showLoadingMsg()},hideModalLoadingMsg:function(){Dashboard.getModalLoadingMsg().classList.add("hide"),Dashboard.hideLoadingMsg()},processPluginConfigurationUpdateResult:function(){Dashboard.hideLoadingMsg(),require(["toast"],function(e){e(Globalize.translate("MessageSettingsSaved"))})},processServerConfigurationUpdateResult:function(){Dashboard.hideLoadingMsg(),require(["toast"],function(e){e(Globalize.translate("MessageSettingsSaved"))})},alert:function(e){return"string"==typeof e?void require(["toast"],function(a){a({text:e})}):void require(["alert"],function(a){a({title:e.title||Globalize.translate("HeaderAlert"),text:e.message}).then(e.callback||function(){})})},refreshSystemInfoFromServer:function(){var e=ApiClient;e&&e.accessToken()&&(AppInfo.enableFooterNotifications?e.getSystemInfo().then(function(e){Dashboard.updateSystemInfo(e)}):Dashboard.ensureWebSocket())},restartServer:function(){Dashboard.suppressAjaxErrors=!0,Dashboard.showLoadingMsg(),ApiClient.restartServer().then(function(){setTimeout(function(){Dashboard.reloadPageWhenServerAvailable()},250)},function(){Dashboard.suppressAjaxErrors=!1})},reloadPageWhenServerAvailable:function(e){ApiClient.getJSON(ApiClient.getUrl("System/Info")).then(function(a){a.HasPendingRestart?Dashboard.retryReload(e):Dashboard.reloadPage()},function(){Dashboard.retryReload(e)})},retryReload:function(e){setTimeout(function(){e=e||0,e++,10>e?Dashboard.reloadPageWhenServerAvailable(e):Dashboard.suppressAjaxErrors=!1},500)},showUserFlyout:function(){Dashboard.navigate("mypreferencesmenu.html?userId="+ApiClient.getCurrentUserId())},getPluginSecurityInfo:function(){var e=ApiClient;if(!e)return Promise.reject();var a=Dashboard.pluginSecurityInfo;return a?Promise.resolve(a):e.ajax({type:"GET",url:e.getUrl("Plugins/SecurityInfo"),dataType:"json",error:function(){}}).then(function(e){return Dashboard.pluginSecurityInfo=e,e})},resetPluginSecurityInfo:function(){Dashboard.pluginSecurityInfo=null},ensureHeader:function(e){e.classList.contains("standalonePage")&&!e.classList.contains("noHeaderPage")&&Dashboard.renderHeader(e)},renderHeader:function(e){var a=e.querySelector(".header");if(!a){var n="";n+='<div class="header">',n+='<a class="logo" href="home.html" style="text-decoration:none;font-size: 22px;">',e.classList.contains("standalonePage")&&(n+='<img class="imgLogoIcon" src="css/images/mblogoicon.png" />',n+='<span class="logoLibraryMenuButtonText">EMBY</span>'),n+="</a>",n+="</div>",$(e).prepend(n)}},getToolsLinkHtml:function(e){var a="",n=e.pageIds?e.pageIds.join(","):"";n=n?' data-pageids="'+n+'"':"",a+='<a class="sidebarLink" href="'+e.href+'"'+n+">";var t=e.icon;if(t){var o=e.color?' style="color:'+e.color+'"':"";a+='<iron-icon icon="'+t+'" class="sidebarLinkIcon"'+o+"></iron-icon>"}return a+='<span class="sidebarLinkText">',a+=e.name,a+="</span>",a+="</a>"},getToolsMenuHtml:function(e){var a,n,t,o=Dashboard.getToolsMenuLinks(e),i="";for(i+='<div class="drawerContent">',a=0,n=o.length;n>a;a++)if(t=o[a],t.items){if(t.icon){{t.color?' style="color:'+t.color+'"':""}i+='<emby-collapsible icon="'+t.icon+'" title="'+t.name+'">'}else i+='<emby-collapsible title="'+t.name+'">';i+=t.items.map(Dashboard.getToolsLinkHtml).join(""),i+="</emby-collapsible>"}else t.href?i+=Dashboard.getToolsLinkHtml(t):(i+='<div class="sidebarHeader">',i+=t.name,i+="</div>");return i+="</div>"},getToolsMenuLinks:function(){return[{name:Globalize.translate("TabServer"),icon:"dashboard",color:"#38c",items:[{name:Globalize.translate("TabDashboard"),href:"dashboard.html",pageIds:["dashboardPage"],icon:"dashboard"},{name:Globalize.translate("TabSettings"),href:"dashboardgeneral.html",pageIds:["dashboardGeneralPage"],icon:"settings"},{name:Globalize.translate("TabDevices"),href:"devices.html",pageIds:["devicesPage"],icon:"tablet"},{name:Globalize.translate("TabUsers"),href:"userprofiles.html",pageIds:["userProfilesPage"],icon:"people"}]},{name:Globalize.translate("TabLibrary"),icon:"folder",items:[{name:Globalize.translate("TabFolders"),href:"library.html",pageIds:["mediaLibraryPage"],icon:"folder"},{name:Globalize.translate("TabMetadata"),href:"metadata.html",pageIds:["metadataConfigurationPage"],icon:"insert-drive-file"},{name:Globalize.translate("TabServices"),href:"metadataimages.html",pageIds:["metadataImagesConfigurationPage"],icon:"insert-drive-file"},{name:Globalize.translate("TabNfoSettings"),href:"metadatanfo.html",pageIds:["metadataNfoPage"],icon:"insert-drive-file"},{name:Globalize.translate("TabPathSubstitution"),href:"librarypathmapping.html",pageIds:["libraryPathMappingPage"],icon:"mode-edit"},{name:Globalize.translate("TabSubtitles"),href:"metadatasubtitles.html",pageIds:["metadataSubtitlesPage"],icon:"closed-caption"},{name:Globalize.translate("TabAdvanced"),href:"librarysettings.html",pageIds:["librarySettingsPage"],icon:"settings"}]},{name:Globalize.translate("DLNA"),icon:"live-tv",items:[{name:Globalize.translate("TabSettings"),href:"dlnasettings.html",pageIds:["dlnaSettingsPage"],icon:"settings"},{name:Globalize.translate("TabProfiles"),href:"dlnaprofiles.html",pageIds:["dlnaProfilesPage","dlnaProfilePage"],icon:"live-tv"}]},{name:Globalize.translate("TabLiveTV"),icon:"dvr",items:[{name:Globalize.translate("TabSettings"),href:"livetvstatus.html",pageIds:["liveTvStatusPage"],icon:"settings"},{name:Globalize.translate("TabAdvanced"),href:"livetvsettings.html",pageIds:["liveTvSettingsPage"],icon:"settings"},{name:Globalize.translate("TabServices"),href:"appservices.html?context=livetv",icon:"add-shopping-cart"}]},{name:Globalize.translate("TabPlayback"),icon:"play-circle-filled",items:[{name:Globalize.translate("TabCinemaMode"),href:"cinemamodeconfiguration.html",pageIds:["cinemaModeConfigurationPage"],icon:"local-movies"},{name:Globalize.translate("TabResumeSettings"),href:"playbackconfiguration.html",pageIds:["playbackConfigurationPage"],icon:"play-circle-filled"},{name:Globalize.translate("TabStreaming"),href:"streamingsettings.html",pageIds:["streamingSettingsPage"],icon:"wifi"},{name:Globalize.translate("TabTranscoding"),href:"encodingsettings.html",pageIds:["encodingSettingsPage"],icon:"play-circle-filled"}]},{name:Globalize.translate("TabPlugins"),icon:"add-shopping-cart",items:[{name:Globalize.translate("TabMyPlugins"),href:"plugins.html",pageIds:["pluginsPage"],icon:"file-download"},{name:Globalize.translate("TabCatalog"),href:"plugincatalog.html",pageIds:["pluginCatalogPage"],icon:"add-shopping-cart"}]},{name:Globalize.translate("TabSync"),icon:"sync",items:[{name:Globalize.translate("TabSyncJobs"),href:"syncactivity.html",pageIds:["syncActivityPage","syncJobPage"],icon:"menu"},{name:Globalize.translate("TabCameraUpload"),href:"devicesupload.html",pageIds:["devicesUploadPage"],icon:"photo"},{name:Globalize.translate("TabServices"),href:"appservices.html?context=sync",icon:"add-shopping-cart"},{name:Globalize.translate("TabSettings"),href:"syncsettings.html",pageIds:["syncSettingsPage"],icon:"settings"}]},{name:Globalize.translate("TabAdvanced"),icon:"settings",items:[{name:Globalize.translate("TabAutoOrganize"),href:"autoorganizelog.html",pageIds:["libraryFileOrganizerPage","libraryFileOrganizerSmartMatchPage","libraryFileOrganizerLogPage"],icon:"folder"},{name:Globalize.translate("TabHosting"),href:"dashboardhosting.html",pageIds:["dashboardHostingPage"],icon:"wifi"},{name:Globalize.translate("TabNotifications"),href:"notificationsettings.html",pageIds:["notificationSettingsPage","notificationSettingPage"],icon:"notifications"},{name:Globalize.translate("TabScheduledTasks"),href:"scheduledtasks.html",pageIds:["scheduledTasksPage","scheduledTaskPage"],icon:"schedule"},{name:Globalize.translate("TabSecurity"),href:"serversecurity.html",pageIds:["serverSecurityPage"],icon:"lock"}]},{name:Globalize.translate("TabHelp"),icon:"info",items:[{name:Globalize.translate("TabAbout"),href:"about.html",pageIds:["aboutPage"],icon:"info"},{name:Globalize.translate("TabLogs"),href:"log.html",pageIds:["logPage"],icon:"menu"},{name:Globalize.translate("TabEmbyPremiere"),href:"supporterkey.html",pageIds:["supporterKeyPage"],icon:"add-circle"}]}]},ensureWebSocket:function(){!ApiClient.isWebSocketOpenOrConnecting()&&ApiClient.isWebSocketSupported()&&(ApiClient.openWebSocket(),Dashboard.isConnectMode()||ApiClient.reportCapabilities(Dashboard.capabilities()))},processGeneralCommand:function(e){switch(e.Name){case"GoHome":Dashboard.navigate("home.html");break;case"GoToSettings":Dashboard.navigate("dashboard.html");break;case"DisplayContent":Dashboard.onBrowseCommand(e.Arguments);break;case"GoToSearch":Search.showSearchPanel();break;case"DisplayMessage":var a=e.Arguments;if(a.TimeoutMs&&window.Notification&&"granted"===Notification.permission){var n={title:a.Header,body:a.Text,vibrate:!0,timeout:a.TimeoutMs},t=new Notification(n.title,n);t.show&&t.show(),n.timeout&&setTimeout(function(){t.close?t.close():t.cancel&&t.cancel()},n.timeout)}else Dashboard.alert({title:a.Header,message:a.Text});break;case"VolumeUp":case"VolumeDown":case"Mute":case"Unmute":case"ToggleMute":case"SetVolume":case"SetAudioStreamIndex":case"SetSubtitleStreamIndex":case"ToggleFullscreen":case"SetRepeatMode":}},onWebSocketMessageReceived:function(e,a){var n=a;if("LibraryChanged"===n.MessageType)Dashboard.processLibraryUpdateNotification(n.Data);else if("ServerShuttingDown"===n.MessageType)Dashboard.hideServerRestartWarning();else if("ServerRestarting"===n.MessageType)Dashboard.hideServerRestartWarning();else if("SystemInfo"===n.MessageType)Dashboard.updateSystemInfo(n.Data);else if("RestartRequired"===n.MessageType)Dashboard.updateSystemInfo(n.Data);else if("PackageInstallationCompleted"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"completed"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstallationFailed"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"failed"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstallationCancelled"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"cancelled"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstalling"===n.MessaapiclientcgeType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"progress"),Dashboard.refreshSystemInfoFromServer())});else if("GeneralCommand"===n.MessageType){n.Data}},onBrowseCommand:function(e){var a,n=(e.ItemType||"").toLowerCase();return"genre"==n?a="itemdetails.html?id="+e.ItemId:"musicgenre"==n?a="itemdetails.html?id="+e.ItemId:"gamegenre"==n?a="itemdetails.html?id="+e.ItemId:"studio"==n?a="itemdetails.html?id="+e.ItemId:"person"==n?a="itemdetails.html?id="+e.ItemId:"musicartist"==n&&(a="itemdetails.html?id="+e.ItemId),a?void Dashboard.navigate(a):void ApiClient.getItem(Dashboard.getCurrentUserId(),e.ItemId).then(function(e){Dashboard.navigate(LibraryBrowser.getHref(e,null,""))})},showPackageInstallNotification:function(e,a){if(!AppInfo.isNativeApp){var n="";if("completed"==a?n+='<img src="css/images/notifications/done.png" class="notificationIcon" />':"cancelled"==a?n+='<img src="css/images/notifications/info.png" class="notificationIcon" />':"failed"==a?n+='<img src="css/images/notifications/error.png" class="notificationIcon" />':"progress"==a&&(n+='<img src="css/images/notifications/download.png" class="notificationIcon" />'),n+='<span style="margin-right: 1em;">',"completed"==a?n+=Globalize.translate("LabelPackageInstallCompleted").replace("{0}",e.Name+" "+e.Version):"cancelled"==a?n+=Globalize.translate("LabelPackageInstallCancelled").replace("{0}",e.Name+" "+e.Version):"failed"==a?n+=Globalize.translate("LabelPackageInstallFailed").replace("{0}",e.Name+" "+e.Version):"progress"==a&&(n+=Globalize.translate("LabelInstallingPackage").replace("{0}",e.Name+" "+e.Version)),n+="</span>","progress"==a){var t=Math.round(e.PercentComplete||0);n+='<progress style="margin-right: 1em;" max="100" value="'+t+'" title="'+t+'%">',n+=""+t+"%",n+="</progress>",100>t&&(n+="<paper-button raised class=\"cancelDark mini\" onclick=\"this.disabled='disabled';Dashboard.cancelInstallation('"+e.Id+'\');"><iron-icon icon="cancel"></iron-icon><span>'+Globalize.translate("ButtonCancel")+"</span></paper-button>")}var o=0;"cancelled"==a&&(o=2e3);var i="progress"!=a,s="progress"!=a&&"cancelled"!=a;Dashboard.showFooterNotification({html:n,id:e.Id,timeout:o,forceShow:i,allowHide:s})}},processLibraryUpdateNotification:function(e){var a=e.ItemsAdded;a.length&&!AppInfo.isNativeApp&&window.Notification&&"granted"===Notification.permission&&ApiClient.getItems(Dashboard.getCurrentUserId(),{Recursive:!0,Limit:3,Filters:"IsNotFolder",SortBy:"DateCreated",SortOrder:"Descending",ImageTypes:"Primary",Ids:a.join(",")}).then(function(e){for(var a=e.Items,n=0,t=Math.min(a.length,2);t>n;n++){var o=a[n],i={title:"New "+o.Type,body:o.Name,timeout:15e3,vibrate:!0,data:{options:{url:LibraryBrowser.getHref(o)}}},s=o.ImageTags||{};s.Primary&&(i.icon=ApiClient.getScaledImageUrl(o.Id,{width:60,tag:s.Primary,type:"Primary"}));var r=new Notification(i.title,i);r.show&&r.show(),i.timeout&&setTimeout(function(){r.close?r.close():r.cancel&&r.cancel()},i.timeout)}})},setPageTitle:function(e,a){LibraryMenu.setTitle(e||"Emby"),a=a||e,a&&(document.title=a)},getDisplayTime:function(e){var a=36e9,n=6e8,t=1e7,o=[],i=e/a;i=Math.floor(i),i&&o.push(i),e-=i*a;var s=e/n;s=Math.floor(s),e-=s*n,10>s&&i&&(s="0"+s),o.push(s);var r=e/t;return r=Math.floor(r),10>r&&(r="0"+r),o.push(r),o.join(":")},getSupportedRemoteCommands:function(){return["GoHome","GoToSettings","VolumeUp","VolumeDown","Mute","Unmute","ToggleMute","SetVolume","SetAudioStreamIndex","SetSubtitleStreamIndex","DisplayContent","GoToSearch","DisplayMessage","SetRepeatMode"]},isServerlessPage:function(){var e=window.location.href.toLowerCase();return-1!=e.indexOf("connectlogin.html")||-1!=e.indexOf("selectserver.html")||-1!=e.indexOf("login.html")||-1!=e.indexOf("forgotpassword.html")||-1!=e.indexOf("forgotpasswordpin.html")},capabilities:function(){var e={PlayableMediaTypes:["Audio","Video"],SupportedCommands:Dashboard.getSupportedRemoteCommands(),SupportsPersistentIdentifier:Dashboard.isRunningInCordova(),SupportsMediaControl:!0,SupportedLiveMediaTypes:["Audio","Video"]};return Dashboard.isRunningInCordova()&&!browserInfo.safari&&(e.SupportsOfflineAccess=!0,e.SupportsSync=!0,e.SupportsContentUploading=!0),e},getDefaultImageQuality:function(e){var a=90,n="backdrop"==e.toLowerCase();return n&&(a-=10),AppInfo.hasLowImageBandwidth&&(a-=AppInfo.isNativeApp?10:40),a},normalizeImageOptions:function(e){AppInfo.hasLowImageBandwidth&&(e.enableImageEnhancers=!1),AppInfo.forcedImageFormat&&"Logo"!=e.type&&(e.format=AppInfo.forcedImageFormat,e.backgroundColor="#1c1c1c")},loadExternalPlayer:function(){return new Promise(function(e){require(["scripts/externalplayer.js"],function(){Dashboard.isRunningInCordova()?require(["cordova/externalplayer.js"],e):e()})})},exitOnBack:function(){return $($.mobile.activePage).is("#indexPage")},exit:function(){Dashboard.logout()}},AppInfo={};!function(){function e(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function a(){e()&&(AppInfo.isTouchPreferred=!0);var a=Dashboard.isRunningInCordova();AppInfo.enableDetailPageChapters=!0,AppInfo.enableDetailsMenuImages=!0,AppInfo.enableMovieHomeSuggestions=!0,AppInfo.enableNavDrawer=!0,AppInfo.enableSearchInTopMenu=!0,AppInfo.enableHomeFavorites=!0,AppInfo.enableNowPlayingBar=!0,AppInfo.enableHomeTabs=!0,AppInfo.enableNowPlayingPageBottomTabs=!0,AppInfo.enableAutoSave=browserInfo.mobile,AppInfo.enableHashBang=Dashboard.isRunningInCordova(),AppInfo.enableAppStorePolicy=a;var n=browserInfo.ipad||browserInfo.iphone,t=browserInfo.android,o=browserInfo.mobile;n&&(AppInfo.hasLowImageBandwidth=!0,a?(AppInfo.enableNavDrawer=!1,AppInfo.enableSearchInTopMenu=!1,AppInfo.enableHomeFavorites=!1,AppInfo.enableHomeTabs=!1,AppInfo.enableNowPlayingPageBottomTabs=!1,-1!=navigator.userAgent.toString().toLowerCase().indexOf("iphone")&&(AppInfo.enableNowPlayingBar=!1)):(AppInfo.enableDetailPageChapters=!1,AppInfo.enableDetailsMenuImages=!1,AppInfo.enableMovieHomeSuggestions=!1,AppInfo.forcedImageFormat="jpg")),AppInfo.hasLowImageBandwidth||(AppInfo.enableStudioTabs=!0,AppInfo.enableTvEpisodesTab=!0),AppInfo.supportsExternalPlayers=!0,a?(AppInfo.enableAppLayouts=!0,AppInfo.supportsExternalPlayerMenu=!0,AppInfo.isNativeApp=!0,n&&(AppInfo.supportsExternalPlayers=!1)):(AppInfo.enableSupporterMembership=!0,t||n||(AppInfo.enableAppLayouts=!0)),AppInfo.enableHeadRoom=!n,AppInfo.supportsDownloading=!(AppInfo.isNativeApp&&n),AppInfo.supportsFileInput=!(AppInfo.isNativeApp&&t),AppInfo.hasPhysicalVolumeButtons=a||o,AppInfo.enableBackButton=n&&(window.navigator.standalone||AppInfo.isNativeApp),AppInfo.supportsSyncPathSetting=a&&t,AppInfo.moreIcon=a&&n?"more-horiz":"more-vert"}function n(e){AppInfo.enableAppStorePolicy&&(e.getAvailablePlugins=function(){return Promise.resolve([])},e.getInstalledPlugins=function(){return Promise.resolve([])}),e.getDefaultImageQuality=Dashboard.getDefaultImageQuality,e.normalizeImageOptions=Dashboard.normalizeImageOptions,Events.off(e,"websocketmessage",Dashboard.onWebSocketMessageReceived),Events.on(e,"websocketmessage",Dashboard.onWebSocketMessageReceived),Events.off(e,"requestfail",Dashboard.onRequestFail),Events.on(e,"requestfail",Dashboard.onRequestFail)}function t(){return v(["scripts/mediaplayer"]).then(function(){return MediaPlayer.getDeviceProfile(Math.max(screen.height,screen.width))})}function o(e,a){n(a),window.$&&($.ajax=a.ajax)}function i(e){define("connectionManager",[],function(){return e})}function s(e,a){e.currentApiClient=function(){if(!T){var a=e.getLastUsedServer();a&&(T=e.getApiClient(a.Id))}return T},a.on(e,"localusersignedin",function(a,n){T=e.getApiClient(n.ServerId),window.ApiClient=T})}function r(e,a){var n=Dashboard.isConnectMode()?null:"servercredentials4",r=new e(n);return t().then(function(e){return a.DeviceProfile=e,window.ConnectionManager=new MediaBrowser.ConnectionManager(r,AppInfo.appName,AppInfo.appVersion,AppInfo.deviceName,AppInfo.deviceId,a,window.devicePixelRatio),i(window.ConnectionManager),s(window.ConnectionManager,Events),Events.on(ConnectionManager,"apiclientcreated",o),Dashboard.isConnectMode()?Promise.resolve():v(["apiclient"]).then(function(e){var a=new e(Dashboard.serverAddress(),AppInfo.appName,AppInfo.appVersion,AppInfo.deviceName,AppInfo.deviceId,window.devicePixelRatio);a.enableAutomaticNetworking=!1,ConnectionManager.addApiClient(a),Dashboard.importCss(a.getUrl("Branding/Css")),window.ApiClient=a,T=a})})}function l(){require(["fastclick"],function(e){function a(e,a){for(;!e.classList||!e.classList.contains(a);)if(e=e.parentNode,!e)return null;return e}e.attach(document.body,{tapDelay:0}),document.body.addEventListener("touchstart",function(e){var n=a(e.target,"ui-panel-dismiss");n&&$(n).click()})})}function d(e){var a=document.documentElement;e.android||e.mobile||a.classList.add("smallerDefault"),AppInfo.isTouchPreferred&&a.classList.add("touch"),AppInfo.enableStudioTabs||a.classList.add("studioTabDisabled"),AppInfo.enableTvEpisodesTab||a.classList.add("tvEpisodesTabDisabled"),AppInfo.enableSupporterMembership||a.classList.add("supporterMembershipDisabled"),AppInfo.isNativeApp&&a.classList.add("nativeApp"),AppInfo.enableHomeFavorites||a.classList.add("homeFavoritesDisabled")}function c(){var e=getParameterByName("theme");if(e)return void require(["themes/"+e+"/theme"]);var a=new Date,n=a.getMonth(),t=a.getDate();return 9==n&&t>=30?void require(["themes/halloween/theme"]):11==n&&t>=21&&26>=t?void require(["themes/holiday/theme"]):void 0}function p(e){return e}function m(){var e="bower_components";return Dashboard.isConnectMode()&&!Dashboard.isRunningInCordova(),e}function u(){var e="v="+(window.dashboardVersion||(new Date).getDate()),a=m(),n=a+"/emby-apiclient",t=a+"/emby-webcomponents",o={velocity:a+"/velocity/velocity.min",tvguide:"components/tvguide/tvguide",directorybrowser:"components/directorybrowser/directorybrowser",collectioneditor:"components/collectioneditor/collectioneditor",playlisteditor:"components/playlisteditor/playlisteditor",medialibrarycreator:"components/medialibrarycreator/medialibrarycreator",medialibraryeditor:"components/medialibraryeditor/medialibraryeditor",howler:a+"/howler.js/howler.min",sortable:a+"/Sortable/Sortable.min",isMobile:a+"/isMobile/isMobile.min",headroom:a+"/headroom.js/dist/headroom.min",masonry:a+"/masonry/dist/masonry.pkgd.min",humanedate:"components/humanedate",libraryBrowser:"scripts/librarybrowser",chromecasthelpers:"components/chromecasthelpers",fastclick:a+"/fastclick/lib/fastclick",events:n+"/events",credentialprovider:n+"/credentials",apiclient:n+"/apiclient",connectionmanagerfactory:n+"/connectionmanager",visibleinviewport:t+"/visibleinviewport",browserdeviceprofile:t+"/browserdeviceprofile",browser:t+"/browser",qualityoptions:t+"/qualityoptions",connectservice:n+"/connectservice",hammer:a+"/hammerjs/hammer.min",layoutManager:t+"/layoutmanager",pageJs:t+"/page.js/page",focusManager:t+"/focusmanager",globalize:t+"/globalize",imageLoader:t+"/images/imagehelper"};o.imageFetcher=navigator.webkitPersistentStorage?t+"/images/persistentimagefetcher":Dashboard.isRunningInCordova()?"cordova/imagestore":t+"/images/basicimagefetcher",o.hlsjs=a+"/hls.js/dist/hls.min",Dashboard.isRunningInCordova()?(o.sharingwidget="cordova/sharingwidget",o.serverdiscovery="cordova/serverdiscovery",o.wakeonlan="cordova/wakeonlan",o.actionsheet="cordova/actionsheet"):(o.sharingwidget="components/sharingwidget",o.serverdiscovery=n+"/serverdiscovery",o.wakeonlan=n+"/wakeonlan",define("actionsheet",[t+"/actionsheet/actionsheet"],p)),define("backdrop",[t+"/backdrop/backdrop"],p),define("fetchHelper",[t+"/fetchhelper"],p),define("viewManager",[t+"/viewmanager"],function(e){return e.dispatchPageEvents(!0),e}),o.appStorage=Dashboard.isRunningInCordova()&&window.MainActivity?"cordova/android/appstorage":n+"/appstorage",o.playlistManager="scripts/playlistmanager",o.syncDialog="scripts/sync";var i=a+"/cryptojslib/components/sha1-min",s=a+"/cryptojslib/components/md5-min",r={};r[i]={deps:[a+"/cryptojslib/components/core-min"]},r[s]={deps:[a+"/cryptojslib/components/core-min"]},requirejs.config({waitSeconds:0,map:{"*":{css:a+"/emby-webcomponents/requirecss",html:a+"/emby-webcomponents/requirehtml"}},urlArgs:e,paths:o,shim:r}),define("cryptojs-sha1",[i]),define("cryptojs-md5",[s]),define("emby-icons",["html!"+a+"/emby-icons/emby-icons.html"]),define("paper-spinner",["html!"+a+"/paper-spinner/paper-spinner.html"]),define("paper-toast",["html!"+a+"/paper-toast/paper-toast.html"]),define("paper-slider",["html!"+a+"/paper-slider/paper-slider.html"]),define("paper-tabs",["html!"+a+"/paper-tabs/paper-tabs.html"]),define("paper-menu",["html!"+a+"/paper-menu/paper-menu.html"]),define("paper-material",["html!"+a+"/paper-material/paper-material.html"]),define("paper-dialog",["html!"+a+"/paper-dialog/paper-dialog.html"]),define("paper-dialog-scrollable",["html!"+a+"/paper-dialog-scrollable/paper-dialog-scrollable.html"]),define("paper-button",["html!"+a+"/paper-button/paper-button.html"]),define("paper-icon-button",["html!"+a+"/paper-icon-button/paper-icon-button.html"]),define("paper-drawer-panel",["html!"+a+"/paper-drawer-panel/paper-drawer-panel.html"]),define("paper-radio-group",["html!"+a+"/paper-radio-group/paper-radio-group.html"]),define("paper-radio-button",["html!"+a+"/paper-radio-button/paper-radio-button.html"]),define("neon-animated-pages",["html!"+a+"/neon-animation/neon-animated-pages.html"]),define("paper-toggle-button",["html!"+a+"/paper-toggle-button/paper-toggle-button.html"]),define("slide-right-animation",["html!"+a+"/neon-animation/animations/slide-right-animation.html"]),define("slide-left-animation",["html!"+a+"/neon-animation/animations/slide-left-animation.html"]),define("slide-from-right-animation",["html!"+a+"/neon-animation/animations/slide-from-right-animation.html"]),define("slide-from-left-animation",["html!"+a+"/neon-animation/animations/slide-from-left-animation.html"]),define("paper-textarea",["html!"+a+"/paper-input/paper-textarea.html"]),define("paper-item",["html!"+a+"/paper-item/paper-item.html"]),define("paper-checkbox",["html!"+a+"/paper-checkbox/paper-checkbox.html"]),define("fade-in-animation",["html!"+a+"/neon-animation/animations/fade-in-animation.html"]),define("fade-out-animation",["html!"+a+"/neon-animation/animations/fade-out-animation.html"]),define("scale-up-animation",["html!"+a+"/neon-animation/animations/scale-up-animation.html"]),define("paper-fab",["html!"+a+"/paper-fab/paper-fab.html"]),define("paper-progress",["html!"+a+"/paper-progress/paper-progress.html"]),define("paper-input",["html!"+a+"/paper-input/paper-input.html"]),define("paper-icon-item",["html!"+a+"/paper-item/paper-icon-item.html"]),define("paper-item-body",["html!"+a+"/paper-item/paper-item-body.html"]),define("paper-collapse-item",["html!"+a+"/paper-collapse-item/paper-collapse-item.html"]),define("emby-collapsible",["html!"+a+"/emby-collapsible/emby-collapsible.html"]),define("jstree",[a+"/jstree/dist/jstree","css!thirdparty/jstree/themes/default/style.min.css"]),define("jqm",["thirdparty/jquerymobile-1.4.5/jquery.mobile.custom.js"]),define("jqmbase",["css!thirdparty/jquerymobile-1.4.5/jquery.mobile.custom.theme.css"]),define("jqmicons",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jquery.mobile.custom.icons.css"]),define("jqmtable",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.table","css!thirdparty/jquerymobile-1.4.5/jqm.table.css"]),define("jqmwidget",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.widget"]),define("jqmslider",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.slider","css!thirdparty/jquerymobile-1.4.5/jqm.slider.css"]),define("jqmpopup",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.popup","css!thirdparty/jquerymobile-1.4.5/jqm.popup.css"]),define("jqmlistview",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jqm.listview.css"]),define("jqmcontrolgroup",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jqm.controlgroup.css"]),define("jqmcollapsible",["jqmbase","jqmicons","thirdparty/jquerymobile-1.4.5/jqm.collapsible","css!thirdparty/jquerymobile-1.4.5/jqm.collapsible.css"]),define("jqmcheckbox",["jqmbase","jqmicons","thirdparty/jquerymobile-1.4.5/jqm.checkbox","css!thirdparty/jquerymobile-1.4.5/jqm.checkbox.css"]),define("jqmpanel",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.panel","css!thirdparty/jquerymobile-1.4.5/jqm.panel.css"]),define("iron-icon-set",["html!"+a+"/iron-icon/iron-icon.html","html!"+a+"/iron-iconset-svg/iron-iconset-svg.html"]),define("slideshow",[t+"/slideshow/slideshow"],p),define("fetch",[a+"/fetch/fetch"]),define("objectassign",["legacy/objectassign"]),define("webcomponentsjs",[a+"/webcomponentsjs/webcomponents-lite.min.js"]),define("native-promise-only",[a+"/native-promise-only/lib/npo.src"]),Dashboard.isRunningInCordova()?define("registrationservices",["cordova/registrationservices"]):define("registrationservices",["scripts/registrationservices"]),Dashboard.isRunningInCordova()?(define("localassetmanager",["cordova/localassetmanager"]),define("fileupload",["cordova/fileupload"])):(define("localassetmanager",[n+"/localassetmanager"]),define("fileupload",[n+"/fileupload"])),define("connectionmanager",[n+"/connectionmanager"]),define("contentuploader",[n+"/sync/contentuploader"]),define("serversync",[n+"/sync/serversync"]),define("multiserversync",[n+"/sync/multiserversync"]),define("offlineusersync",[n+"/sync/offlineusersync"]),define("mediasync",[n+"/sync/mediasync"]),define("swiper",[a+"/Swiper/dist/js/swiper.min","css!"+a+"/Swiper/dist/css/swiper.min"],p),define("dialogHelper",[t+"/dialoghelper/dialoghelper"],p),define("toast",[t+"/toast/toast"],p),define("scrollHelper",[t+"/scrollhelper"],p),define("appSettings",[t+"/appsettings"],h),define("userSettings",[t+"/usersettings"],p),define("robotoFont",["css!"+t+"/fonts/roboto/style"]),define("opensansFont",["css!"+t+"/fonts/opensans/style"]),define("montserratFont",["css!"+t+"/fonts/montserrat/style"]),define("viewcontainer",["components/viewcontainer-lite"],p),define("queryString",[a+"/query-string/index"],function(){return queryString
}),define("material-design-lite",[a+"/material-design-lite/material.min","css!"+a+"/material-design-lite/material"]),define("MaterialSpinner",["material-design-lite"]),define("jQuery",[a+"/jquery/dist/jquery.slim.min"],function(){return require(["legacy/fnchecked"]),window.ApiClient&&(jQuery.ajax=ApiClient.ajax),jQuery}),define("historyManager",[],function(){return Emby.Page}),define("inputManager",[],function(){return{on:function(){},off:function(){}}}),define("skinManager",[],function(){return{loadUserSkin:function(){Emby.Page.show("/home.html")}}}),define("pluginManager",[],function(){return{}}),define("connectionManager",[],function(){return ConnectionManager}),define("apiClientResolver",[],function(){return function(){return window.ApiClient}}),define("dialogText",["globalize"],f()),define("router",[t+"/router"],function(e){return e.showLocalLogin=function(e,a){Dashboard.navigate("login.html?serverid="+a)},e.showSelectServer=function(){Dashboard.navigate("selectserver.html")},e.showWelcome=function(){Dashboard.navigate(Dashboard.isConnectMode()?"connectlogin.html?mode=welcome":"login.html")},e.showSettings=function(){Dashboard.navigate("mypreferencesmenu.html?userId="+ApiClient.getCurrentUserId())},e})}function h(e){return e.enableExternalPlayers=function(a){return null!=a&&e.set("externalplayers",a.toString()),"true"==e.get("externalplayers")},e}function f(){return function(e){return{get:function(a){return e.translate("Button"+a)}}}}function g(e){var a=m(),n=a+"/emby-webcomponents";e.mobile?(define("prompt",[n+"/prompt/nativeprompt"],p),define("confirm",[n+"/confirm/nativeconfirm"],p),define("alert",[n+"/alert/nativealert"],p)):(define("prompt",[n+"/prompt/prompt"],p),define("confirm",[n+"/confirm/confirm"],p),define("alert",[n+"/alert/alert"],p)),e.animate?define("loading",[n+"/loading/loading"],p):e.tv?define("loading",[n+"/loading/loading-smarttv"],p):define("loading",[n+"/loading/loading-lite"],p),Dashboard.isRunningInCordova()&&e.android?define("fileDownloader",["cordova/android/filedownloader"],p):define("fileDownloader",["components/filedownloader"],p)}function b(e){Dashboard.isRunningInCordova()&&browserInfo.android&&define("nativedirectorychooser",["cordova/android/nativedirectorychooser"]),Dashboard.isRunningInCordova()&&browserInfo.android?(MainActivity.getChromeVersion()>=48?define("audiorenderer",["scripts/htmlmediarenderer"]):(window.VlcAudio=!0,define("audiorenderer",["cordova/android/vlcplayer"])),define("videorenderer",["cordova/android/vlcplayer"])):Dashboard.isRunningInCordova()&&browserInfo.safari?(define("audiorenderer",["cordova/ios/vlcplayer"]),define("videorenderer",["scripts/htmlmediarenderer"])):(define("audiorenderer",["scripts/htmlmediarenderer"]),define("videorenderer",["scripts/htmlmediarenderer"])),Dashboard.isRunningInCordova()&&browserInfo.android?define("localsync",["cordova/android/localsync"]):define("localsync",["scripts/localsync"]),define("livetvcss",[],function(){return Dashboard.importCss("css/livetv.css"),{}}),define("detailtablecss",[],function(){return Dashboard.importCss("css/detailtable.css"),{}}),define("tileitemcss",["css!css/tileitem.css"]),define("sharingmanager",["scripts/sharingmanager"]),Dashboard.isRunningInCordova()&&browserInfo.safari?define("searchmenu",["cordova/searchmenu"]):define("searchmenu",["scripts/searchmenu"]),define("buttonenabled",["legacy/buttonenabled"]);var a=[];a.push("events"),a.push("scripts/mediacontroller"),a.push("paper-drawer-panel"),require(a,function(a){window.Events=a;for(var n in e)AppInfo[n]=e[n];y()})}function v(e){return new Promise(function(a){require(e,a)})}function y(){var e=document.querySelector(".mainDrawerPanel");e.classList.remove("mainDrawerPanelPreInit"),e.forceNarrow=!0;var a=screen.availWidth-50;a=Math.max(a,240),a=Math.min(a,270),e.drawerWidth=a+"px",browserInfo.safari&&(e.disableEdgeSwipe=!0);var n=[];n.push("connectionmanagerfactory"),n.push("credentialprovider"),n.push("scripts/extensions"),window.fetch||n.push("fetch"),"function"!=typeof Object.assign&&n.push("objectassign"),require(n,function(e,a){window.MediaBrowser=window.MediaBrowser||{};for(var n in e)MediaBrowser[n]=e[n];r(a,Dashboard.capabilities()).then(function(){MediaController.init(),require(["globalize"],function(e){window.Globalize=e,w(e).then(I)})})})}function w(e){var a="strings/",n=["ar","bg-BG","ca","cs","da","de","el","en-GB","en-US","en-AR","en-MX","es","fi","fr","gsw","he","hr","hu","id","it","kk","ko","ms","nb","nl","pl","pt-BR","pt-PT","ro","ru","sl-SI","sv","tr","uk","vi","zh-CN","zh-HK","zh-TW"],t=n.map(function(e){return{lang:e,path:a+e+".json"}});return e.defaultModule("core"),e.loadStrings({name:"core",translations:t})}function I(){document.title=Globalize.translateDocument(document.title,"core"),A()}function S(e,a){var n=Emby.Page.baseUrl(),t=e.path;t=t.replace(n,""),e.dictionary=e.dictionary||a||"core",Emby.Page.addRoute(t,e)}function D(){S({path:"/about.html",dependencies:[],autoFocus:!1,controller:"scripts/aboutpage",roles:"admin"}),S({path:"/addplugin.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/appservices.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/autoorganizelog.html",dependencies:[],roles:"admin"}),S({path:"/autoorganizesmart.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/autoorganizetv.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/channelitems.html",dependencies:[],autoFocus:!1}),S({path:"/channels.html",dependencies:[],autoFocus:!1}),S({path:"/channelsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/cinemamodeconfiguration.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/collections.html",dependencies:[],autoFocus:!1}),S({path:"/connectlogin.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/dashboard.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/dashboardgeneral.html",dependencies:["emby-collapsible","paper-textarea","paper-input","paper-checkbox"],controller:"scripts/dashboardgeneral",autoFocus:!1,roles:"admin"}),S({path:"/dashboardhosting.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/device.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/devices.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/devicesupload.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/dlnaprofile.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/dlnaprofiles.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/dlnaserversettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/dlnasettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/edititemmetadata.html",dependencies:[],autoFocus:!1}),S({path:"/encodingsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/favorites.html",dependencies:[],autoFocus:!1}),S({path:"/forgotpassword.html",dependencies:[],anonymous:!0}),S({path:"/forgotpasswordpin.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/gamegenres.html",dependencies:[],autoFocus:!1}),S({path:"/games.html",dependencies:[],autoFocus:!1}),S({path:"/gamesrecommended.html",dependencies:[],autoFocus:!1}),S({path:"/gamestudios.html",dependencies:[],autoFocus:!1}),S({path:"/gamesystems.html",dependencies:[],autoFocus:!1}),S({path:"/home.html",dependencies:["paper-tabs"],autoFocus:!1,controller:"scripts/indexpage"}),S({path:"/index.html",dependencies:[],autoFocus:!1,isDefaultRoute:!0}),S({path:"/itemdetails.html",dependencies:[],autoFocus:!1}),S({path:"/itemlist.html",dependencies:["paper-checkbox","scripts/alphapicker"],autoFocus:!1,controller:"scripts/itemlistpage"}),S({path:"/kids.html",dependencies:[],autoFocus:!1}),S({path:"/library.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/librarypathmapping.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/librarysettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/livetv.html",dependencies:[],autoFocus:!1}),S({path:"/livetvguideprovider.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/livetvitems.html",dependencies:[],autoFocus:!1}),S({path:"/livetvrecordinglist.html",dependencies:[],autoFocus:!1}),S({path:"/livetvseriestimer.html",dependencies:[],autoFocus:!1}),S({path:"/livetvsettings.html",dependencies:[],autoFocus:!1}),S({path:"/livetvstatus.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/livetvtimer.html",dependencies:[],autoFocus:!1}),S({path:"/livetvtunerprovider-hdhomerun.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/livetvtunerprovider-m3u.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/livetvtunerprovider-satip.html",dependencies:["paper-input","paper-checkbox"],autoFocus:!1,roles:"admin",controller:"scripts/livetvtunerprovider-satip"}),S({path:"/log.html",dependencies:["paper-toggle-button"],roles:"admin",controller:"scripts/logpage"}),S({path:"/login.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/metadata.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/metadataadvanced.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/metadataimages.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/metadatanfo.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/metadatasubtitles.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/movies.html",dependencies:[],autoFocus:!1}),S({path:"/music.html",dependencies:[],autoFocus:!1}),S({path:"/mypreferencesdisplay.html",dependencies:[],autoFocus:!1}),S({path:"/mypreferenceshome.html",dependencies:[],autoFocus:!1}),S({path:"/mypreferenceslanguages.html",dependencies:[],autoFocus:!1}),S({path:"/mypreferencesmenu.html",dependencies:[],autoFocus:!1}),S({path:"/myprofile.html",dependencies:[],autoFocus:!1}),S({path:"/mysync.html",dependencies:[],autoFocus:!1}),S({path:"/mysyncjob.html",dependencies:[],autoFocus:!1}),S({path:"/mysyncsettings.html",dependencies:[],autoFocus:!1}),S({path:"/notificationlist.html",dependencies:[],autoFocus:!1}),S({path:"/notificationsetting.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/notificationsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/nowplaying.html",dependencies:[],autoFocus:!1}),S({path:"/photos.html",dependencies:[],autoFocus:!1}),S({path:"/playbackconfiguration.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/playlists.html",dependencies:[],autoFocus:!1}),S({path:"/plugincatalog.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/plugins.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/reports.html",dependencies:[],autoFocus:!1}),S({path:"/scheduledtask.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/scheduledtasks.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/search.html",dependencies:[],autoFocus:!1}),S({path:"/secondaryitems.html",dependencies:[],autoFocus:!1,controller:"scripts/secondaryitems"}),S({path:"/selectserver.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/serversecurity.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/shared.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/streamingsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/support.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/supporterkey.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/syncactivity.html",dependencies:[],autoFocus:!1}),S({path:"/syncjob.html",dependencies:[],autoFocus:!1}),S({path:"/syncsettings.html",dependencies:[],autoFocus:!1}),S({path:"/tv.html",dependencies:["paper-tabs","paper-checkbox"],autoFocus:!1,controller:"scripts/tvrecommended"}),S({path:"/useredit.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/userlibraryaccess.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/usernew.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/userparentalcontrol.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/userpassword.html",dependencies:[],autoFocus:!1}),S({path:"/userprofiles.html",dependencies:[],autoFocus:!1,roles:"admin"}),S({path:"/wizardagreement.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardfinish.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardlibrary.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardlivetvguide.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardlivetvtuner.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardservice.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardsettings.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizardstart.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/wizarduser.html",dependencies:[],autoFocus:!1,anonymous:!0}),S({path:"/configurationpage",dependencies:["jQuery"],autoFocus:!1,enableCache:!1,enableContentQueryString:!0,roles:"admin"}),S({path:"/",isDefaultRoute:!0,autoFocus:!1,dependencies:[]})}function A(){require(["scripts/mediaplayer"],function(){MediaPlayer.init()});var e=[];e.push("imageLoader"),e.push("router"),AppInfo.isNativeApp&&browserInfo.android||document.documentElement.classList.add("minimumSizeTabs"),AppInfo.isNativeApp&&browserInfo.android?e.push("css!devices/android/android.css"):AppInfo.isNativeApp&&browserInfo.safari?e.push("css!devices/ios/ios.css"):AppInfo.isNativeApp&&browserInfo.edge?e.push("css!devices/windowsphone/wp.css"):browserInfo.android||e.push("css!devices/android/android.css"),c(),browserInfo.safari&&browserInfo.mobile&&l(),Dashboard.isRunningInCordova()&&(e.push("registrationservices"),e.push("cordova/back"),browserInfo.android&&(e.push("cordova/android/androidcredentials"),e.push("cordova/android/links"))),browserInfo.msie&&e.push("devices/ie/ie"),e.push("scripts/search"),e.push("scripts/librarylist"),e.push("scripts/librarymenu"),e.push("css!css/card.css"),require(e,function(e,a){e.enableFade=browserInfo.animate&&!browserInfo.mobile,window.ImageLoader=e,window.Emby={},window.Emby.Page=a,window.Emby.TransparencyLevel=a.TransparencyLevel,D(),Emby.Page.start({click:!0,hashbang:AppInfo.enableHashBang});var n=[];n.push("scripts/thememediaplayer"),n.push("scripts/remotecontrol"),n.push("css!css/notifications.css"),n.push("css!css/chromecast.css"),n.push("scripts/autobackdrops"),Dashboard.isRunningInCordova()?(browserInfo.android?(n.push("cordova/android/mediasession"),n.push("cordova/android/chromecast")):n.push("cordova/volume"),browserInfo.safari&&(n.push("cordova/connectsdk/connectsdk"),n.push("cordova/ios/orientation"),Dashboard.capabilities().SupportsSync&&n.push("cordova/ios/backgroundfetch"))):browserInfo.chrome&&n.push("scripts/chromecast"),AppInfo.enableNowPlayingBar&&n.push("scripts/nowplayingbar"),AppInfo.isNativeApp&&browserInfo.safari&&n.push("cordova/ios/tabbar"),n.push("components/remotecontrolautoplay"),browserInfo.mobile||-1==navigator.userAgent.toLowerCase().indexOf("windows")||n.push("robotoFont"),require(n)})}function C(){return new Promise(function(e){document.addEventListener("deviceready",function(){cordova.getAppVersion.getVersionNumber(function(a){var n=browserInfo.android?"Emby for Android Mobile":browserInfo.safari?"Emby for iOS":"Emby Mobile",t=device.model.replace(/[^\w\s]/gi,""),o=null;window.MainActivity&&(o=MainActivity.getLegacyDeviceId()),e({deviceId:o||device.uuid,deviceName:t,appName:n,appVersion:a})})},!1)})}function P(){return new Promise(function(e){require(["appStorage"],function(a){function n(a){e({deviceId:a,deviceName:t,appName:"Emby Web Client",appVersion:window.dashboardVersion})}var t;t=browserInfo.chrome?"Chrome":browserInfo.edge?"Edge":browserInfo.firefox?"Firefox":browserInfo.msie?"Internet Explorer":"Web Browser",browserInfo.version&&(t+=" "+browserInfo.version),browserInfo.ipad?t+=" Ipad":browserInfo.iphone?t+=" Iphone":browserInfo.android&&(t+=" Android");var o="_deviceId1",i=a.getItem(o);i?n(i):require(["cryptojs-sha1"],function(){var e=[];e.push(navigator.userAgent),e.push(navigator.cpuClass||""),e.push((new Date).getTime());var t=CryptoJS.SHA1(e.join("|")).toString();a.setItem(o,t),n(t)})})})}function F(){return Dashboard.isRunningInCordova()?C():P()}function M(){var e=[];e.push("browser"),window.Promise||e.push("native-promise-only"),require(e,function(e){g(e),window.browserInfo=e,a(),d(e),F().then(b)})}var T;u(),"registerElement"in document&&"content"in document.createElement("template")?M():(document.addEventListener("WebComponentsReady",M),require(["webcomponentsjs"]))}(),pageClassOn("viewinit","page",function(){var e=this,a=e.getAttribute("data-theme");if(!a){var n;n=e.classList.contains("libraryPage")?"b":"a",e.setAttribute("data-theme",n),a=n}e.classList.add("ui-page"),e.classList.add("ui-page-theme-"+a);for(var t=e.querySelectorAll("div[data-role='content']"),o=0,i=t.length;i>o;o++){var s=t[o];s.setAttribute("role","main"),s.classList.add("ui-content")}}),pageClassOn("viewshow","page",function(){var e=this,a=e.classList.contains("ui-page-theme-a")?"a":"b",n=document.documentElement;"a"==a?(n.classList.add("background-theme-a"),n.classList.remove("background-theme-b"),e.classList.add("ui-body-a"),e.classList.remove("ui-body-b")):(n.classList.add("background-theme-b"),n.classList.remove("background-theme-a"),e.classList.add("ui-body-b"),e.classList.remove("ui-body-a")),"a"==a||browserInfo.mobile?document.documentElement.classList.remove("darkScrollbars"):document.documentElement.classList.add("darkScrollbars");var t=window.ApiClient;Dashboard.ensureHeader(e),t&&t.isLoggedIn()&&!t.isWebSocketOpen()&&Dashboard.refreshSystemInfoFromServer()}),window.addEventListener("beforeunload",function(){var e=window.ApiClient;if(e&&e.isWebSocketOpen()){var a=MediaController.getPlayers().filter(function(e){return e.isLocalPlayer&&e.isPlaying()});a.length||e.closeWebSocket()}});