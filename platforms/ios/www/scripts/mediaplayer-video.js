define(["appSettings"],function(e){function t(t){function n(e){var t="";t+='<div class="nowPlayingTabButtons">',t+='<a href="#" class="nowPlayingTabButton selectedNowPlayingTabButton" data-tab="tabInfo">'+Globalize.translate("TabInfo")+"</a>",e.Chapters&&e.Chapters.length&&(t+='<a href="#" class="nowPlayingTabButton" data-tab="tabScenes">'+Globalize.translate("TabScenes")+"</a>"),e.People&&e.People.length&&(t+='<a href="#" class="nowPlayingTabButton" data-tab="tabCast">'+Globalize.translate("TabCast")+"</a>"),t+="</div>",t+='<div class="tabInfo nowPlayingTab">';var n=MediaController.getNowPlayingNameHtml(e,!1);n='<div class="videoNowPlayingName">'+n+"</div>";var i=LibraryBrowser.getMiscInfoHtml(e);i&&(n+='<div class="videoNowPlayingRating">'+i+"</div>");var a=LibraryBrowser.getRatingHtml(e);if(a&&(n+='<div class="videoNowPlayingRating">'+a+"</div>"),e.Overview&&(n+='<div class="videoNowPlayingOverview">'+e.Overview+"</div>"),t+=n,t+="</div>",e.Chapters&&e.Chapters.length){t+='<div class="tabScenes nowPlayingTab hiddenScrollX" style="display:none;white-space:nowrap;margin-bottom:2em;">';var o=0;t+=e.Chapters.map(function(t){var n=240,i='<a class="card backdropCard chapterCard" href="#" style="margin-right:1em;width:'+n+'px;" data-position="'+t.StartPositionTicks+'">';if(i+='<div class="cardBox">',i+='<div class="cardScalable">',i+='<div class="cardPadder"></div>',i+='<div class="cardContent">',t.ImageTag){var a=ApiClient.getScaledImageUrl(e.Id,{width:n,tag:t.ImageTag,type:"Chapter",index:o});i+='<div class="cardImage lazy" data-src="'+a+'"></div>'}else i+='<div class="cardImage" style="background:#444;"></div>';return i+='<div class="cardFooter">',t.Name&&(i+='<div class="cardText">'+t.Name+"</div>"),i+='<div class="cardText">'+Dashboard.getDisplayTime(t.StartPositionTicks)+"</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</a>",o++,i}).join(""),t+="</div>"}return e.People&&e.People.length&&(t+='<div class="tabCast nowPlayingTab hiddenScrollX" style="display:none;white-space:nowrap;">',t+=e.People.map(function(e){var t,n='<div class="tileItem smallPosterTileItem" style="width:300px;">',i=150;e.PrimaryImageTag?(t=ApiClient.getScaledImageUrl(e.Id,{height:i,tag:e.PrimaryImageTag,type:"primary",minScale:2}),n+='<div class="tileImage lazy" data-src="'+t+'" style="height:'+i+'px;"></div>'):(t="css/images/items/list/person.png",n+='<div class="tileImage" style="background-image:url(\''+t+"');height:"+i+'px;"></div>'),n+='<div class="tileContent">',n+="<p>"+e.Name+"</p>";var a=e.Role?Globalize.translate("ValueAsRole",e.Role):e.Type;"GuestStar"==a&&(a=Globalize.translate("ValueGuestStar")),a=a||"";var o=40;return a.length>o&&(a=a.substring(0,o-3)+"..."),n+="<p>"+a+"</p>",n+="</div>",n+="</div>"}).join(""),t+="</div>"),t}function i(){return t.currentMediaSource&&t.currentMediaSource.RunTimeTicks?t.currentMediaSource.RunTimeTicks:t.currentMediaRenderer?t.getCurrentTicks(t.currentMediaRenderer):null}function a(){var e=parseInt(this.value),n=e/100*i();t.changeStream(Math.floor(n))}function o(e){var t=[{transform:"translate3d(0, 100%, 0)",offset:0},{transform:"none",offset:1}],n={duration:300,iterations:1};e.animate(t,n)}function r(e){var t=[{transform:"none",offset:0},{transform:"translate3d(0, 100%, 0)",offset:1}],n={duration:300,iterations:1};e.animate(t,n).onfinish=function(){e.classList.add("hide")}}function l(){var e="";e+='<div id="videoPlayer" class="hide">',e+='<div id="videoElement">',e+='<div id="play" class="status"></div>',e+='<div id="pause" class="status"></div>',e+="</div>",e+='<div class="videoTopControls hiddenOnIdle">',e+='<div class="videoTopControlsLogo"></div>',e+='<div class="videoAdvancedControls">',e+='<paper-icon-button icon="skip-previous" class="previousTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.previousTrack();"></paper-icon-button>',e+='<paper-icon-button icon="skip-next" class="nextTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.nextTrack();"></paper-icon-button>',e+='<paper-icon-button icon="audiotrack" class="mediaButton videoAudioButton" onclick="MediaPlayer.showAudioTracksFlyout();"></paper-icon-button>',e+='<paper-icon-button icon="closed-caption" class="mediaButton videoSubtitleButton" onclick="MediaPlayer.showSubtitleMenu();"></paper-icon-button>',e+='<paper-icon-button icon="settings" class="mediaButton videoQualityButton" onclick="MediaPlayer.showQualityFlyout();"></paper-icon-button>',e+='<paper-icon-button icon="close" class="mediaButton" onclick="MediaPlayer.stop();"></paper-icon-button>',e+="</div>",e+="</div>",e+='<div class="videoControls hiddenOnIdle">',e+='<div class="nowPlayingInfo hide">',e+='<div class="nowPlayingImage"></div>',e+='<div class="nowPlayingTabs"></div>',e+="</div>",e+='<div class="guide hide">',e+="</div>",e+='<div class="videoControlButtons">',e+='<paper-icon-button icon="skip-previous" class="previousTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.previousTrack();"></paper-icon-button>',e+='<paper-icon-button id="video-playButton" icon="play-arrow" class="mediaButton unpauseButton" onclick="MediaPlayer.unpause();"></paper-icon-button>',e+='<paper-icon-button id="video-pauseButton" icon="pause" class="mediaButton pauseButton" onclick="MediaPlayer.pause();"></paper-icon-button>',e+='<paper-icon-button icon="skip-next" class="nextTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.nextTrack();"></paper-icon-button>',e+='<paper-slider pin step=".1" min="0" max="100" value="0" class="videoPositionSlider" style="display:inline-block;margin-right:2em;"></paper-slider>',e+='<div class="currentTime">--:--</div>',e+='<paper-icon-button icon="volume-up" class="muteButton mediaButton" onclick="MediaPlayer.mute();"></paper-icon-button>',e+='<paper-icon-button icon="volume-off" class="unmuteButton mediaButton" onclick="MediaPlayer.unMute();"></paper-icon-button>',e+='<paper-slider pin step="1" min="0" max="100" value="0" class="videoVolumeSlider" style="width:100px;vertical-align:middle;margin-left:-1em;margin-right:2em;display:inline-block;"></paper-slider>',e+='<paper-icon-button icon="cast" class="mediaButton castButton" onclick="MediaController.showPlayerSelection(this, false);" style="width:32px;height:32px;"></paper-icon-button>',e+='<paper-icon-button icon="fullscreen" class="mediaButton fullscreenButton" onclick="MediaPlayer.toggleFullscreen();" id="video-fullscreenButton"></paper-icon-button>',e+='<paper-icon-button icon="info" class="mediaButton infoButton" onclick="MediaPlayer.toggleInfo();"></paper-icon-button>',e+="</div>",e+="</div>",e+="</div>";var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}function s(){if(!O){O=!0,l();var e=$("#videoPlayer");N=$(".muteButton",e),F=$(".unmuteButton",e),L=$(".currentTime",e),E=$(".videoPositionSlider",e).on("change",a)[0],E._setPinValue=function(e){var n=i();if(!t.currentMediaSource||!n)return void(this.pinValue="--:--");var a=n;a/=100,a*=e,this.pinValue=Dashboard.getDisplayTime(a)},q=$(".videoVolumeSlider",e).on("change",function(){var e=this.value;u(e),t.setVolume(e)})[0]}}function d(){R&&window.clearTimeout(R),1==A&&($(".hiddenOnIdle").removeClass("inactive"),$("#videoPlayer").removeClass("idlePlayer")),A=!1,R=window.setTimeout(function(){A=!0,$(".hiddenOnIdle").addClass("inactive"),$("#videoPlayer").addClass("idlePlayer")},3500)}function u(e){e?(N.show(),F.hide()):(N.hide(),F.show())}function c(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t?t.call(e):m()}function m(){var e=$("#videoPlayer");e.addClass("fullscreenVideo")}function v(){var e=$("#videoPlayer");e.removeClass("fullscreenVideo")}function p(){t.stop()}function g(){t.isFullScreen()?(m(),A=!0):v()}function f(e){(e.clientX!=V.x||e.clientY!=V.y)&&(V.x=e.clientX,V.y=e.clientY,d())}function h(e){Events.on(e,"playing",I),Events.on(e,"playing",C),Events.on(e,"volumechange",T),Events.on(e,"pause",w),Events.on(e,"timeupdate",P),Events.on(e,"error",k),Events.on(e,"click",B),Events.on(e,"dblclick",x);var t=!0;if(t){var n=document.querySelector(".itemVideo");n&&(n.addEventListener("keydown",d),n.addEventListener("scroll",d),n.addEventListener("mousedown",d),d())}$(document).on("webkitfullscreenchange",g),$(document).on("mozfullscreenchange",g),$(document).on("msfullscreenchange",g),$(document).on("fullscreenchange",g),$(window).one("popstate",p),t&&$(document.body).on("mousemove",f)}function y(e){Events.off(e,"playing",I),Events.off(e,"playing",C),Events.off(e,"volumechange",T),Events.off(e,"pause",w),Events.off(e,"timeupdate",P),Events.off(e,"error",k),Events.off(e,"click",B),Events.off(e,"dblclick",x),$(document).off("webkitfullscreenchange",g),$(document).off("mozfullscreenchange",g),$(document).off("msfullscreenchange",g),$(document).off("fullscreenchange",g),$(window).off("popstate",p),$(document.body).off("mousemove",f);var t=document.querySelector(".itemVideo");t&&(t.removeEventListener("keydown",d),t.removeEventListener("scroll",d),t.removeEventListener("mousedown",d))}function b(e){if(!e.classList.contains("hide")){var t=function(){e.classList.add("hide")};t()}}function S(e){e.classList.contains("hide")&&(e.classList.remove("hide"),browserInfo.animate&&!browserInfo.mobile&&requestAnimationFrame(function(){var t=[{transform:"scale3d(.2, .2, .2)  ",opacity:".6",offset:0},{transform:"none",opacity:"1",offset:1}],n={duration:200,iterations:1,easing:"ease-out"};e.animate(t,n)}))}function I(){Events.off(this,"playing",I),Events.on(this,"ended",t.onPlaybackStopped),Events.on(this,"ended",t.playNextAfterEnded),t.onPlaybackStart(this,t.currentItem,t.currentMediaSource)}function C(){var e=document.querySelector("#videoPlayer .videoControls"),t=document.querySelector("#videoPlayer #videoElement");$("#video-playButton",e).hide(),$("#video-pauseButton",e).show(),$("#play",t).show().addClass("fadeOut"),setTimeout(function(){$("#play",t).hide().removeClass("fadeOut")},300)}function T(){u(this.volume())}function w(){var e=document.querySelector("#videoPlayer .videoControls"),t=document.querySelector("#videoPlayer #videoElement");$("#video-playButton",e).show(),$("#video-pauseButton",e).hide(),$("#pause",t).show().addClass("fadeOut"),setTimeout(function(){$("#pause",t).hide().removeClass("fadeOut")},300)}function P(){E.dragging||t.setCurrentTime(t.getCurrentTicks(this),E,L)}function k(){var e=Globalize.translate("MessageErrorPlayingVideo"),n=t.currentItem;n&&"TvChannel"==n.Type&&(e+="<p>",e+=Globalize.translate("MessageEnsureOpenTuner"),e+="</p>"),Dashboard.alert({title:Globalize.translate("HeaderVideoError"),message:e});var i=t.currentMediaRenderer;i&&t.onPlaybackStopped.call(i),t.nextTrack()}function B(){browserInfo.mobile||(this.paused()?t.unpause():t.pause())}function x(){browserInfo.mobile||t.toggleFullscreen()}var M,E,L,A=!0,N=null,F=null,q=null;t.currentSubtitleStreamIndex=null,t.getCurrentSubtitleStream=function(){return t.getSubtitleStream(t.currentSubtitleStreamIndex)},t.getSubtitleStream=function(e){return t.currentMediaSource.MediaStreams.filter(function(t){return"Subtitle"==t.Type&&t.Index==e})[0]},t.toggleFullscreen=function(){t.isFullScreen()?t.exitFullScreen():c(document.body)},t.resetEnhancements=function(){O&&(t.isFullScreen()&&t.exitFullScreen(),b(document.querySelector("#videoPlayer")),$("#videoPlayer").removeClass("fullscreenVideo").removeClass("idlePlayer"),$(".hiddenOnIdle").removeClass("inactive"),$("video").remove(),document.querySelector(".mediaButton.infoButton").classList.remove("active"),document.querySelector(".videoControls .nowPlayingInfo").classList.add("hide"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"))},t.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),$("#videoPlayer").removeClass("fullscreenVideo")},t.isFullScreen=function(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?!0:!1},t.showSubtitleMenu=function(){var e=t.currentMediaSource.MediaStreams.filter(function(e){return"Subtitle"==e.Type}),n=t.currentSubtitleStreamIndex;null==n&&(n=-1),e.unshift({Index:-1,Language:Globalize.translate("ButtonOff")});var i=e.map(function(e){var t=[];t.push(e.Language||Globalize.translate("LabelUnknownLanguage")),e.Codec&&t.push(e.Codec);var i=t.join(" - ");e.IsDefault&&(i+=" (D)"),e.IsForced&&(i+=" (F)"),e.External&&(i+=" (EXT)");var a={name:i,id:e.Index};return e.Index==n&&(a.ironIcon="check"),a});require(["actionsheet"],function(e){e.show({items:i,enableHistory:!1,positionTo:$(".videoSubtitleButton")[0],callback:function(e){var i=parseInt(e);i!=n&&t.onSubtitleOptionSelected(i)}})})},t.showQualityFlyout=function(){require(["qualityoptions","actionsheet"],function(n,i){var a=t.getCurrentSrc(t.currentMediaRenderer).toLowerCase(),o=-1!=a.indexOf("static=true"),r=t.currentMediaSource.MediaStreams.filter(function(e){return"Video"==e.Type})[0],l=r?r.Width:null,s=n.getVideoQualityOptions(e.maxStreamingBitrate(),l);o&&(s[0].name="Direct");var d=s.map(function(e){var t={name:e.name,id:e.bitrate};return e.selected&&(t.ironIcon="check"),t}),u=s.filter(function(e){return e.selected});u=u.length?u[0].bitrate:null,i.show({items:d,enableHistory:!1,positionTo:$(".videoQualityButton")[0],callback:function(e){var n=parseInt(e);n!=u&&t.onQualityOptionSelected(n)}})})},t.showAudioTracksFlyout=function(){var e=t.currentMediaSource.MediaStreams.filter(function(e){return"Audio"==e.Type}),n=getParameterByName("AudioStreamIndex",t.getCurrentSrc(t.currentMediaRenderer)),i=e.map(function(e){var t=[];t.push(e.Language||Globalize.translate("LabelUnknownLanguage")),e.Codec&&t.push(e.Codec),e.Profile&&t.push(e.Profile),e.BitRate&&t.push(Math.floor(e.BitRate/1e3)+" kbps"),e.Channels&&t.push(e.Channels+" ch");var i=t.join(" - ");e.IsDefault&&(i+=" (D)");var a={name:i,id:e.Index};return e.Index==n&&(a.ironIcon="check"),a});require(["actionsheet"],function(e){e.show({items:i,enableHistory:!1,positionTo:$(".videoAudioButton")[0],callback:function(e){var i=parseInt(e);i!=n&&t.onAudioOptionSelected(i)}})})},t.setAudioStreamIndex=function(e){t.changeStream(t.getCurrentTicks(),{AudioStreamIndex:e})},t.setSubtitleStreamIndex=function(e){if(!t.currentMediaRenderer.supportsTextTracks())return t.changeStream(t.getCurrentTicks(),{SubtitleStreamIndex:e}),void(t.currentSubtitleStreamIndex=e);var n=t.getCurrentSubtitleStream(),i=t.getSubtitleStream(e);if(n||i){var a=-1;n&&!i?"External"!=n.DeliveryMethod&&t.changeStream(t.getCurrentTicks(),{SubtitleStreamIndex:-1}):!n&&i?"External"==i.DeliveryMethod?a=e:t.changeStream(t.getCurrentTicks(),{SubtitleStreamIndex:e}):n&&i&&("External"==i.DeliveryMethod?(a=e,"External"!=n.DeliveryMethod&&t.changeStream(t.getCurrentTicks(),{SubtitleStreamIndex:-1})):t.changeStream(t.getCurrentTicks(),{SubtitleStreamIndex:e})),t.setCurrentTrackElement(a),t.currentSubtitleStreamIndex=e}},t.setCurrentTrackElement=function(e){t.currentMediaRenderer.setCurrentTrackElement(e)},t.updateTextStreamUrls=function(e){t.currentMediaRenderer.updateTextStreamUrls(e)},t.updateNowPlayingInfo=function(e){if(!e)throw new Error("item cannot be null");var i=$("#videoPlayer"),a=t.getPlayerStateInternal(t.currentMediaRenderer,e.CurrentProgram||e,t.currentMediaSource),o="",r=400,l=300;a.NowPlayingItem.PrimaryImageTag?o=ApiClient.getScaledImageUrl(a.NowPlayingItem.PrimaryImageItemId,{type:"Primary",width:r,tag:a.NowPlayingItem.PrimaryImageTag}):a.NowPlayingItem.PrimaryImageTag?o=ApiClient.getScaledImageUrl(a.NowPlayingItem.PrimaryImageItemId,{type:"Primary",width:r,tag:a.NowPlayingItem.PrimaryImageTag}):a.NowPlayingItem.BackdropImageTag?o=ApiClient.getScaledImageUrl(a.NowPlayingItem.BackdropItemId,{type:"Backdrop",height:l,tag:a.NowPlayingItem.BackdropImageTag,index:0}):a.NowPlayingItem.ThumbImageTag&&(o=ApiClient.getScaledImageUrl(a.NowPlayingItem.ThumbImageItemId,{type:"Thumb",height:l,tag:a.NowPlayingItem.ThumbImageTag})),$(".nowPlayingImage",i).html(o?'<img src="'+o+'" />':""),a.NowPlayingItem.LogoItemId?(o=ApiClient.getScaledImageUrl(a.NowPlayingItem.LogoItemId,{type:"Logo",height:42,tag:a.NowPlayingItem.LogoImageTag}),$(".videoTopControlsLogo",i).html('<img src="'+o+'" />')):$(".videoTopControlsLogo",i).html("");var s=$(".nowPlayingTabs",i).html(n(e.CurrentProgram||e)).lazyChildren();$(".nowPlayingTabButton",s).on("click",function(){$(this).hasClass("selectedNowPlayingTabButton")||($(".selectedNowPlayingTabButton").removeClass("selectedNowPlayingTabButton"),$(this).addClass("selectedNowPlayingTabButton"),$(".nowPlayingTab").hide(),$("."+this.getAttribute("data-tab")).show().trigger("scroll"))}),$(".chapterCard",s).on("click",function(){t.seek(parseInt(this.getAttribute("data-position")))})},$.fn.lazyChildren=function(){for(var e=0,t=this.length;t>e;e++)ImageLoader.lazyChildren(this[e]);return this},t.onAudioOptionSelected=function(e){t.setAudioStreamIndex(e)},t.onSubtitleOptionSelected=function(e){t.setSubtitleStreamIndex(e)},t.onQualityOptionSelected=function(n){e.maxStreamingBitrate(n),e.enableAutomaticBitrateDetection(!1),t.changeStream(t.getCurrentTicks(),{Bitrate:n})},t.toggleInfo=function(){var e=document.querySelector(".mediaButton.infoButton"),t=document.querySelector(".videoControls .nowPlayingInfo");e.classList.contains("active")?(e.classList.remove("active"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"),r(t)):(e.classList.add("active"),document.querySelector(".videoControls").classList.remove("hiddenOnIdle"),t.classList.remove("hide"),o(t))},t.toggleGuide=function(){var e=document.querySelector(".mediaButton.guideButton"),n=document.querySelector(".videoControls .guide");e.classList.contains("active")?(e.classList.remove("active"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"),r(n)):(e.classList.add("active"),document.querySelector(".videoControls").classList.remove("hiddenOnIdle"),n.classList.remove("hide"),o(n),t.guideInstance||require(["tvguide"],function(e){t.guideInstance=new e({element:n,enablePaging:!1})}))};var O,R,V={};t.cleanup=function(e){L&&L.html("--:--"),y(e)},t.playVideo=function(e,n,i,a){requirejs(["videorenderer","css!css/nowplayingbar.css","css!css/mediaplayer-video.css","paper-slider"],function(){s(),t.createStreamInfo("Video",e,n,i).then(function(o){var r=-1!=o.url.toLowerCase().indexOf(".m3u8");if((browserInfo.safari||browserInfo.msie||browserInfo.firefox)&&!n.RunTimeTicks&&r){Dashboard.showLoadingMsg();var l=o.url.replace("master.m3u8","live.m3u8");ApiClient.ajax({type:"GET",url:l}).then(function(){Dashboard.hideLoadingMsg(),o.url=l,t.playVideoInternal(e,n,i,o,a)},function(){Dashboard.hideLoadingMsg()})}else t.playVideoInternal(e,n,i,o,a)})})},t.playVideoInternal=function(e,n,i,a,o){t.startTimeTicksOffset=a.startTimeTicksOffset;var r=n.MediaStreams||[],l=r.filter(function(e){return"Subtitle"==e.Type}),s=document.querySelector("#videoPlayer");S(s);var d=$(".videoControls",s);$("#video-playButton",d).hide(),$("#video-pauseButton",d).show(),$(".videoTrackControl").addClass("hide");$("#videoElement",s);$(".videoQualityButton",d).show(),r.filter(function(e){return"Audio"==e.Type}).length?$(".videoAudioButton").show():$(".videoAudioButton").hide(),l.length?$(".videoSubtitleButton").show():$(".videoSubtitleButton").hide();var c=new VideoRenderer({poster:t.getPosterUrl(e)}),m=!c.enableCustomVideoControls();m||AppInfo.isNativeApp?$("#video-fullscreenButton",d).hide():$("#video-fullscreenButton",d).show(),AppInfo.hasPhysicalVolumeButtons?($(q).addClass("hide"),$(".muteButton",d).addClass("hide"),$(".unmuteButton",d).addClass("hide")):($(q).removeClass("hide"),$(".muteButton",d).removeClass("hide"),$(".unmuteButton",d).removeClass("hide")),m?d.addClass("hide"):d.removeClass("hide"),M=t.getSavedVolume(),c.volume(M),q.value=100*M,u(M),h(c),t.currentSubtitleStreamIndex=n.DefaultSubtitleStreamIndex,$(document.body).addClass("bodyWithPopupOpen"),t.currentMediaRenderer=c,t.currentDurationTicks=t.currentMediaSource.RunTimeTicks,t.updateNowPlayingInfo(e),c.init().then(function(){t.onBeforePlaybackStart(c,e,n),t.setSrcIntoRenderer(c,a,e,t.currentMediaSource),t.streamInfo=a,o&&o()})},t.updatePlaylistUi=function(){if(O){var e=t.currentPlaylistIndex(null),n=t.playlist.length,i=!1;if(t.currentMediaRenderer&&t.currentMediaRenderer.enableCustomVideoControls&&(i=t.currentMediaRenderer.enableCustomVideoControls()),2>n)return void $(".videoTrackControl").addClass("hide");var a=i?".videoAdvancedControls":".videoControls";a=document.querySelector(a);var o=a.getElementsByClassName("previousTrackButton")[0],r=a.getElementsByClassName("nextTrackButton")[0];0===e?o.setAttribute("disabled","disabled"):o.removeAttribute("disabled"),e+1>=n?r.setAttribute("disabled","disabled"):r.removeAttribute("disabled"),$(o).removeClass("hide"),$(r).removeClass("hide")}}}t(MediaPlayer)});