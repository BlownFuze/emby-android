define(["appSettings","jQuery","scrollStyles"],function(e,t){function n(n){function i(e){var t="";t+='<div class="nowPlayingTabButtons">',t+='<a href="#" class="nowPlayingTabButton selectedNowPlayingTabButton" data-tab="tabInfo">'+Globalize.translate("TabInfo")+"</a>",e.Chapters&&e.Chapters.length&&(t+='<a href="#" class="nowPlayingTabButton" data-tab="tabScenes">'+Globalize.translate("TabScenes")+"</a>"),e.People&&e.People.length&&(t+='<a href="#" class="nowPlayingTabButton" data-tab="tabCast">'+Globalize.translate("TabCast")+"</a>"),t+="</div>",t+='<div class="tabInfo nowPlayingTab">';var n=MediaController.getNowPlayingNameHtml(e,!1);n='<div class="videoNowPlayingName">'+n+"</div>";var i=LibraryBrowser.getMiscInfoHtml(e);i&&(n+='<div class="videoNowPlayingRating">'+i+"</div>");var a=LibraryBrowser.getRatingHtml(e);if(a&&(n+='<div class="videoNowPlayingRating">'+a+"</div>"),e.Overview&&(n+='<div class="videoNowPlayingOverview">'+e.Overview+"</div>"),t+=n,t+="</div>",e.Chapters&&e.Chapters.length){t+='<div class="tabScenes nowPlayingTab smoothScrollX" style="display:none;white-space:nowrap;margin-bottom:2em;">';var o=0;t+=e.Chapters.map(function(t){var n=240,i='<a class="card backdropCard chapterCard" href="#" style="margin-right:1em;width:'+n+'px;" data-position="'+t.StartPositionTicks+'">';if(i+='<div class="cardBox">',i+='<div class="cardScalable">',i+='<div class="cardPadder"></div>',i+='<div class="cardContent">',t.ImageTag){var a=ApiClient.getScaledImageUrl(e.Id,{width:n,tag:t.ImageTag,type:"Chapter",index:o});i+='<div class="cardImage lazy" data-src="'+a+'"></div>'}else i+='<div class="cardImage" style="background:#444;"></div>';return i+='<div class="cardFooter">',t.Name&&(i+='<div class="cardText">'+t.Name+"</div>"),i+='<div class="cardText">'+Dashboard.getDisplayTime(t.StartPositionTicks)+"</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</a>",o++,i}).join(""),t+="</div>"}return e.People&&e.People.length&&(t+='<div class="tabCast nowPlayingTab smoothScrollX" style="display:none;white-space:nowrap;">',t+=e.People.map(function(e){var t,n='<div class="tileItem smallPosterTileItem" style="width:300px;">',i=150;e.PrimaryImageTag?(t=ApiClient.getScaledImageUrl(e.Id,{height:i,tag:e.PrimaryImageTag,type:"primary",minScale:2}),n+='<div class="tileImage lazy" data-src="'+t+'" style="height:'+i+'px;"></div>'):(t="css/images/items/list/person.png",n+='<div class="tileImage" style="background-image:url(\''+t+"');height:"+i+'px;"></div>'),n+='<div class="tileContent">',n+="<p>"+e.Name+"</p>";var a=e.Role?Globalize.translate("ValueAsRole",e.Role):e.Type;"GuestStar"==a&&(a=Globalize.translate("ValueGuestStar")),a=a||"";var o=40;return a.length>o&&(a=a.substring(0,o-3)+"..."),n+="<p>"+a+"</p>",n+="</div>",n+="</div>"}).join(""),t+="</div>"),t}function a(){return n.currentMediaSource&&n.currentMediaSource.RunTimeTicks?n.currentMediaSource.RunTimeTicks:n.currentMediaRenderer?n.getCurrentTicks(n.currentMediaRenderer):null}function o(){var e=parseInt(this.value),t=e/100*a();n.changeStream(Math.floor(t))}function r(e){var t=[{transform:"translate3d(0, 100%, 0)",offset:0},{transform:"translate3d(0, 0, 0)",offset:1}],n={duration:300,iterations:1};e.animate&&e.animate(t,n)}function l(e){var t=[{transform:"translate3d(0, 0, 0)",offset:0},{transform:"translate3d(0, 100%, 0)",offset:1}],n={duration:300,iterations:1},i=function(){e.classList.add("hide")};e.animate?e.animate(t,n).onfinish=i:i()}function s(){var e="";e+='<div id="videoPlayer" class="hide">',e+='<div id="videoElement">',e+='<div id="play" class="status"></div>',e+='<div id="pause" class="status"></div>',e+="</div>",e+='<div class="videoTopControls hiddenOnIdle">',e+='<div class="videoTopControlsLogo"></div>',e+='<div class="videoAdvancedControls">',e+='<paper-icon-button icon="skip-previous" class="previousTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.previousTrack();"></paper-icon-button>',e+='<paper-icon-button icon="skip-next" class="nextTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.nextTrack();"></paper-icon-button>',e+='<paper-icon-button icon="audiotrack" class="mediaButton videoAudioButton" onclick="MediaPlayer.showAudioTracksFlyout();"></paper-icon-button>',e+='<paper-icon-button icon="closed-caption" class="mediaButton videoSubtitleButton" onclick="MediaPlayer.showSubtitleMenu();"></paper-icon-button>',e+='<paper-icon-button icon="settings" class="mediaButton videoQualityButton" onclick="MediaPlayer.showQualityFlyout();"></paper-icon-button>',e+='<paper-icon-button icon="close" class="mediaButton" onclick="MediaPlayer.stop();"></paper-icon-button>',e+="</div>",e+="</div>",e+='<div class="videoControls hiddenOnIdle">',e+='<div class="nowPlayingInfo hide">',e+='<div class="nowPlayingImage"></div>',e+='<div class="nowPlayingTabs"></div>',e+="</div>",e+='<div class="guide hide">',e+="</div>",e+='<div class="videoControlButtons">',e+='<paper-icon-button icon="skip-previous" class="previousTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.previousTrack();"></paper-icon-button>',e+='<paper-icon-button id="video-playButton" icon="play-arrow" class="mediaButton unpauseButton" onclick="MediaPlayer.unpause();"></paper-icon-button>',e+='<paper-icon-button id="video-pauseButton" icon="pause" class="mediaButton pauseButton" onclick="MediaPlayer.pause();"></paper-icon-button>',e+='<paper-icon-button icon="skip-next" class="nextTrackButton mediaButton videoTrackControl hide" onclick="MediaPlayer.nextTrack();"></paper-icon-button>',e+='<paper-slider pin step=".1" min="0" max="100" value="0" class="videoPositionSlider" style="display:inline-block;margin-right:2em;"></paper-slider>',e+='<div class="currentTime">--:--</div>',e+='<paper-icon-button icon="volume-up" class="muteButton mediaButton" onclick="MediaPlayer.mute();"></paper-icon-button>',e+='<paper-icon-button icon="volume-off" class="unmuteButton mediaButton" onclick="MediaPlayer.unMute();"></paper-icon-button>',e+='<paper-slider pin step="1" min="0" max="100" value="0" class="videoVolumeSlider" style="width:100px;vertical-align:middle;margin-left:-1em;margin-right:2em;display:inline-block;"></paper-slider>',e+='<paper-icon-button icon="cast" class="mediaButton castButton" onclick="MediaController.showPlayerSelection(this, false);" style="width:32px;height:32px;"></paper-icon-button>',e+='<paper-icon-button icon="fullscreen" class="mediaButton fullscreenButton" onclick="MediaPlayer.toggleFullscreen();" id="video-fullscreenButton"></paper-icon-button>',e+='<paper-icon-button icon="info" class="mediaButton infoButton" onclick="MediaPlayer.toggleInfo();"></paper-icon-button>',e+="</div>",e+="</div>",e+="</div>";var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}function d(){if(!R){R=!0,s();var e=t("#videoPlayer");F=t(".muteButton",e),q=t(".unmuteButton",e),A=t(".currentTime",e),L=t(".videoPositionSlider",e).on("change",o)[0],L._setPinValue=function(e){var t=a();if(!n.currentMediaSource||!t)return void(this.pinValue="--:--");var i=t;i/=100,i*=e,this.pinValue=Dashboard.getDisplayTime(i)},O=t(".videoVolumeSlider",e).on("change",function(){var e=this.value;c(e),n.setVolume(e)})[0]}}function u(){V&&window.clearTimeout(V),1==N&&(t(".hiddenOnIdle").removeClass("inactive"),t("#videoPlayer").removeClass("idlePlayer")),N=!1,V=window.setTimeout(function(){N=!0,t(".hiddenOnIdle").addClass("inactive"),t("#videoPlayer").addClass("idlePlayer")},3500)}function c(e){e?(F.show(),q.hide()):(F.hide(),q.show())}function m(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t?t.call(e):v()}function v(){var e=t("#videoPlayer");e.addClass("fullscreenVideo")}function p(){var e=t("#videoPlayer");e.removeClass("fullscreenVideo")}function g(){n.stop()}function f(){n.isFullScreen()?(v(),N=!0):p()}function y(e){(e.clientX!=z.x||e.clientY!=z.y)&&(z.x=e.clientX,z.y=e.clientY,u())}function h(e){Events.on(e,"playing",C),Events.on(e,"playing",T),Events.on(e,"volumechange",P),Events.on(e,"pause",w),Events.on(e,"timeupdate",k),Events.on(e,"error",B),Events.on(e,"click",x),Events.on(e,"dblclick",M);var n=!0;if(n){var i=document.querySelector(".itemVideo");i&&(i.addEventListener("keydown",u),i.addEventListener("scroll",u),i.addEventListener("mousedown",u),u())}t(document).on("webkitfullscreenchange",f),t(document).on("mozfullscreenchange",f),t(document).on("msfullscreenchange",f),t(document).on("fullscreenchange",f),t(window).one("popstate",g),n&&t(document.body).on("mousemove",y)}function b(e){Events.off(e,"playing",C),Events.off(e,"playing",T),Events.off(e,"volumechange",P),Events.off(e,"pause",w),Events.off(e,"timeupdate",k),Events.off(e,"error",B),Events.off(e,"click",x),Events.off(e,"dblclick",M),t(document).off("webkitfullscreenchange",f),t(document).off("mozfullscreenchange",f),t(document).off("msfullscreenchange",f),t(document).off("fullscreenchange",f),t(window).off("popstate",g),t(document.body).off("mousemove",y);var n=document.querySelector(".itemVideo");n&&(n.removeEventListener("keydown",u),n.removeEventListener("scroll",u),n.removeEventListener("mousedown",u))}function S(e){if(!e.classList.contains("hide")){var t=function(){e.classList.add("hide")};t()}}function I(e){e.classList.contains("hide")&&(e.classList.remove("hide"),browserInfo.animate&&!browserInfo.mobile&&requestAnimationFrame(function(){var t=[{transform:"scale3d(.2, .2, .2)  ",opacity:".6",offset:0},{transform:"none",opacity:"1",offset:1}],n={duration:200,iterations:1,easing:"ease-out"};e.animate(t,n)}))}function C(){Events.off(this,"playing",C),Events.on(this,"ended",n.onPlaybackStopped),Events.on(this,"ended",n.playNextAfterEnded),n.onPlaybackStart(this,n.currentItem,n.currentMediaSource)}function T(){var e=document.querySelector("#videoPlayer .videoControls"),n=document.querySelector("#videoPlayer #videoElement");t("#video-playButton",e).hide(),t("#video-pauseButton",e).show(),t("#play",n).show().addClass("fadeOut"),setTimeout(function(){t("#play",n).hide().removeClass("fadeOut")},300)}function P(){c(this.volume())}function w(){var e=document.querySelector("#videoPlayer .videoControls"),n=document.querySelector("#videoPlayer #videoElement");t("#video-playButton",e).show(),t("#video-pauseButton",e).hide(),t("#pause",n).show().addClass("fadeOut"),setTimeout(function(){t("#pause",n).hide().removeClass("fadeOut")},300)}function k(){L.dragging||n.setCurrentTime(n.getCurrentTicks(this),L,A)}function B(){var e=Globalize.translate("MessageErrorPlayingVideo"),t=n.currentItem;t&&"TvChannel"==t.Type&&(e+="<p>",e+=Globalize.translate("MessageEnsureOpenTuner"),e+="</p>"),Dashboard.alert({title:Globalize.translate("HeaderVideoError"),message:e});var i=n.currentMediaRenderer;i&&n.onPlaybackStopped.call(i),n.nextTrack()}function x(){browserInfo.mobile||(this.paused()?n.unpause():n.pause())}function M(){browserInfo.mobile||n.toggleFullscreen()}var E,L,A,N=!0,F=null,q=null,O=null;n.currentSubtitleStreamIndex=null,n.getCurrentSubtitleStream=function(){return n.getSubtitleStream(n.currentSubtitleStreamIndex)},n.getSubtitleStream=function(e){return n.currentMediaSource.MediaStreams.filter(function(t){return"Subtitle"==t.Type&&t.Index==e})[0]},n.toggleFullscreen=function(){n.isFullScreen()?n.exitFullScreen():m(document.body)},n.resetEnhancements=function(){R&&(n.isFullScreen()&&n.exitFullScreen(),S(document.querySelector("#videoPlayer")),t("#videoPlayer").removeClass("fullscreenVideo").removeClass("idlePlayer"),t(".hiddenOnIdle").removeClass("inactive"),t("video").remove(),document.querySelector(".mediaButton.infoButton").classList.remove("active"),document.querySelector(".videoControls .nowPlayingInfo").classList.add("hide"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"))},n.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t("#videoPlayer").removeClass("fullscreenVideo")},n.isFullScreen=function(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?!0:!1},n.showSubtitleMenu=function(){var e=n.currentMediaSource.MediaStreams.filter(function(e){return"Subtitle"==e.Type}),i=n.currentSubtitleStreamIndex;null==i&&(i=-1),e.unshift({Index:-1,Language:Globalize.translate("ButtonOff")});var a=e.map(function(e){var t=[];t.push(e.Language||Globalize.translate("LabelUnknownLanguage")),e.Codec&&t.push(e.Codec);var n=t.join(" - ");e.IsDefault&&(n+=" (D)"),e.IsForced&&(n+=" (F)"),e.External&&(n+=" (EXT)");var a={name:n,id:e.Index};return e.Index==i&&(a.selected=!0),a});require(["actionsheet"],function(e){e.show({items:a,enableHistory:!1,positionTo:t(".videoSubtitleButton")[0],callback:function(e){var t=parseInt(e);t!=i&&n.onSubtitleOptionSelected(t)}})})},n.showQualityFlyout=function(){require(["qualityoptions","actionsheet"],function(i,a){var o=n.getCurrentSrc(n.currentMediaRenderer).toLowerCase(),r=-1!=o.indexOf("static=true"),l=n.currentMediaSource.MediaStreams.filter(function(e){return"Video"==e.Type})[0],s=l?l.Width:null,d=i.getVideoQualityOptions(e.maxStreamingBitrate(),s);r&&(d[0].name="Direct");var u=d.map(function(e){var t={name:e.name,id:e.bitrate};return e.selected&&(t.selected=!0),t}),c=d.filter(function(e){return e.selected});c=c.length?c[0].bitrate:null,a.show({items:u,enableHistory:!1,positionTo:t(".videoQualityButton")[0],callback:function(e){var t=parseInt(e);t!=c&&n.onQualityOptionSelected(t)}})})},n.showAudioTracksFlyout=function(){var e=n.currentMediaSource.MediaStreams.filter(function(e){return"Audio"==e.Type}),i=getParameterByName("AudioStreamIndex",n.getCurrentSrc(n.currentMediaRenderer)),a=e.map(function(e){var t=[];t.push(e.Language||Globalize.translate("LabelUnknownLanguage")),e.Codec&&t.push(e.Codec),e.Profile&&t.push(e.Profile),e.BitRate&&t.push(Math.floor(e.BitRate/1e3)+" kbps"),e.Channels&&t.push(e.Channels+" ch");var n=t.join(" - ");e.IsDefault&&(n+=" (D)");var a={name:n,id:e.Index};return e.Index==i&&(a.selected=!0),a});require(["actionsheet"],function(e){e.show({items:a,enableHistory:!1,positionTo:t(".videoAudioButton")[0],callback:function(e){var t=parseInt(e);t!=i&&n.onAudioOptionSelected(t)}})})},n.setAudioStreamIndex=function(e){n.changeStream(n.getCurrentTicks(),{AudioStreamIndex:e})},n.setSubtitleStreamIndex=function(e){if(!n.currentMediaRenderer.supportsTextTracks())return n.changeStream(n.getCurrentTicks(),{SubtitleStreamIndex:e}),void(n.currentSubtitleStreamIndex=e);var t=n.getCurrentSubtitleStream(),i=n.getSubtitleStream(e);if(t||i){var a=-1;t&&!i?"External"!=t.DeliveryMethod&&n.changeStream(n.getCurrentTicks(),{SubtitleStreamIndex:-1}):!t&&i?"External"==i.DeliveryMethod?a=e:n.changeStream(n.getCurrentTicks(),{SubtitleStreamIndex:e}):t&&i&&("External"==i.DeliveryMethod?(a=e,"External"!=t.DeliveryMethod&&n.changeStream(n.getCurrentTicks(),{SubtitleStreamIndex:-1})):n.changeStream(n.getCurrentTicks(),{SubtitleStreamIndex:e})),n.setCurrentTrackElement(a),n.currentSubtitleStreamIndex=e}},n.setCurrentTrackElement=function(e){n.currentMediaRenderer.setCurrentTrackElement(e)},n.updateTextStreamUrls=function(e){n.currentMediaRenderer.updateTextStreamUrls(e)},n.updateNowPlayingInfo=function(e){if(!e)throw new Error("item cannot be null");var a=t("#videoPlayer"),o=n.getPlayerStateInternal(n.currentMediaRenderer,e.CurrentProgram||e,n.currentMediaSource),r="",l=400,s=300;o.NowPlayingItem.PrimaryImageTag?r=ApiClient.getScaledImageUrl(o.NowPlayingItem.PrimaryImageItemId,{type:"Primary",width:l,tag:o.NowPlayingItem.PrimaryImageTag}):o.NowPlayingItem.PrimaryImageTag?r=ApiClient.getScaledImageUrl(o.NowPlayingItem.PrimaryImageItemId,{type:"Primary",width:l,tag:o.NowPlayingItem.PrimaryImageTag}):o.NowPlayingItem.BackdropImageTag?r=ApiClient.getScaledImageUrl(o.NowPlayingItem.BackdropItemId,{type:"Backdrop",height:s,tag:o.NowPlayingItem.BackdropImageTag,index:0}):o.NowPlayingItem.ThumbImageTag&&(r=ApiClient.getScaledImageUrl(o.NowPlayingItem.ThumbImageItemId,{type:"Thumb",height:s,tag:o.NowPlayingItem.ThumbImageTag})),t(".nowPlayingImage",a).html(r?'<img src="'+r+'" />':""),o.NowPlayingItem.LogoItemId?(r=ApiClient.getScaledImageUrl(o.NowPlayingItem.LogoItemId,{type:"Logo",height:42,tag:o.NowPlayingItem.LogoImageTag}),t(".videoTopControlsLogo",a).html('<img src="'+r+'" />')):t(".videoTopControlsLogo",a).html("");var d=t(".nowPlayingTabs",a).html(i(e.CurrentProgram||e)).lazyChildren();t(".nowPlayingTabButton",d).on("click",function(){t(this).hasClass("selectedNowPlayingTabButton")||(t(".selectedNowPlayingTabButton").removeClass("selectedNowPlayingTabButton"),t(this).addClass("selectedNowPlayingTabButton"),t(".nowPlayingTab").hide(),t("."+this.getAttribute("data-tab")).show().trigger("scroll"))}),t(".chapterCard",d).on("click",function(){n.seek(parseInt(this.getAttribute("data-position")))})},t.fn.lazyChildren=function(){for(var e=0,t=this.length;t>e;e++)ImageLoader.lazyChildren(this[e]);return this},n.onAudioOptionSelected=function(e){n.setAudioStreamIndex(e)},n.onSubtitleOptionSelected=function(e){n.setSubtitleStreamIndex(e)},n.onQualityOptionSelected=function(t){e.maxStreamingBitrate(t),e.enableAutomaticBitrateDetection(!1),n.changeStream(n.getCurrentTicks(),{Bitrate:t})},n.toggleInfo=function(){var e=document.querySelector(".mediaButton.infoButton"),t=document.querySelector(".videoControls .nowPlayingInfo");e.classList.contains("active")?(e.classList.remove("active"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"),l(t)):(e.classList.add("active"),document.querySelector(".videoControls").classList.remove("hiddenOnIdle"),t.classList.remove("hide"),r(t))},n.toggleGuide=function(){var e=document.querySelector(".mediaButton.guideButton"),t=document.querySelector(".videoControls .guide");e.classList.contains("active")?(e.classList.remove("active"),document.querySelector(".videoControls").classList.add("hiddenOnIdle"),l(t)):(e.classList.add("active"),document.querySelector(".videoControls").classList.remove("hiddenOnIdle"),t.classList.remove("hide"),r(t),n.guideInstance||require(["tvguide"],function(e){n.guideInstance=new e({element:t,enablePaging:!1})}))};var R,V,z={};n.cleanup=function(e){A&&A.html("--:--"),b(e)},n.playVideo=function(e,t,i,a){requirejs(["videorenderer","css!css/nowplayingbar.css","css!css/mediaplayer-video.css","paper-slider"],function(){d(),n.createStreamInfo("Video",e,t,i).then(function(o){var r=-1!=o.url.toLowerCase().indexOf(".m3u8");if(!t.RunTimeTicks&&r){Dashboard.showLoadingMsg();var l=o.url.replace("master.m3u8","live.m3u8");ApiClient.ajax({type:"GET",url:l}).then(function(){Dashboard.hideLoadingMsg(),o.url=l,setTimeout(function(){n.playVideoInternal(e,t,i,o,a)},2e3)},function(){Dashboard.hideLoadingMsg()})}else n.playVideoInternal(e,t,i,o,a)})})},n.playVideoInternal=function(e,i,a,o,r){n.startTimeTicksOffset=o.startTimeTicksOffset;var l=i.MediaStreams||[],s=l.filter(function(e){return"Subtitle"==e.Type}),d=document.querySelector("#videoPlayer");I(d);var u=t(".videoControls",d);t("#video-playButton",u).hide(),t("#video-pauseButton",u).show(),t(".videoTrackControl").addClass("hide");t("#videoElement",d);t(".videoQualityButton",u).show(),l.filter(function(e){return"Audio"==e.Type}).length?t(".videoAudioButton").show():t(".videoAudioButton").hide(),s.length?t(".videoSubtitleButton").show():t(".videoSubtitleButton").hide();var m=new VideoRenderer({poster:n.getPosterUrl(e)}),v=!m.enableCustomVideoControls();v||AppInfo.isNativeApp?t("#video-fullscreenButton",u).hide():t("#video-fullscreenButton",u).show(),AppInfo.hasPhysicalVolumeButtons?(t(O).addClass("hide"),t(".muteButton",u).addClass("hide"),t(".unmuteButton",u).addClass("hide")):(t(O).removeClass("hide"),t(".muteButton",u).removeClass("hide"),t(".unmuteButton",u).removeClass("hide")),v?u.addClass("hide"):u.removeClass("hide"),E=n.getSavedVolume(),m.volume(E),O.value=100*E,c(E),h(m),n.currentSubtitleStreamIndex=i.DefaultSubtitleStreamIndex,t(document.body).addClass("bodyWithPopupOpen"),n.currentMediaRenderer=m,n.currentDurationTicks=n.currentMediaSource.RunTimeTicks,n.updateNowPlayingInfo(e),m.init().then(function(){n.onBeforePlaybackStart(m,e,i),n.setSrcIntoRenderer(m,o,e,n.currentMediaSource),n.streamInfo=o,r&&r()})},n.updatePlaylistUi=function(){if(R){var e=n.currentPlaylistIndex(null),i=n.playlist.length,a=!1;if(n.currentMediaRenderer&&n.currentMediaRenderer.enableCustomVideoControls&&(a=n.currentMediaRenderer.enableCustomVideoControls()),2>i)return void t(".videoTrackControl").addClass("hide");var o=a?".videoAdvancedControls":".videoControls";o=document.querySelector(o);var r=o.getElementsByClassName("previousTrackButton")[0],l=o.getElementsByClassName("nextTrackButton")[0];0===e?r.setAttribute("disabled","disabled"):r.removeAttribute("disabled"),e+1>=i?l.setAttribute("disabled","disabled"):l.removeAttribute("disabled"),t(r).removeClass("hide"),t(l).removeClass("hide")}}}n(MediaPlayer)});