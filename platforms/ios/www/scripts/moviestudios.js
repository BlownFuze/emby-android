define(["jQuery"],function(e){function r(){var e=t(),r=n[e];return r||(r=n[e]={query:{SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"Movie",Recursive:!0,Fields:"DateCreated,ItemCounts",StartIndex:0,Limit:LibraryBrowser.getDefaultPageSize()}},r.query.ParentId=LibraryMenu.getTopParentId(),LibraryBrowser.loadSavedQueryValues(e,r.query)),r.query}function t(){return LibraryBrowser.getSavedQueryKey("studios")}function i(n){Dashboard.showLoadingMsg();var o=r();ApiClient.getStudios(Dashboard.getCurrentUserId(),o).then(function(r){window.scrollTo(0,0);var a="",s=LibraryBrowser.getQueryPagingHtml({startIndex:o.StartIndex,limit:o.Limit,totalRecordCount:r.TotalRecordCount,viewButton:!1,updatePageSizeSetting:!1,showLimit:!1});n.querySelector(".listTopPaging").innerHTML=s,a=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"backdrop",preferThumb:!0,context:"movies",showItemCounts:!0,centerText:!0,lazy:!0});var u=n.querySelector(".itemsContainer");u.innerHTML=a+s,ImageLoader.lazyChildren(u),e(".btnNextPage",n).on("click",function(){o.StartIndex+=o.Limit,i(n)}),e(".btnPreviousPage",n).on("click",function(){o.StartIndex-=o.Limit,i(n)}),LibraryBrowser.saveQueryValues(t(),o),Dashboard.hideLoadingMsg()})}var n={};window.MoviesPage.renderStudiosTab=function(e,r){LibraryBrowser.needsRefresh(r)&&i(r)}});