!function(e,t){function r(e,t){e.querySelector(".txtDevicePath").value="",t&&ApiClient.getNamedConfiguration("livetv").then(function(r){var a=r.TunerHosts.filter(function(e){return e.Id==t})[0];e.querySelector(".txtDevicePath").value=a.Url||"",e.querySelector(".chkEnabled").checked=a.IsEnabled})}function a(e){Dashboard.showLoadingMsg();var t=getParameterByName("id");if(t)ApiClient.getNamedConfiguration("livetv").then(function(r){var a=r.TunerHosts.filter(function(e){return e.Id==t})[0];i(e,a),n(e,a)});else{var r={Type:"satip"};i(e,r),n(e,r)}}function i(e,t){t.Url=e.querySelector(".txtDevicePath").value,t.IsEnabled=e.querySelector(".chkEnabled").checked}function n(e,t){ApiClient.ajax({type:"POST",url:ApiClient.getUrl("LiveTv/TunerHosts"),data:JSON.stringify(t),contentType:"application/json"}).then(function(){Dashboard.processServerConfigurationUpdateResult(),Dashboard.navigate("livetvstatus.html")},function(){Dashboard.hideLoadingMsg(),Dashboard.alert({message:Globalize.translate("ErrorSavingTvProvider")})})}function o(t){var r=t.target,a=r.value,i=e(r).parents(".page")[0];a?i.querySelector(".fldSourceB").classList.remove("hide"):i.querySelector(".fldSourceB").classList.add("hide"),"diseqc1"==a?(i.querySelector(".fldSourceC").classList.remove("hide"),i.querySelector(".fldSourceD").classList.remove("hide")):(i.querySelector(".fldSourceC").classList.add("hide"),i.querySelector(".fldSourceD").classList.add("hide"))}e(t).on("pageinit","#liveTvTunerProviderSatPage",function(){var t=this;e("form",t).on("submit",function(){return a(t),!1}),t.querySelector(".selectDiseqC").addEventListener("change",o)}).on("pageshow","#liveTvTunerProviderSatPage",function(){var e=getParameterByName("id"),t=this;r(t,e)})}(jQuery,document,window);