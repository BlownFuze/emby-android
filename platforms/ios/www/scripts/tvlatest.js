define(["components/categorysyncbuttons","components/groupedcards","cardBuilder"],function(e,t,n){function r(){return"Thumb"}function a(e,t){Dashboard.showLoadingMsg();var n=Dashboard.getCurrentUserId(),r=t.topParentId,a={IncludeItemTypes:"Episode",Limit:30,Fields:"PrimaryImageAspectRatio,BasicSyncInfo",ParentId:r,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Thumb"};return ApiClient.getJSON(ApiClient.getUrl("Users/"+n+"/Items/Latest",a))}function i(e,t,a){a.then(function(t){var a=r(),i="";"ThumbCard"==a?i+=n.getCardsHtml({items:t,shape:"backdrop",preferThumb:!0,inheritThumb:!1,showUnplayedIndicator:!1,showChildCountIndicator:!0,showParentTitle:!0,lazy:!0,showTitle:!0,cardLayout:!0}):"Thumb"==a&&(i+=n.getCardsHtml({items:t,shape:"backdrop",preferThumb:!0,inheritThumb:!1,showParentTitle:!1,showUnplayedIndicator:!1,showChildCountIndicator:!0,centerText:!0,lazy:!0,showTitle:!1,overlayPlayButton:AppInfo.enableAppLayouts}));var o=e.querySelector("#latestEpisodes");o.innerHTML=i,ImageLoader.lazyChildren(o),Dashboard.hideLoadingMsg()})}return function(n,r,o){var s=this;e.init(o);var d;s.preRender=function(){d=a(n,r)},s.renderTab=function(){i(o,r,d)},o.querySelector("#latestEpisodes").addEventListener("click",t.onItemsContainerClick)}});