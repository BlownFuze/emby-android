define(["libraryBrowser","cardBuilder","emby-itemscontainer","emby-tabs","emby-button","scripts/channelslatest","scripts/sections"],function(e,a){function r(r){Dashboard.showLoadingMsg(),n.UserId=Dashboard.getCurrentUserId(),ApiClient.getJSON(ApiClient.getUrl("Channels",n)).then(function(t){window.scrollTo(0,0);var o="",s="Thumb";"Thumb"==s?o=a.getCardsHtml({items:t.Items,shape:"backdrop",context:"channels",showTitle:!0,lazy:!0,centerText:!0,preferThumb:!0}):"ThumbCard"==s&&(o=a.getCardsHtml({items:t.Items,shape:"backdrop",preferThumb:!0,context:"channels",lazy:!0,cardLayout:!0,showTitle:!0}));var i=r.querySelector("#items");i.innerHTML=o,ImageLoader.lazyChildren(i),e.saveQueryValues("channels",n),Dashboard.hideLoadingMsg()})}function t(a,t){switch(t){case 1:e.loadSavedQueryValues("channels",n),r(a)}}var n={StartIndex:0};return function(a){var r=this,n=a.querySelector(".libraryViewNav");e.configurePaperLibraryTabs(a,n,a.querySelectorAll(".pageTabContent"),[0,1]),n.addEventListener("tabchange",function(e){t(a,parseInt(e.detail.selectedTabIndex))}),AppInfo.enableHeadRoom&&require(["headroom-window"],function(e){e.add(n),r.headroom=e}),a.addEventListener("viewdestroy",function(){r.headroom&&r.headroom.remove(n)})}});