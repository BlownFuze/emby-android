define(["libraryBrowser","cardBuilder","emby-itemscontainer","emby-tabs","emby-button","scripts/channelslatest","scripts/sections"],function(e,r){function a(a){Dashboard.showLoadingMsg(),n.UserId=Dashboard.getCurrentUserId(),ApiClient.getJSON(ApiClient.getUrl("Channels",n)).then(function(t){window.scrollTo(0,0);var s="",o="Thumb";"Thumb"==o?s=r.getCardsHtml({items:t.Items,shape:"backdrop",context:"channels",showTitle:!0,lazy:!0,centerText:!0,preferThumb:!0}):"ThumbCard"==o&&(s=r.getCardsHtml({items:t.Items,shape:"backdrop",preferThumb:!0,context:"channels",lazy:!0,cardLayout:!0,showTitle:!0}));var i=a.querySelector("#items");i.innerHTML=s,ImageLoader.lazyChildren(i),e.saveQueryValues("channels",n),Dashboard.hideLoadingMsg()})}function t(r,t){switch(t){case 1:e.loadSavedQueryValues("channels",n),a(r)}}var n={StartIndex:0};return function(r){var a=this,n=r.querySelector(".libraryViewNav");e.configurePaperLibraryTabs(r,n,r.querySelectorAll(".pageTabContent"),[0,1]),n.addEventListener("tabchange",function(e){t(r,parseInt(e.detail.selectedTabIndex))}),require(["headroom-window"],function(e){e.add(n),a.headroom=e}),r.addEventListener("viewdestroy",function(){a.headroom&&a.headroom.remove(n)})}});