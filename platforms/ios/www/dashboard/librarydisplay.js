define(["globalize","emby-checkbox","emby-button"],function(e){function i(){return[{href:"library.html",name:e.translate("TabFolders")},{href:"librarydisplay.html",name:e.translate("TabDisplay")},{href:"librarypathmapping.html",name:e.translate("TabPathSubstitution")},{href:"librarysettings.html",name:e.translate("TabAdvanced")}]}return function(e){function t(){ApiClient.getServerConfiguration().then(function(i){e.querySelector(".chkFolderView").checked=i.EnableFolderView,e.querySelector(".chkGroupMoviesIntoCollections").checked=i.EnableGroupingIntoCollections,e.querySelector(".chkDisplaySpecialsWithinSeasons").checked=i.DisplaySpecialsWithinSeasons,e.querySelector(".chkDisplayCollectionView").checked=i.DisplayCollectionsView})}e.querySelector("form").addEventListener("submit",function(e){Dashboard.showLoadingMsg();var i=this;return ApiClient.getServerConfiguration().then(function(e){e.EnableFolderView=i.querySelector(".chkFolderView").checked,e.EnableGroupingIntoCollections=i.querySelector(".chkGroupMoviesIntoCollections").checked,e.DisplaySpecialsWithinSeasons=i.querySelector(".chkDisplaySpecialsWithinSeasons").checked,e.DisplayCollectionsView=i.querySelector(".chkDisplayCollectionView").checked,ApiClient.updateServerConfiguration(e).then(Dashboard.processServerConfigurationUpdateResult)}),e.preventDefault(),!1}),e.addEventListener("viewshow",function(){LibraryMenu.setTabs("librarysetup",1,i),t()})}});