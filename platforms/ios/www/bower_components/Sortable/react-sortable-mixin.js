!function(t){"use strict";"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t(require("./Sortable")):"function"==typeof define&&define.amd?define(["./Sortable"],t):window.SortableMixin=t(Sortable)}(function(t){"use strict";function e(t){return t.sortableOptions&&t.sortableOptions.model||r.model}function n(t){var n=e(t),o=t.state&&t.state[n]||t.props[n];return o.slice()}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i,s,r={ref:"list",model:"items",animation:100,onStart:"handleStart",onEnd:"handleEnd",onAdd:"handleAdd",onUpdate:"handleUpdate",onRemove:"handleRemove",onSort:"handleSort",onFilter:"handleFilter",onMove:"handleMove"},a={sortableMixinVersion:"0.1.1",_sortableInstance:null,componentDidMount:function(){var a,l=o(o({},r),this.sortableOptions||{}),d=o({},l),h=function(t,e){var n=this[l[t]];n&&n.call(this,e,this._sortableInstance)}.bind(this);"onStart onEnd onAdd onSort onUpdate onRemove onFilter onMove".split(" ").forEach(function(t){d[t]=function(o){if("onStart"===t)i=o.item.nextElementSibling,s=this;else if("onAdd"===t||"onUpdate"===t){o.from.insertBefore(o.item,i);var r,a,l={},c={},f=o.oldIndex,u=o.newIndex,p=n(this);"onAdd"===t?(r=n(s),a=r.splice(f,1)[0],p.splice(u,0,a),c[e(s)]=r):p.splice(u,0,p.splice(f,1)[0]),l[e(this)]=p,d.stateHandler?this[d.stateHandler](l):this.setState(l),this!==s&&s.setState(c)}setTimeout(function(){h(t,o)},0)}.bind(this)},this),a=this.getDOMNode()?(this.refs[l.ref]||this).getDOMNode():this.refs[l.ref]||this,this._sortableInstance=t.create(a,d)},componentWillReceiveProps:function(t){var n={},o=e(this),i=t[o];i&&(n[o]=i,this.setState(n))},componentWillUnmount:function(){this._sortableInstance.destroy(),this._sortableInstance=null}};return a});