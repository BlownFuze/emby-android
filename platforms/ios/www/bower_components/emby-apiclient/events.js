define([],function(){function n(n,a){if(!n)throw new Error("obj cannot be null!");n._callbacks=n._callbacks||{};var c=n._callbacks[a];return c||(n._callbacks[a]=[],c=n._callbacks[a]),c}return{on:function(a,c,r){var l=n(a,c);l.push(r)},off:function(a,c,r){var l=n(a,c),o=l.indexOf(r);-1!=o&&l.splice(o,1)},trigger:function(a,c){var r={type:c},l=[];l.push(r);for(var o=arguments[2]||[],t=0,e=o.length;e>t;t++)l.push(o[t]);var f=n(a,c).slice(0);f.forEach(function(n){n.apply(a,l)})}}});