define(["dialogHelper","layoutManager","scrollHelper","globalize","require","paper-icon-button-light","emby-input","emby-select","css!./../formdialog"],function(e,t,o,r,n){function l(l){return new Promise(function(a,u){n(["text!./personeditor.template.html"],function(n){var c={removeOnClose:!0};c.size=t.tv?"fullscreen":"medium";var s=e.createDialog(c);s.classList.add("ui-body-b"),s.classList.add("background-theme-b"),s.classList.add("formDialog");var i="",d=!1;i+=r.translateDocument(n),s.innerHTML=i,document.body.appendChild(s),s.querySelector(".txtPersonName",s).value=l.Name||"",s.querySelector(".selectPersonType",s).value=l.Type||"",s.querySelector(".txtPersonRole",s).value=l.Role||"",t.tv&&o.centerFocus.on(s.querySelector(".dialogContent"),!1),e.open(s),s.addEventListener("close",function(){d?a(l):u()}),s.querySelector(".btnCancel").addEventListener("click",function(){e.close(s)}),s.querySelector("form").addEventListener("submit",function(t){return d=!0,l.Name=s.querySelector(".txtPersonName",s).value,l.Type=s.querySelector(".selectPersonType",s).value,l.Role=s.querySelector(".txtPersonRole",s).value||null,e.close(s),t.preventDefault(),!1})})})}return{show:l}});