var SocialShareKit=function(){function e(e){C=e||{},S=/(twitter|facebook|google-plus|pinterest|tumblr|vk|linkedin|email)/,t(function(){y=n(C.selector||".ssk"),y.length&&(o(y,function(e){var t,n=c(e);n&&(i(e,"click",a),r(e,"click",a),-1!==e.parentNode.className.indexOf("ssk-count")&&(n=n[0],t=n+I+l(n,e),t in E||(E[t]=[]),E[t].push(e)))}),v())})}function t(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}function n(e){return document.querySelectorAll(e)}function o(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function r(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.call(e)})}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function c(e){return e.className.match(S)}function a(e){var t,n=u(e),o=c(n);o&&(t=d(o[0],n),t&&("email"!=o[0]?s(t):document.location=t))}function u(e){var t=e||window.event;return t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0),t.target||t.srcElement}function s(e){var t=575,n=400,o=document.documentElement.clientWidth/2-t/2,r=(document.documentElement.clientHeight-n)/2,i="status=1,resizable=yes,width="+t+",height="+n+",top="+r+",left="+o;return win=window.open(e,"",i),win.focus(),win}function d(e,t){var n,o=h(e,t),r=l(e,t,o),i=encodeURIComponent(r),c="undefined"!=typeof o.title?o.title:p(e),a="undefined"!=typeof o.text?o.text:m(e),u=o.image,s=o.via;switch(e){case"facebook":n="https://www.facebook.com/share.php?u="+i;break;case"twitter":n="https://twitter.com/share?url="+i+"&text="+encodeURIComponent(c+(a&&c?" - ":"")+a),s=s||f("twitter:site"),s&&(n+="&via="+s.replace("@",""));break;case"google-plus":n="https://plus.google.com/share?url="+i;break;case"pinterest":n="http://pinterest.com/pin/create/button/?url="+i+"&description="+encodeURIComponent(a),u=u||f("og:image"),u&&(n+="&media="+encodeURIComponent(u));break;case"tumblr":n="http://www.tumblr.com/share/link?url="+i+"&name="+encodeURIComponent(c)+"&description="+encodeURIComponent(a);break;case"linkedin":n="http://www.linkedin.com/shareArticle?mini=true&url="+i+"&title="+encodeURIComponent(c)+"&summary="+encodeURIComponent(a);break;case"vk":n="http://vkontakte.ru/share.php?url="+i;break;case"email":n="mailto:?subject="+encodeURIComponent(c)+"&body="+encodeURIComponent(c+"\n"+r+"\n\n"+a+"\n")}return n}function l(e,t,n){return n=n||h(e,t),n.url||window.location.href}function p(e){var t;return"twitter"==e&&(t=f("twitter:title")),t||document.title}function m(e){var t;return"twitter"==e&&(t=f("twitter:description")),t||f("description")}function f(e,t){var o,r=n("meta["+(t?t:0===e.indexOf("og:")?"property":"name")+'="'+e+'"]');return r.length&&(o=r[0].getAttribute("content")||""),o||""}function h(e,t){var n,o,r,i,c=["url","title","text","image"],a={},u=t.parentNode;"twitter"==e&&c.push("via");for(i in c)o=c[i],r="data-"+o,n=t.getAttribute(r)||u.getAttribute(r)||(C[e]&&"undefined"!=typeof C[e][o]?C[e][o]:C[o]),"undefined"!=typeof n&&(a[o]=n);return a}function v(){var e,t;for(e in E)t=e.split(I),function(e){g(t[0],t[1],function(t){for(var n in e)w(e[n],t)})}(E[e])}function w(e,t){var n=document.createElement("div");n.innerHTML=t,n.className="ssk-num",e.appendChild(n)}function g(e,t,n){var o,r,i,c=encodeURIComponent(t);switch(e){case"facebook":o="http://graph.facebook.com/?id="+c,r=function(e){return n(e.shares?e.shares:0)};break;case"twitter":o="http://cdn.api.twitter.com/1/urls/count.json?url="+c,r=function(e){return n(e.count)};break;case"google-plus":return o="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",i='[{"method":"pos.plusones.get","id":"p","params":{"id":"'+t+'","userId":"@viewer","groupId":"@self","nolog":true},"jsonrpc":"2.0","key":"p","apiVersion":"v1"}]',r=function(e){return e=JSON.parse(e),e.length?n(e[0].result.metadata.globalCounts.count):void 0},void k(o,r,i);case"linkedin":o="http://www.linkedin.com/countserv/count/share?url="+c,r=function(e){return n(e.count)};break;case"pinterest":o="http://api.pinterest.com/v1/urls/count.json?url="+c,r=function(e){return n(e.count)};break;case"vk":o="http://vk.com/share.php?act=count&url="+c,r=function(e){return n(e)}}o&&r&&b(e,o,r,i)}function k(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&t(this.responseText)},o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.send(n)}function b(e,t,n){var o="cb_"+e+"_"+Math.round(1e5*Math.random()),r=document.createElement("script");return window[o]=function(e){try{delete window[o]}catch(t){}document.body.removeChild(r),n(e)},"vk"==e?window.VK={Share:{count:function(e,t){window[o](t)}}}:"google-plus"==e&&(window.services={gplus:{cb:window[o]}}),r.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(r),!0}var y,C,S,E={},I="*|*";return{init:e}}();window.SocialShareKit=SocialShareKit;