define(["dialogHelper","layoutManager","dialogText","./social-share-kit-1.0.4/dist/js/social-share-kit.min","css!./social-share-kit-1.0.4/dist/css/social-share-kit.css"],function(s,e,a){function t(t){function i(){n=!0,s.close(r)}var r=s.createDialog({removeOnClose:!0,autoFocus:e.tv});r.id="dlg"+(new Date).getTime();var l="";l+="<h2>"+Globalize.translate("Share")+"</h2>",l+="<div>",l+='<div class="ssk-group ssk-round ssk-lg">',l+='<a href="" class="ssk ssk-facebook"></a>',l+='<a href="" class="ssk ssk-twitter"></a><a href="" class="ssk ssk-google-plus"></a><a href="" class="ssk ssk-pinterest"></a><a href="" class="ssk ssk-tumblr"></a></div>',l+="</div>",l+='<div class="buttons">',l+='<paper-button class="btnCancel">'+a.get("Cancel")+"</paper-button>",l+="</div>",r.innerHTML=l,document.body.appendChild(r);var n=!1,o=t.share;SocialShareKit.init({selector:"#"+r.id+" .ssk",url:o.Url,title:o.Name,text:o.Overview,image:o.ImageUrl,via:"Emby"});for(var c=r.querySelectorAll(".ssk"),d=0,u=c.length;u>d;d++)c[d].addEventListener("click",i);r.querySelector(".btnCancel").addEventListener("click",function(){s.close(r)});var k=new Promise(function(s,e){r.addEventListener("close",function(){n?s():e()})});return s.open(r),k}return{showMenu:t}});