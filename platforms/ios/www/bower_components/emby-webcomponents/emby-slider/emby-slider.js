define(["browser","css!./emby-slider","registerElement","emby-input"],function(e){function t(e,t,i){var r=e.value;requestAnimationFrame(function(){if(t){var s=(r-e.min)/(e.max-e.min);t.style.flex=s,i.style.flex=1-s}})}function i(e,t){var i=e.value;t.style.left=i-1+"%",e.getBubbleText&&(i=e.getBubbleText(i)),t.innerHTML=i}function r(e,i,r){var s=e.interval;s&&clearInterval(s),e.interval=setInterval(function(){t(e,i,r)},100)}var s=Object.create(HTMLInputElement.prototype),n=e.firefox||e.edge||e.msie,l=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");a&&a.configurable&&(l=!0)}s.attachedCallback=function(){if("true"!=this.getAttribute("data-embycheckbox")){this.setAttribute("data-embycheckbox","true"),this.classList.add("mdl-slider"),this.classList.add("mdl-js-slider");var e=this.parentNode;e.classList.add("mdl-slider__container");var s="";n||(s+='<div class="mdl-slider__background-flex"><div class="mdl-slider__background-lower"></div><div class="mdl-slider__background-upper"></div></div>'),s+='<div class="sliderBubble hide"></div>',e.insertAdjacentHTML("beforeend",s);var a=e.querySelector(".mdl-slider__background-lower"),d=e.querySelector(".mdl-slider__background-upper"),c=e.querySelector(".sliderBubble"),o=c.classList.contains("hide");this.addEventListener("input",function(){this.dragging=!0,i(this,c),o&&(c.classList.remove("hide"),o=!1)}),this.addEventListener("change",function(){this.dragging=!1,t(this,a,d),c.classList.add("hide"),o=!0}),n||(l?this.addEventListener("valueset",function(){t(this,a,d)}):r(this,a,d))}},s.detachedCallback=function(){var e=this.interval;e&&clearInterval(e),this.interval=null},document.registerElement("emby-slider",{prototype:s,"extends":"input"})});