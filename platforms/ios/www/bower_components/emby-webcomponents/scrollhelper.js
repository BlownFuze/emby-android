define(["focusManager","dom","scrollStyles"],function(e,t){function n(e){return e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0}}function o(e,t,o){var r=n(e),s=n(t),c=o?s.left-r.left:s.top-r.top,i=o?s.width:s.height;i||0===i||(i=t[o?"offsetWidth":"offsetHeight"]),c+=o?e.scrollLeft:e.scrollTop;var f=o?e.offsetWidth:e.offsetHeight;return{start:c,center:c-f/2+i/2,end:c-f+i,size:i}}function r(e,t,n){var r=o(e,t,n);e.scrollTo?n?e.scrollTo(r.center,0):e.scrollTo(0,r.center):n?e.scrollLeft=Math.round(r.center):e.scrollTop=Math.round(r.center)}function s(t,n,o){var s=e.focusableParent(t.target);s&&r(n,s,o)}function c(e){s(e,this,!0)}function i(e){s(e,this,!1)}return{getPosition:o,centerFocus:{on:function(e,n){n?t.addEventListener(e,"focus",c,{capture:!0,passive:!0}):t.addEventListener(e,"focus",i,{capture:!0,passive:!0})},off:function(e,n){n?t.removeEventListener(e,"focus",c,{capture:!0,passive:!0}):t.removeEventListener(e,"focus",i,{capture:!0,passive:!0})}},toCenter:r}});