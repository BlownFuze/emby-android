define(["appStorage","events"],function(t,e){function n(t,e){return e&&(t=e+"-"+t),t}return new function(){var r=this;r.enableAutomaticBitrateDetection=function(t){return null!=t&&r.set("enableAutomaticBitrateDetection",t.toString()),"false"!=r.get("enableAutomaticBitrateDetection")},r.maxStreamingBitrate=function(t){return null!=t&&r.set("preferredVideoBitrate",t),parseInt(r.get("preferredVideoBitrate")||"")||15e5},r.maxChromecastBitrate=function(t){return null!=t&&r.set("chromecastBitrate1",t),t=r.get("chromecastBitrate1"),t?parseInt(t):null},r.syncOnlyOnWifi=function(t){return null!=t&&r.set("syncOnlyOnWifi",t.toString()),"false"!=r.get("syncOnlyOnWifi")},r.syncPath=function(t){return null!=t&&r.set("syncPath",t),r.get("syncPath")},r.cameraUploadServers=function(t){return null!=t&&r.set("cameraUploadServers",t.join(",")),t=r.get("cameraUploadServers"),t?t.split(","):[]},r.set=function(a,i,c){var u=r.get(a,c);t.setItem(n(a,c),i),u!=i&&e.trigger(r,"change",[a])},r.get=function(e,r){return t.getItem(n(e,r))}}});