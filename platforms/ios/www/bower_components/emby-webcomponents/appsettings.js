define(["appStorage","events"],function(t,e){function n(t,e){return e&&(t=e+"-"+t),t}return new function(){var r=this;r.enableAutoLogin=function(t){return null!=t&&r.set("enableAutoLogin",t.toString()),"false"!=r.get("enableAutoLogin")},r.enableAutomaticBitrateDetection=function(t){return null!=t&&r.set("enableAutomaticBitrateDetection",t.toString()),"false"!=r.get("enableAutomaticBitrateDetection")},r.maxStreamingBitrate=function(t){return null!=t&&r.set("preferredVideoBitrate",t),parseInt(r.get("preferredVideoBitrate")||"0")||15e5},r.maxStaticMusicBitrate=function(t){return void 0!==t&&r.set("maxStaticMusicBitrate",t),parseInt(r.get("maxStaticMusicBitrate")||"0")||null},r.maxChromecastBitrate=function(t){return null!=t&&r.set("chromecastBitrate1",t),t=r.get("chromecastBitrate1"),t?parseInt(t):null},r.syncOnlyOnWifi=function(t){return null!=t&&r.set("syncOnlyOnWifi",t.toString()),"false"!=r.get("syncOnlyOnWifi")},r.syncPath=function(t){return null!=t&&r.set("syncPath",t),r.get("syncPath")},r.cameraUploadServers=function(t){return null!=t&&r.set("cameraUploadServers",t.join(",")),t=r.get("cameraUploadServers"),t?t.split(","):[]},r.set=function(i,a,u){var c=r.get(i,u);t.setItem(n(i,u),a),c!=a&&e.trigger(r,"change",[i])},r.get=function(e,r){return t.getItem(n(e,r))}}});