define(["apphost"],function(e){function r(e,r){if(!e)throw new Error("null item passed into getDisplayName");r=r||{};var n=e.EpisodeTitle||e.Name||"";if("TvChannel"==e.Type)return e.Number?e.Number+" "+n:n;if("Episode"==e.Type&&0==e.ParentIndexNumber)n=Globalize.translate("sharedcomponents#ValueSpecialEpisodeName",n);else if(("Episode"==e.Type||"Program"==e.Type)&&null!=e.IndexNumber&&null!=e.ParentIndexNumber){var i=e.IndexNumber,o="E"+i;r.includeParentInfo!==!1&&(o="S"+e.ParentIndexNumber+", "+o),e.IndexNumberEnd&&(i=e.IndexNumberEnd,o+="-"+i),n=o+" - "+n}return e.EpisodeTitle&&(n=e.Name+" "+n),n}function n(e){if("Timer"==e.Type)return!1;var r=["Person","Genre","MusicGenre","Studio","GameGenre","BoxSet","Playlist","UserView","CollectionFolder","Audio","TvChannel","Program","MusicAlbum","Timer"];return!e.CollectionType&&-1==r.indexOf(e.Type)&&"Photo"!=e.MediaType}function i(e){return"Program"==e.Type?!1:"Timer"==e.Type?!1:e.RunTimeTicks||e.IsFolder||"Genre"==e.Type||"MusicGenre"==e.Type||"MusicArtist"==e.Type}function o(e,r){return"UserRootFolder"==r||"UserView"==r?!1:"Program"==r?!1:e.Policy.IsAdministrator?!0:!1}return{getDisplayName:r,supportsAddingToCollection:n,supportsAddingToPlaylist:i,canIdentify:function(e,r){return"Movie"!=r&&"Trailer"!=r&&"Series"!=r&&"Game"!=r&&"BoxSet"!=r&&"Person"!=r&&"Book"!=r&&"MusicAlbum"!=r&&"MusicArtist"!=r||!e.Policy.IsAdministrator?!1:!0},canEdit:o,canEditImages:function(e,r){return"UserView"==r?e.Policy.IsAdministrator?!0:!1:"Timer"!=r&&o(e,r)},canSync:function(e,r){return e&&!e.Policy.EnableSync?!1:r.SupportsSync},canShare:function(r,n){return"Timer"==n.Type?!1:r.Policy.EnablePublicSharing&&e.supports("sharing")}}});