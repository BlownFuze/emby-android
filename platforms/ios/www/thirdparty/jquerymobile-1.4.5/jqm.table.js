define(["jqmwidget"],function(){var e=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;$.extend($.mobile,{getAttribute:function(t,i){var s;t=t.jquery?t[0]:t,t&&t.getAttribute&&(s=t.getAttribute("data-"+i));try{s="true"===s?!0:"false"===s?!1:"null"===s?null:+s+""===s?+s:e.test(s)?JSON.parse(s):s}catch(n){}return s}}),$.widget("mobile.table",{options:{enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass("ui-table"),$.extend(this,{headers:void 0,allHeaders:void 0}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:$.noop,_refresh:function(){var e=this.element,t=e.find("thead tr");this._setHeaders(),t.each(function(){var i=0;$(this).children().each(function(){var s,n=parseInt(this.getAttribute("colspan"),10),a=":nth-child("+(i+1)+")";if(this.setAttribute("data-colstart",i+1),n)for(s=0;n-1>s;s++)i++,a+=", :nth-child("+(i+1)+")";$(this).data("cells",e.find("tr").not(t.eq(0)).not(this).children(a)),i++})})}}),$.widget("mobile.table",$.mobile.table,{options:{mode:"reflow"},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass("ui-table-reflow"),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(e){this._super(e),e||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){{var e=this;this.options}$(e.allHeaders.get().reverse()).each(function(){var t,i,s=$(this).data("cells"),n=$.mobile.getAttribute(this,"colstart"),a=s.not(this).filter("thead th").length&&" ui-table-cell-label-top",l=$(this).clone().contents();l.length>0&&(a?(t=parseInt(this.getAttribute("colspan"),10),i="",t&&(i="td:nth-child("+t+"n + "+n+")"),e._addLabels(s.filter(i),"ui-table-cell-label"+a,l)):e._addLabels(s,"ui-table-cell-label",l))})},_addLabels:function(e,t,i){1===i.length&&"abbr"===i[0].nodeName.toLowerCase()&&(i=i.eq(0).attr("title")),e.not(":has(b."+t+")").prepend($("<b class='"+t+"'></b>").append(i))}})});