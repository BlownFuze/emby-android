!function(e,t){function a(e){Dashboard.showLoadingMsg(),ApiClient.getSmartMatchInfos(o).then(function(t){r=t,n(e,t),Dashboard.hideLoadingMsg()},function(){Dashboard.hideLoadingMsg()})}function n(t,a){var n=a.Items;n.length>0&&(n=n.sort(function(e,t){return e=e.OrganizerType+" "+e.Name,t=t.OrganizerType+" "+t.Name,e==t?0:t>e?-1:1}));var i="";n.length&&(i+='<div class="paperList">');for(var r=0,o=n.length;o>r;r++){var s=n[r];i+="<paper-icon-item>",i+='<paper-fab mini icon="folder" item-icon class="blue"></paper-fab>',i+="<paper-item-body two-line>",i+="<div>"+s.DisplayName+"</div>",i+=s.MatchStrings.map(function(e){return"<div secondary>"+e+"</div>"}).join(""),i+="</paper-item-body>",i+='<paper-icon-button icon="delete" class="btnDeleteMatchEntry" data-index="'+r+'" title="'+Globalize.translate("ButtonDelete")+'"></paper-icon-button>',i+="</paper-icon-item>"}n.length&&(i+="</div>"),e(".divMatchInfos",t).html(i).trigger("create")}function i(){Dashboard.hideLoadingMsg(),Dashboard.alert({message:Globalize.translate("DefaultErrorMessage")})}var r,o={StartIndex:0,Limit:1e5};e(t).on("pageinit","#libraryFileOrganizerSmartMatchPage",function(){var t=this;e(".divMatchInfos",t).on("click",".btnDeleteMatchEntry",function(){var e=this,n=parseInt(e.getAttribute("data-index")),o=r.Items[n],s=o.MatchStrings.map(function(e){return{Name:o.ItemName,Value:e}});ApiClient.deleteSmartMatchEntries(s).then(function(){a(t)},i)})}).on("pageshow","#libraryFileOrganizerSmartMatchPage",function(){var e=this;Dashboard.showLoadingMsg(),a(e)}).on("pagebeforehide","#libraryFileOrganizerSmartMatchPage",function(){r=null})}(jQuery,document,window);