!function(t,a){function e(t){Dashboard.showLoadingMsg(),ApiClient.getSmartMatchInfos(o).then(function(a){r=a,i(t,a),Dashboard.hideLoadingMsg()},n)}function i(a,e){var i=e.Items;i.length>0&&(i=i.sort(function(t,a){return t=t.OrganizerType+" "+t.Name,a=a.OrganizerType+" "+a.Name,t==a?0:a>t?-1:1}));for(var n,r="",o=0,l=i.length;l>o;o++){var h=i[o];h.OrganizerType!=n&&(n=h.OrganizerType,r.length>0&&(r+="</ul>"),r+="<h2>"+n+"</h2>",r+='<ul data-role="listview" data-inset="true" data-auto-enhanced="false" data-split-icon="action">'),r+="<li data-role='list-divider'><h3 style='font-weight:bold'>"+h.Name+"</h3></li>";for(var d=0;d<h.MatchStrings.length;d++)r+="<li title='"+h.MatchStrings[d]+"'>",r+="<a style='padding-top: 0.5em; padding-bottom: 0.5em'>",r+="<p>"+h.MatchStrings[d]+"</p>",r+="<a id='btnDeleteMatchEntry"+h.Id+"' class='btnDeleteMatchEntry' href='#' data-id='"+h.Id+"' data-matchstring='"+h.MatchStrings[d]+"' data-icon='delete'>"+Globalize.translate("ButtonDelete")+"</a>",r+="</a>",r+="</li>"}r+="</ul>",t(".divMatchInfos",a).html(r).trigger("create")}function n(t){Dashboard.hideLoadingMsg(),Dashboard.alert({title:Globalize.translate("AutoOrganizeError"),message:Globalize.translate("ErrorOrganizingFileWithErrorCode",t.getResponseHeader("X-Application-Error-Code"))})}var r,o={StartIndex:0,Limit:1e5};t(a).on("pageinit","#libraryFileOrganizerSmartMatchPage",function(){var a=this;t(".divMatchInfos",a).on("click",".btnDeleteMatchEntry",function(){var t=this,i=t.getAttribute("data-id"),r={MatchString:t.getAttribute("data-matchstring")};ApiClient.deleteSmartMatchEntry(i,r).then(function(){e(a)},n)})}).on("pageshow","#libraryFileOrganizerSmartMatchPage",function(){var t=this;Dashboard.showLoadingMsg(),e(t)}).on("pagebeforehide","#libraryFileOrganizerSmartMatchPage",function(){r=null})}(jQuery,document,window);