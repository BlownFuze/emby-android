define(["jQuery","libraryBrowser","scrollStyles"],function(e,r){function t(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function i(){return t()?"overflowPortrait":"portrait"}function n(){return t()?"overflowSquare":"square"}function s(){return t()?12:8}function a(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvRecommendedPrograms({userId:Dashboard.getCurrentUserId(),IsAiring:!0,limit:2*s(),ImageTypeLimit:1,EnableImageTypes:"Primary",EnableTotalRecordCount:!1}).then(function(r){d(e,r.Items,"activeProgramItems","play"),Dashboard.hideLoadingMsg()})}function o(e){a(e),ApiClient.getLiveTvRecommendedPrograms({userId:Dashboard.getCurrentUserId(),IsAiring:!1,HasAired:!1,limit:s(),IsMovie:!1,IsSports:!1,IsKids:!1,IsSeries:!0,EnableTotalRecordCount:!1}).then(function(r){d(e,r.Items,"upcomingProgramItems")}),ApiClient.getLiveTvRecommendedPrograms({userId:Dashboard.getCurrentUserId(),IsAiring:!1,HasAired:!1,limit:s(),IsMovie:!0,EnableTotalRecordCount:!1}).then(function(r){d(e,r.Items,"upcomingTvMovieItems",null,i())}),ApiClient.getLiveTvRecommendedPrograms({userId:Dashboard.getCurrentUserId(),IsAiring:!1,HasAired:!1,limit:s(),IsSports:!0,EnableTotalRecordCount:!1}).then(function(r){d(e,r.Items,"upcomingSportsItems")}),ApiClient.getLiveTvRecommendedPrograms({userId:Dashboard.getCurrentUserId(),IsAiring:!1,HasAired:!1,limit:s(),IsKids:!0,EnableTotalRecordCount:!1}).then(function(r){d(e,r.Items,"upcomingKidsItems")})}function d(e,i,s,a,o){var d=r.getPosterViewHtml({items:i,shape:o||(t()?n():"auto"),showTitle:!0,centerText:!0,coverImage:!0,overlayText:!1,lazy:!0,overlayMoreButton:"play"!=a,overlayPlayButton:"play"==a}),u=e.querySelector("."+s);u.innerHTML=d,ImageLoader.lazyChildren(u)}function u(r,i){t()?e(".itemsContainer",i).addClass("hiddenScrollX").createCardMenus():e(".itemsContainer",i).removeClass("hiddenScrollX").createCardMenus()}function l(e,r){o(r)}function c(e,r){{var t=e.querySelector(".mdl-tabs__panel[data-index='"+r+"']"),i=[],n="LiveTvPage",s="",a="";document.querySelector(".viewMenuBar")}switch(r){case 0:s="renderSuggestedTab",a="initSuggestedTab";break;case 1:i.push("registrationservices"),i.push("scripts/livetvguide"),s="renderGuideTab",a="initGuideTab";break;case 2:i.push("scripts/livetvchannels"),i.push("paper-icon-item"),i.push("paper-item-body"),s="renderChannelsTab";break;case 3:i.push("scripts/livetvrecordings"),a="initRecordingsTab",s="renderRecordingsTab";break;case 4:i.push("scripts/livetvseriestimers"),s="renderSeriesTimersTab"}require(i,function(){a&&!t.initComplete&&(window[n][a](e,t),t.initComplete=!0),window[n][s](e,t)})}pageIdOn("pageinit","liveTvSuggestedPage",function(){var e=this,t=e.querySelector(".mdl-tabs");componentHandler.upgradeAllRegistered(e),r.configurePaperLibraryTabs(e,t),t.addEventListener("tabchange",function(r){c(e,parseInt(r.detail.selectedTabIndex))})}),pageIdOn("viewshow","liveTvSuggestedPage",function(){document.body.classList.add("autoScrollY")}),pageIdOn("viewbeforehide","liveTvSuggestedPage",function(){document.body.classList.remove("autoScrollY")}),window.LiveTvPage={renderSuggestedTab:l,initSuggestedTab:u}});