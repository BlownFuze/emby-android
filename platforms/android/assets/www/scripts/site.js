function pageClassOn(e,t,n){document.addEventListener(e,function(e){var o=e.target;o.classList.contains(t)&&n.call(o,e)})}function pageIdOn(e,t,n){document.addEventListener(e,function(e){var o=e.target;o.id==t&&n.call(o,e)})}!function(){function e(){document.removeEventListener("click",e),window.Notification&&Notification.requestPermission()}document.addEventListener("click",e)}();var Dashboard={isConnectMode:function(){if(AppInfo.isNativeApp)return!0;var e=window.location.href.toLowerCase();return-1!=e.indexOf("mediabrowser.tv")||-1!=e.indexOf("emby.media")},isRunningInCordova:function(){return"cordova"==window.appMode},onRequestFail:function(e,t){if(401==t.status){var n=t.url.toLowerCase();return-1!=n.indexOf("emby.media")||-1!=n.indexOf("mb3admin.com")?void Dashboard.hideLoadingMsg():-1!=n.indexOf("/sync")?void Dashboard.hideLoadingMsg():void(-1!=n.indexOf("/password")||-1!=n.indexOf("/authenticate")||ViewManager.currentView().classList.contains(".standalonePage")||("ParentalControl"==t.errorCode?Dashboard.alert({message:Globalize.translate("MessageLoggedOutParentalControl"),callback:function(){Dashboard.logout(!1)}}):Dashboard.logout(!1)))}},onPopupOpen:function(){Dashboard.popupCount=(Dashboard.popupCount||0)+1,document.body.classList.add("bodyWithPopupOpen")},onPopupClose:function(){Dashboard.popupCount=(Dashboard.popupCount||1)-1,Dashboard.popupCount||document.body.classList.remove("bodyWithPopupOpen")},getCurrentUser:function(){return window.ApiClient.getCurrentUser()},serverAddress:function(){if(Dashboard.isConnectMode()){var e=window.ApiClient;return e?e.serverAddress():null}var t=window.location.href.toLowerCase(),n=t.lastIndexOf("/web");if(-1!=n)return t.substring(0,n);var o=window.location,a=o.protocol+"//"+o.hostname;return o.port&&(a+=":"+o.port),a},getCurrentUserId:function(){var e=window.ApiClient;return e?e.getCurrentUserId():null},onServerChanged:function(e,t,n){n=n||window.ApiClient,window.ApiClient=n},logout:function(e){function t(){var e;Dashboard.isConnectMode()?(e="connectlogin.html",window.ApiClient=null):e="login.html",Dashboard.navigate(e)}e===!1?t():ConnectionManager.logout().then(t)},updateSystemInfo:function(e){Dashboard.lastSystemInfo=e,Dashboard.initialServerVersion||(Dashboard.initialServerVersion=e.Version),e.HasPendingRestart?(Dashboard.hideDashboardVersionWarning(),Dashboard.getCurrentUser().then(function(t){t.Policy.IsAdministrator&&Dashboard.showServerRestartWarning(e)})):(Dashboard.hideServerRestartWarning(),Dashboard.initialServerVersion!=e.Version&&Dashboard.showDashboardRefreshNotification()),Dashboard.showInProgressInstallations(e.InProgressInstallations)},showInProgressInstallations:function(e){e=e||[];for(var t=0,n=e.length;n>t;t++){var o=e[t],a=o.PercentComplete||0;100>a&&Dashboard.showPackageInstallNotification(o,"progress")}e.length?Dashboard.ensureInstallRefreshInterval():Dashboard.stopInstallRefreshInterval()},ensureInstallRefreshInterval:function(){Dashboard.installRefreshInterval||(ApiClient.isWebSocketOpen()&&ApiClient.sendWebSocketMessage("SystemInfoStart","0,500"),Dashboard.installRefreshInterval=1)},stopInstallRefreshInterval:function(){Dashboard.installRefreshInterval&&(ApiClient.isWebSocketOpen()&&ApiClient.sendWebSocketMessage("SystemInfoStop"),Dashboard.installRefreshInterval=null)},cancelInstallation:function(e){ApiClient.cancelPackageInstallation(e).then(Dashboard.refreshSystemInfoFromServer,Dashboard.refreshSystemInfoFromServer)},showServerRestartWarning:function(e){if(!AppInfo.isNativeApp){var t='<span style="margin-right: 1em;">'+Globalize.translate("MessagePleaseRestart")+"</span>";e.CanSelfRestart&&(t+='<button is="emby-button" type="button" class="raised submit mini" onclick="this.disabled=\'disabled\';Dashboard.restartServer();"><i class="md-icon">refresh</i><span>'+Globalize.translate("ButtonRestart")+"</span></button>"),Dashboard.showFooterNotification({id:"serverRestartWarning",html:t,forceShow:!0,allowHide:!1})}},hideServerRestartWarning:function(){var e=document.getElementById("serverRestartWarning");e&&e.parentNode.removeChild(e)},showDashboardRefreshNotification:function(){if(!AppInfo.isNativeApp){var e='<span style="margin-right: 1em;">'+Globalize.translate("MessagePleaseRefreshPage")+"</span>";e+='<button is="emby-button" type="button" class="raised submit mini" onclick="this.disabled=\'disabled\';Dashboard.reloadPage();"><i class="md-icon">refresh</i><span>'+Globalize.translate("ButtonRefresh")+"</span></button>",Dashboard.showFooterNotification({id:"dashboardVersionWarning",html:e,forceShow:!0,allowHide:!1})}},reloadPage:function(){window.location.reload(!0)},hideDashboardVersionWarning:function(){var e=document.getElementById("dashboardVersionWarning");e&&e.parentNode.removeChild(e)},showFooterNotification:function(e){var t=!e.id;if(e.id=e.id||"notification"+(new Date).getTime()+parseInt(Math.random()),!document.querySelector(".footer")){var n='<div id="footer" class="footer" data-theme="b" class="ui-bar-b">';n+='<div id="footerNotifications"></div>',n+="</div>",document.body.insertAdjacentHTML("beforeend",n)}var o=document.querySelector(".footer");o.style.top="initial",o.classList.remove("hide");var a=o.querySelector("#footerNotifications"),i="notification"+e.id,s=a.querySelector("#"+i);s||(a.insertAdjacentHTML("beforeend",'<p id="'+i+'" class="footerNotification"></p>'),s=a.querySelector("#"+i));var r=t?"jQuery('#"+i+"').trigger('notification.remove').remove();":"jQuery('#"+i+"').trigger('notification.hide').hide();";e.allowHide!==!1&&(e.html+='<span style="margin-left: 1em;"><button is="emby-button" type="button" class="submit" onclick="'+r+'">'+Globalize.translate("ButtonHide")+"</button></span>"),e.forceShow&&s.classList.remove("hide"),s.innerHTML=e.html,e.timeout&&setTimeout(function(){t?$(s).trigger("notification.remove").remove():$(s).trigger("notification.hide").hide()},e.timeout),$(o).on("notification.remove notification.hide",function(){setTimeout(function(){a.innerHTML||o.classList.add("hide")},50)})},getConfigurationPageUrl:function(e){return"configurationpage?name="+encodeURIComponent(e)},navigate:function(e,t){if(!e)throw new Error("url cannot be null or empty");var n=getWindowLocationSearch();t&&n&&(e+=n),0!=e.indexOf("/")&&0!=e.indexOf("http")&&0!=e.indexOf("file:")&&(e="/"+e),Emby.Page.show(e)},showLoadingMsg:function(){Dashboard.loadingVisible=!0,require(["loading"],function(e){Dashboard.loadingVisible?e.show():e.hide()})},hideLoadingMsg:function(){Dashboard.loadingVisible=!1,require(["loading"],function(e){Dashboard.loadingVisible?e.show():e.hide()})},getModalLoadingMsg:function(){var e=document.querySelector(".modalLoading");return e||(e=document.createElement("modalLoading"),e.classList.add("modalLoading"),e.classList.add("hide"),document.body.appendChild(e)),e},showModalLoadingMsg:function(){Dashboard.getModalLoadingMsg().classList.remove("hide"),Dashboard.showLoadingMsg()},hideModalLoadingMsg:function(){Dashboard.getModalLoadingMsg().classList.add("hide"),Dashboard.hideLoadingMsg()},processPluginConfigurationUpdateResult:function(){Dashboard.hideLoadingMsg(),require(["toast"],function(e){e(Globalize.translate("MessageSettingsSaved"))})},processServerConfigurationUpdateResult:function(){Dashboard.hideLoadingMsg(),require(["toast"],function(e){e(Globalize.translate("MessageSettingsSaved"))})},processErrorResponse:function(e){Dashboard.hideLoadingMsg();var t=""+e.status;e.statusText&&(t=e.statusText),Dashboard.alert({title:t,message:e.headers?e.headers.get("X-Application-Error-Code"):null})},alert:function(e){return"string"==typeof e?void require(["toast"],function(t){t({text:e})}):void require(["alert"],function(t){t({title:e.title||Globalize.translate("HeaderAlert"),text:e.message}).then(e.callback||function(){})})},refreshSystemInfoFromServer:function(){var e=ApiClient;e&&e.accessToken()&&AppInfo.enableFooterNotifications&&e.getSystemInfo().then(function(e){Dashboard.updateSystemInfo(e)})},restartServer:function(){Dashboard.suppressAjaxErrors=!0,Dashboard.showLoadingMsg(),ApiClient.restartServer().then(function(){setTimeout(function(){Dashboard.reloadPageWhenServerAvailable()},250)},function(){Dashboard.suppressAjaxErrors=!1})},reloadPageWhenServerAvailable:function(e){ApiClient.getJSON(ApiClient.getUrl("System/Info")).then(function(t){t.HasPendingRestart?Dashboard.retryReload(e):Dashboard.reloadPage()},function(){Dashboard.retryReload(e)})},retryReload:function(e){setTimeout(function(){e=e||0,e++,10>e?Dashboard.reloadPageWhenServerAvailable(e):Dashboard.suppressAjaxErrors=!1},500)},showUserFlyout:function(){Dashboard.navigate("mypreferencesmenu.html?userId="+ApiClient.getCurrentUserId())},getPluginSecurityInfo:function(){var e=ApiClient;if(!e)return Promise.reject();var t=Dashboard.pluginSecurityInfo;return t?Promise.resolve(t):e.ajax({type:"GET",url:e.getUrl("Plugins/SecurityInfo"),dataType:"json",error:function(){}}).then(function(e){return Dashboard.pluginSecurityInfo=e,e})},resetPluginSecurityInfo:function(){Dashboard.pluginSecurityInfo=null},ensureHeader:function(e){e.classList.contains("standalonePage")&&!e.classList.contains("noHeaderPage")&&Dashboard.renderHeader(e)},renderHeader:function(e){var t=e.querySelector(".header");if(!t){var n="";n+='<div class="header">',n+='<a class="logo" href="home.html" style="text-decoration:none;font-size: 22px;">',e.classList.contains("standalonePage")&&(n+='<img class="imgLogoIcon" src="css/images/mblogoicon.png" />',n+='<span class="logoLibraryMenuButtonText">EMBY</span>'),n+="</a>",n+="</div>",e.insertAdjacentHTML("afterbegin",n)}},getToolsLinkHtml:function(e){var t="",n=e.pageIds?e.pageIds.join(","):"";n=n?' data-pageids="'+n+'"':"",t+='<a class="sidebarLink" href="'+e.href+'"'+n+">";var o=e.icon;if(o){var a=e.color?' style="color:'+e.color+'"':"";t+='<i class="md-icon sidebarLinkIcon"'+a+">"+o+"</i>"}return t+='<span class="sidebarLinkText">',t+=e.name,t+="</span>",t+="</a>"},getToolsMenuHtml:function(e){var t,n,o,a=Dashboard.getToolsMenuLinks(e),i="";for(i+='<div class="drawerContent">',t=0,n=a.length;n>t;t++)o=a[t],o.divider&&(i+="<div class='sidebarDivider'></div>"),o.href?i+=Dashboard.getToolsLinkHtml(o):(i+='<div class="sidebarHeader">',i+=o.name,i+="</div>");return i+="</div>"},getToolsMenuLinks:function(){return[{name:Globalize.translate("TabServer")},{name:Globalize.translate("TabDashboard"),href:"dashboard.html",pageIds:["dashboardPage"],icon:"dashboard"},{name:Globalize.translate("TabSettings"),href:"dashboardgeneral.html",pageIds:["dashboardGeneralPage"],icon:"settings"},{name:Globalize.translate("TabDevices"),href:"devices.html",pageIds:["devicesPage","devicePage"],icon:"tablet"},{name:Globalize.translate("TabUsers"),href:"userprofiles.html",pageIds:["userProfilesPage","newUserPage","editUserPage","userLibraryAccessPage","userParentalControlPage","userPasswordPage"],icon:"people"},{name:"Emby Premiere",href:"supporterkey.html",pageIds:["supporterKeyPage"],icon:"star"},{divider:!0,name:Globalize.translate("TabLibrary"),href:"library.html",pageIds:["mediaLibraryPage","libraryPathMappingPage","librarySettingsPage","libraryDisplayPage"],icon:"folder",color:"#38c"},{name:Globalize.translate("TabMetadata"),href:"metadata.html",pageIds:["metadataConfigurationPage","metadataImagesConfigurationPage","metadataNfoPage"],icon:"insert_drive_file",color:"#FF9800"},{name:Globalize.translate("TabSubtitles"),href:"metadatasubtitles.html",pageIds:["metadataSubtitlesPage"],icon:"closed_caption"},{name:Globalize.translate("TabPlayback"),icon:"play_circle_filled",color:"#E5342E",href:"cinemamodeconfiguration.html",pageIds:["cinemaModeConfigurationPage","playbackConfigurationPage","streamingSettingsPage","encodingSettingsPage"]},{name:Globalize.translate("TabSync"),icon:"sync",href:"syncactivity.html",pageIds:["syncActivityPage","syncJobPage","devicesUploadPage","syncSettingsPage"],color:"#009688"},{divider:!0,name:Globalize.translate("TabExtras")},{name:Globalize.translate("TabAutoOrganize"),color:"#01C0DD",href:"autoorganizelog.html",pageIds:["libraryFileOrganizerPage","libraryFileOrganizerSmartMatchPage","libraryFileOrganizerLogPage"],icon:"folder"},{name:Globalize.translate("DLNA"),href:"dlnasettings.html",pageIds:["dlnaSettingsPage","dlnaProfilesPage","dlnaProfilePage"],icon:"settings"},{name:Globalize.translate("TabLiveTV"),href:"livetvstatus.html",pageIds:["liveTvStatusPage","liveTvSettingsPage","liveTvTunerProviderHdHomerunPage","liveTvTunerProviderM3UPage","liveTvTunerProviderSatPage"],icon:"dvr"},{name:Globalize.translate("TabNotifications"),icon:"notifications",color:"brown",href:"notificationsettings.html",pageIds:["notificationSettingsPage","notificationSettingPage"]},{name:Globalize.translate("TabPlugins"),icon:"add_shopping_cart",color:"#9D22B1",href:"plugins.html",pageIds:["pluginsPage","pluginCatalogPage"]},{divider:!0,name:Globalize.translate("TabExpert")},{name:Globalize.translate("TabAdvanced"),icon:"settings",href:"dashboardhosting.html",color:"#F16834",pageIds:["dashboardHostingPage","serverSecurityPage"]},{name:Globalize.translate("TabLogs"),href:"log.html",pageIds:["logPage"],icon:"folder-open"},{name:Globalize.translate("TabScheduledTasks"),href:"scheduledtasks.html",pageIds:["scheduledTasksPage","scheduledTaskPage"],icon:"schedule"},{name:Globalize.translate("TabHelp"),href:"about.html",icon:"help",color:"#679C34",divider:!0,pageIds:["aboutPage"]}]},processGeneralCommand:function(e){switch(e.Name){case"GoHome":Dashboard.navigate("home.html");break;case"GoToSettings":Dashboard.navigate("dashboard.html");break;case"DisplayContent":Dashboard.onBrowseCommand(e.Arguments);break;case"GoToSearch":Dashboard.navigate("search.html");break;case"DisplayMessage":var t=e.Arguments;if(t.TimeoutMs&&window.Notification&&"granted"===Notification.permission){var n={title:t.Header,body:t.Text,vibrate:!0,timeout:t.TimeoutMs},o=new Notification(n.title,n);o.show&&o.show(),n.timeout&&setTimeout(function(){o.close?o.close():o.cancel&&o.cancel()},n.timeout)}else Dashboard.alert({title:t.Header,message:t.Text});break;case"VolumeUp":case"VolumeDown":case"Mute":case"Unmute":case"ToggleMute":case"SetVolume":case"SetAudioStreamIndex":case"SetSubtitleStreamIndex":case"ToggleFullscreen":case"SetRepeatMode":}},onWebSocketMessageReceived:function(e,t){var n=t;if("LibraryChanged"===n.MessageType)Dashboard.processLibraryUpdateNotification(n.Data);else if("ServerShuttingDown"===n.MessageType)Dashboard.hideServerRestartWarning();else if("ServerRestarting"===n.MessageType)Dashboard.hideServerRestartWarning();else if("SystemInfo"===n.MessageType)Dashboard.updateSystemInfo(n.Data);else if("RestartRequired"===n.MessageType)Dashboard.updateSystemInfo(n.Data);else if("PackageInstallationCompleted"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"completed"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstallationFailed"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"failed"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstallationCancelled"===n.MessageType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"cancelled"),Dashboard.refreshSystemInfoFromServer())});else if("PackageInstalling"===n.MessaapiclientcgeType)Dashboard.getCurrentUser().then(function(e){e.Policy.IsAdministrator&&(Dashboard.showPackageInstallNotification(n.Data,"progress"),Dashboard.refreshSystemInfoFromServer())});else if("GeneralCommand"===n.MessageType){n.Data}},onBrowseCommand:function(e){var t,n=(e.ItemType||"").toLowerCase();return"genre"==n?t="itemdetails.html?id="+e.ItemId:"musicgenre"==n?t="itemdetails.html?id="+e.ItemId:"gamegenre"==n?t="itemdetails.html?id="+e.ItemId:"studio"==n?t="itemdetails.html?id="+e.ItemId:"person"==n?t="itemdetails.html?id="+e.ItemId:"musicartist"==n&&(t="itemdetails.html?id="+e.ItemId),t?void Dashboard.navigate(t):void ApiClient.getItem(Dashboard.getCurrentUserId(),e.ItemId).then(function(e){Dashboard.navigate(LibraryBrowser.getHref(e,null,""))})},showPackageInstallNotification:function(e,t){if(!AppInfo.isNativeApp){var n="";if("completed"==t?n+='<img src="css/images/notifications/done.png" class="notificationIcon" />':"cancelled"==t?n+='<img src="css/images/notifications/info.png" class="notificationIcon" />':"failed"==t?n+='<img src="css/images/notifications/error.png" class="notificationIcon" />':"progress"==t&&(n+='<img src="css/images/notifications/download.png" class="notificationIcon" />'),n+='<span style="margin-right: 1em;">',"completed"==t?n+=Globalize.translate("LabelPackageInstallCompleted").replace("{0}",e.Name+" "+e.Version):"cancelled"==t?n+=Globalize.translate("LabelPackageInstallCancelled").replace("{0}",e.Name+" "+e.Version):"failed"==t?n+=Globalize.translate("LabelPackageInstallFailed").replace("{0}",e.Name+" "+e.Version):"progress"==t&&(n+=Globalize.translate("LabelInstallingPackage").replace("{0}",e.Name+" "+e.Version)),n+="</span>","progress"==t){var o=Math.round(e.PercentComplete||0);n+='<progress style="margin-right: 1em;" max="100" value="'+o+'" title="'+o+'%">',n+=""+o+"%",n+="</progress>",100>o&&(n+='<button is="emby-button" type="button" class="raised cancelDark mini" onclick="this.disabled=\'disabled\';Dashboard.cancelInstallation(\''+e.Id+'\');"><iron-icon icon="cancel"></iron-icon><span>'+Globalize.translate("ButtonCancel")+"</span></button>")}var a=0;"cancelled"==t&&(a=2e3);var i="progress"!=t,s="progress"!=t&&"cancelled"!=t;Dashboard.showFooterNotification({html:n,id:e.Id,timeout:a,forceShow:i,allowHide:s})}},processLibraryUpdateNotification:function(e){var t=e.ItemsAdded;t.length&&!AppInfo.isNativeApp&&window.Notification&&"granted"===Notification.permission&&ApiClient.getItems(Dashboard.getCurrentUserId(),{Recursive:!0,Limit:3,Filters:"IsNotFolder",SortBy:"DateCreated",SortOrder:"Descending",ImageTypes:"Primary",Ids:t.join(",")}).then(function(e){for(var t=e.Items,n=0,o=Math.min(t.length,2);o>n;n++){var a=t[n],i={title:"New "+a.Type,body:a.Name,timeout:15e3,vibrate:!0,data:{options:{url:LibraryBrowser.getHref(a)}}},s=a.ImageTags||{};s.Primary&&(i.icon=ApiClient.getScaledImageUrl(a.Id,{width:60,tag:s.Primary,type:"Primary"}));var r=new Notification(i.title,i);r.show&&r.show(),i.timeout&&setTimeout(function(){r.close?r.close():r.cancel&&r.cancel()},i.timeout)}})},setPageTitle:function(e,t){LibraryMenu.setTitle(e||"Emby"),t=t||e,t&&(document.title=t)},getSupportedRemoteCommands:function(){return["GoHome","GoToSettings","VolumeUp","VolumeDown","Mute","Unmute","ToggleMute","SetVolume","SetAudioStreamIndex","SetSubtitleStreamIndex","DisplayContent","GoToSearch","DisplayMessage","SetRepeatMode"]},isServerlessPage:function(){var e=window.location.href.toLowerCase();return-1!=e.indexOf("connectlogin.html")||-1!=e.indexOf("selectserver.html")||-1!=e.indexOf("login.html")||-1!=e.indexOf("forgotpassword.html")||-1!=e.indexOf("forgotpasswordpin.html")},capabilities:function(){var e={PlayableMediaTypes:["Audio","Video"],SupportedCommands:Dashboard.getSupportedRemoteCommands(),SupportsPersistentIdentifier:Dashboard.isRunningInCordova(),SupportsMediaControl:!0,SupportedLiveMediaTypes:["Audio","Video"]};return Dashboard.isRunningInCordova()&&!browserInfo.safari&&(e.SupportsOfflineAccess=!0,e.SupportsSync=!0,e.SupportsContentUploading=!0),e},normalizeImageOptions:function(e){AppInfo.hasLowImageBandwidth&&(e.enableImageEnhancers=!1);var t;if(e.maxWidth&&(t=!0),e.width&&(t=!0),e.maxHeight&&(t=!0),e.height&&(t=!0),t){var n=90;"backdrop"==(e.type||"").toLowerCase()&&(n-=10),(browserInfo.mobile||browserInfo.tv)&&(n-=30),AppInfo.hasLowImageBandwidth&&(AppInfo.isNativeApp||(n-=15)),e.quality=n}},loadExternalPlayer:function(){return new Promise(function(e){require(["scripts/externalplayer.js"],function(){Dashboard.isRunningInCordova()?require(["cordova/externalplayer.js"],e):e()})})},exitOnBack:function(){var e=ViewManager.currentView();return!e||"indexPage"==e.id},exit:function(){Dashboard.logout()},getDeviceProfile:function(e){return new Promise(function(t){function n(e){var t=!0,n=window.VlcAudio;t&&(e.DirectPlayProfiles.push({Container:"m4v,3gp,ts,mpegts,mov,xvid,vob,mkv,wmv,asf,ogm,ogv,m2v,avi,mpg,mpeg,mp4,webm,wtv",Type:"Video",AudioCodec:"aac,aac_latm,mp2,mp3,ac3,wma,dca,pcm,PCM_S16LE,PCM_S24LE,opus,flac"}),e.CodecProfiles=e.CodecProfiles.filter(function(e){return"Audio"==e.Type}),e.SubtitleProfiles=[],e.SubtitleProfiles.push({Format:"srt",Method:"External"}),e.SubtitleProfiles.push({Format:"srt",Method:"Embed"}),e.SubtitleProfiles.push({Format:"subrip",Method:"Embed"}),e.SubtitleProfiles.push({Format:"ass",Method:"Embed"}),e.SubtitleProfiles.push({Format:"ssa",Method:"Embed"}),e.SubtitleProfiles.push({Format:"pgs",Method:"Embed"}),e.SubtitleProfiles.push({Format:"pgssub",Method:"Embed"}),e.SubtitleProfiles.push({Format:"dvdsub",Method:"Embed"}),e.SubtitleProfiles.push({Format:"vtt",Method:"Embed"}),e.SubtitleProfiles.push({Format:"sub",Method:"Embed"}),e.SubtitleProfiles.push({Format:"idx",Method:"Embed"}),e.SubtitleProfiles.push({Format:"smi",Method:"Embed"}),e.CodecProfiles.push({Type:"Video",Container:"avi",Conditions:[{Condition:"NotEqual",Property:"CodecTag",Value:"xvid"}]}),e.CodecProfiles.push({Type:"VideoAudio",Codec:"aac,mp3",Conditions:[{Condition:"LessThanEqual",Property:"AudioChannels",Value:"6"}]}),e.CodecProfiles.push({Type:"Video",Codec:"h264",Conditions:[{Condition:"EqualsAny",Property:"VideoProfile",Value:"high|main|baseline|constrained baseline"},{Condition:"LessThanEqual",Property:"VideoLevel",Value:"41"}]}),e.TranscodingProfiles.filter(function(e){return"Video"==e.Type&&1==e.CopyTimestamps}).forEach(function(e){e.CopyTimestamps=!1}),e.TranscodingProfiles.filter(function(e){return"Video"==e.Type&&"h264"==e.VideoCodec}).forEach(function(e){e.AudioCodec+=",ac3"})),n&&(e.DirectPlayProfiles.push({Container:"aac,mp3,mpa,wav,wma,mp2,ogg,oga,webma,ape,opus",Type:"Audio"}),e.CodecProfiles=e.CodecProfiles.filter(function(e){return"Audio"!=e.Type}),e.CodecProfiles.push({Type:"Audio",Conditions:[{Condition:"LessThanEqual",Property:"AudioChannels",Value:"2"}]}))}require(["browserdeviceprofile","qualityoptions","appSettings"],function(o,a,i){var s=!1;browserInfo.mobile?AppInfo.isNativeApp&&browserInfo.safari?-1==navigator.userAgent.toLowerCase().indexOf("ipad")&&(s=!0):AppInfo.isNativeApp&&(s=!0):s=!0;var r=o({supportsCustomSeeking:s});AppInfo.isNativeApp&&browserInfo.android||(r.SubtitleProfiles.push({Format:"ass",Method:"External"}),r.SubtitleProfiles.push({Format:"ssa",Method:"External"}));var d=i.maxStreamingBitrate();e||(e=a.getVideoQualityOptions(d).filter(function(e){return e.selected})[0].maxHeight),AppInfo.isNativeApp&&browserInfo.android&&n(r),r.MaxStreamingBitrate=d,t(r)})})}},AppInfo={};!function(){function e(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function t(){e()&&(AppInfo.isTouchPreferred=!0);var t=Dashboard.isRunningInCordova();AppInfo.enableDetailPageChapters=!0,AppInfo.enableDetailsMenuImages=!0,AppInfo.enableMovieHomeSuggestions=!0,AppInfo.enableSearchInTopMenu=!0,AppInfo.enableHomeFavorites=!0,AppInfo.enableNowPlayingBar=!0,AppInfo.enableHomeTabs=!0,AppInfo.enableNowPlayingPageBottomTabs=!0,AppInfo.enableAutoSave=browserInfo.mobile,AppInfo.enableHashBang=Dashboard.isRunningInCordova(),AppInfo.enableAppStorePolicy=t;var n=browserInfo.ipad||browserInfo.iphone,o=browserInfo.android,a=browserInfo.mobile;n&&(AppInfo.hasLowImageBandwidth=!0,t?(AppInfo.enableSearchInTopMenu=!1,AppInfo.enableHomeFavorites=!1,AppInfo.enableHomeTabs=!1,AppInfo.enableNowPlayingPageBottomTabs=!1,-1!=navigator.userAgent.toString().toLowerCase().indexOf("iphone")&&(AppInfo.enableNowPlayingBar=!1)):(AppInfo.enableDetailPageChapters=!1,AppInfo.enableDetailsMenuImages=!1,AppInfo.enableMovieHomeSuggestions=!1)),AppInfo.hasLowImageBandwidth||(AppInfo.enableStudioTabs=!0,AppInfo.enableTvEpisodesTab=!0),AppInfo.supportsExternalPlayers=!0,t?(AppInfo.enableAppLayouts=!0,AppInfo.supportsExternalPlayerMenu=!0,AppInfo.isNativeApp=!0,n&&(AppInfo.supportsExternalPlayers=!1)):(AppInfo.enableSupporterMembership=!0,o||n||(AppInfo.enableAppLayouts=!0)),AppInfo.enableHeadRoom=!n,AppInfo.supportsFileInput=!(AppInfo.isNativeApp&&o),AppInfo.hasPhysicalVolumeButtons=t||a,AppInfo.enableBackButton=n&&(window.navigator.standalone||AppInfo.isNativeApp),AppInfo.supportsSyncPathSetting=t&&o,AppInfo.moreIcon=t&&n?"more-horiz":"more-vert"}function n(e){AppInfo.enableAppStorePolicy&&(e.getAvailablePlugins=function(){return Promise.resolve([])},e.getInstalledPlugins=function(){return Promise.resolve([])}),e.normalizeImageOptions=Dashboard.normalizeImageOptions,Events.off(e,"websocketmessage",Dashboard.onWebSocketMessageReceived),Events.on(e,"websocketmessage",Dashboard.onWebSocketMessageReceived),Events.off(e,"requestfail",Dashboard.onRequestFail),Events.on(e,"requestfail",Dashboard.onRequestFail)}function o(){return Dashboard.getDeviceProfile(Math.max(screen.height,screen.width))}function a(e,t){n(t),window.$&&($.ajax=t.ajax)}function i(e){window.ConnectionManager=e,define("connectionManager",[],function(){return e})}function s(e,t){Events.on(ConnectionManager,"apiclientcreated",a),e.currentApiClient=function(){if(!F){var t=e.getLastUsedServer();t&&(F=e.getApiClient(t.Id))}return F},t.on(e,"localusersignedin",function(t,n){F=e.getApiClient(n.ServerId),window.ApiClient=F})}function r(){return o().then(function(e){return new Promise(function(t){require(["connectionManagerFactory","apphost","credentialprovider","events"],function(n,o,a,r){window.MediaBrowser=Object.assign(window.MediaBrowser||{},n);var d=new a;o.appInfo().then(function(n){var o=Dashboard.capabilities();return o.DeviceProfile=e,connectionManager=new MediaBrowser.ConnectionManager(d,n.appName,n.appVersion,n.deviceName,n.deviceId,o,window.devicePixelRatio),i(connectionManager),s(connectionManager,r),Dashboard.isConnectMode()?void t():g(["apiclient"]).then(function(e){var o=new e(Dashboard.serverAddress(),n.appName,n.appVersion,n.deviceName,n.deviceId,window.devicePixelRatio);o.enableAutomaticNetworking=!1,connectionManager.addApiClient(o),require(["css!"+o.getUrl("Branding/Css")]),window.ApiClient=o,F=o,t()})})})})})}function d(){var e=document.documentElement;AppInfo.isTouchPreferred&&e.classList.add("touch"),AppInfo.enableSupporterMembership||e.classList.add("supporterMembershipDisabled"),AppInfo.isNativeApp&&e.classList.add("nativeApp"),AppInfo.enableHomeFavorites||e.classList.add("homeFavoritesDisabled")}function l(){var e=getParameterByName("theme");if(e)return void require(["themes/"+e+"/theme"]);var t=new Date,n=t.getMonth(),o=t.getDate();return 9==n&&o>=30?void require(["themes/halloween/theme"]):11==n&&o>=21&&26>=o?void require(["themes/holiday/theme"]):void 0}function c(e){return e}function p(){var e="bower_components";return Dashboard.isConnectMode()&&!Dashboard.isRunningInCordova(),e}function u(){var e="v="+(window.dashboardVersion||(new Date).getDate()),t=p(),n=t+"/emby-apiclient",o=t+"/emby-webcomponents",a={velocity:t+"/velocity/velocity.min",ironCardList:"components/ironcardlist/ironcardlist",scrollThreshold:"components/scrollthreshold",directorybrowser:"components/directorybrowser/directorybrowser",playlisteditor:"components/playlisteditor/playlisteditor",medialibrarycreator:"components/medialibrarycreator/medialibrarycreator",medialibraryeditor:"components/medialibraryeditor/medialibraryeditor",howler:t+"/howler.js/howler.min",sortable:t+"/Sortable/Sortable.min",isMobile:t+"/isMobile/isMobile.min",headroom:t+"/headroom.js/dist/headroom.min",masonry:t+"/masonry/dist/masonry.pkgd.min",humanedate:"components/humanedate",libraryBrowser:"scripts/librarybrowser",chromecasthelpers:"components/chromecasthelpers",events:n+"/events",credentialprovider:n+"/credentials",apiclient:n+"/apiclient",connectionManagerFactory:t+"/emby-apiclient/connectionmanager",visibleinviewport:o+"/visibleinviewport",browserdeviceprofile:o+"/browserdeviceprofile",browser:o+"/browser",inputManager:o+"/inputmanager",qualityoptions:o+"/qualityoptions",connectservice:n+"/connectservice",hammer:t+"/hammerjs/hammer.min",layoutManager:o+"/layoutmanager",pageJs:o+"/page.js/page",focusManager:o+"/focusmanager",datetime:o+"/datetime",globalize:o+"/globalize",itemHelper:o+"/itemhelper",itemShortcuts:o+"/shortcuts",imageLoader:o+"/images/imagehelper",serverNotifications:o+"/servernotifications",webAnimations:t+"/web-animations-js/web-animations-next-lite.min"};navigator.webkitPersistentStorage?(a.imageFetcher=o+"/images/persistentimagefetcher",a.imageFetcher=o+"/images/basicimagefetcher"):a.imageFetcher=Dashboard.isRunningInCordova()?"cordova/imagestore":o+"/images/basicimagefetcher",a.hlsjs=t+"/hls.js/dist/hls.min",Dashboard.isRunningInCordova()?(a.sharingMenu="cordova/sharingwidget",a.serverdiscovery="cordova/serverdiscovery",a.wakeonlan="cordova/wakeonlan",a.actionsheet="cordova/actionsheet"):(a.serverdiscovery=n+"/serverdiscovery",a.wakeonlan=n+"/wakeonlan",define("sharingMenu",[o+"/sharing/sharingmenu"],c),define("actionsheet",[o+"/actionsheet/actionsheet"],c)),define("libjass",[t+"/libjass/libjass.min","css!"+t+"/libjass/libjass"],c),define("emby-collapse",[o+"/emby-collapse/emby-collapse"],c),define("emby-button",[o+"/emby-button/emby-button"],c),define("alphaPicker",[o+"/alphapicker/alphapicker"],c),define("paper-icon-button-light",[o+"/emby-button/paper-icon-button-light"]),define("emby-input",[o+"/emby-input/emby-input"],c),define("emby-select",[o+"/emby-select/emby-select"],c),define("emby-slider",[o+"/emby-slider/emby-slider"],c),define("emby-checkbox",[o+"/emby-checkbox/emby-checkbox"],c),define("emby-radio",[o+"/emby-radio/emby-radio"],c),define("emby-textarea",[o+"/emby-textarea/emby-textarea"],c),define("collectionEditor",[o+"/collectioneditor/collectioneditor"],c),define("playlistEditor",[o+"/playlisteditor/playlisteditor"],c),define("recordingCreator",[o+"/recordingcreator/recordingcreator"],c),define("recordingEditor",[o+"/recordingcreator/recordingeditor"],c),define("subtitleEditor",[o+"/subtitleeditor/subtitleeditor"],c),define("mediaInfo",[o+"/mediainfo/mediainfo"],c),define("refreshDialog",[o+"/refreshdialog/refreshdialog"],c),define("backdrop",[o+"/backdrop/backdrop"],c),define("fetchHelper",[o+"/fetchhelper"],c),define("tvguide",[o+"/guide/guide","embyRouter"],c),define("voiceDialog",[o+"/voice/voicedialog"],c),define("viewManager",[o+"/viewmanager/viewmanager"],function(e){return window.ViewManager=e,e.dispatchPageEvents(!0),e}),Dashboard.isRunningInCordova()&&window.MainActivity?define("shell",["cordova/android/shell"],c):define("shell",[o+"/shell"],c),define("sharingmanager",[o+"/sharing/sharingmanager"],c),a.apphost=Dashboard.isRunningInCordova()?"cordova/apphost":"components/apphost",a.appStorage=Dashboard.isRunningInCordova()&&window.MainActivity?"cordova/android/appstorage":n+"/appstorage",a.syncDialog="scripts/sync";var i=t+"/cryptojslib/components/sha1-min",s=t+"/cryptojslib/components/md5-min",r={};r[i]={deps:[t+"/cryptojslib/components/core-min"]},r[s]={deps:[t+"/cryptojslib/components/core-min"]},requirejs.config({waitSeconds:0,map:{"*":{css:t+"/emby-webcomponents/require/requirecss",html:t+"/emby-webcomponents/require/requirehtml",text:t+"/emby-webcomponents/require/requiretext"}},urlArgs:e,paths:a,shim:r}),define("cryptojs-sha1",[i]),define("cryptojs-md5",[s]),define("emby-icons",["webcomponentsjs","html!"+t+"/emby-icons/emby-icons.html"]),define("paper-button",["html!"+t+"/paper-button/paper-button.html"]),define("paper-icon-button",["html!"+t+"/paper-icon-button/paper-icon-button.html"]),define("paper-toggle-button",["webcomponentsjs","html!"+t+"/paper-toggle-button/paper-toggle-button.html"]),define("paper-textarea",["webcomponentsjs","html!"+t+"/paper-input/paper-textarea.html"]),define("paper-item",["html!"+t+"/paper-item/paper-item.html"]),define("paper-checkbox",["html!"+t+"/paper-checkbox/paper-checkbox.html"]),define("paper-fab",["emby-icons","html!"+t+"/paper-fab/paper-fab.html"]),define("paper-progress",["html!"+t+"/paper-progress/paper-progress.html"]),define("paper-input",["webcomponentsjs","html!"+t+"/paper-input/paper-input.html"]),define("paper-icon-item",["webcomponentsjs","html!"+t+"/paper-item/paper-icon-item.html"]),define("paper-item-body",["html!"+t+"/paper-item/paper-item-body.html"]),define("paper-collapse-item",["html!"+t+"/paper-collapse-item/paper-collapse-item.html"]),define("emby-collapsible",["webcomponentsjs","emby-button","html!"+t+"/emby-collapsible/emby-collapsible.html"]),define("jstree",[t+"/jstree/dist/jstree","css!thirdparty/jstree/themes/default/style.min.css"]),define("dashboardcss",["css!css/dashboard"]),define("jqmbase",["dashboardcss","css!thirdparty/jquerymobile-1.4.5/jquery.mobile.custom.theme.css"]),define("jqmicons",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jquery.mobile.custom.icons.css"]),define("jqmtable",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.table","css!thirdparty/jquerymobile-1.4.5/jqm.table.css"]),define("jqmwidget",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.widget"]),define("jqmslider",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.slider","css!thirdparty/jquerymobile-1.4.5/jqm.slider.css"]),define("jqmpopup",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.popup","css!thirdparty/jquerymobile-1.4.5/jqm.popup.css"]),define("jqmlistview",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jqm.listview.css"]),define("jqmcontrolgroup",["jqmbase","css!thirdparty/jquerymobile-1.4.5/jqm.controlgroup.css"]),define("jqmcollapsible",["jqmbase","jqmicons","thirdparty/jquerymobile-1.4.5/jqm.collapsible","css!thirdparty/jquerymobile-1.4.5/jqm.collapsible.css"]),define("jqmcheckbox",["jqmbase","jqmicons","thirdparty/jquerymobile-1.4.5/jqm.checkbox","css!thirdparty/jquerymobile-1.4.5/jqm.checkbox.css"]),define("jqmpanel",["jqmbase","thirdparty/jquerymobile-1.4.5/jqm.panel","css!thirdparty/jquerymobile-1.4.5/jqm.panel.css"]),define("slideshow",[o+"/slideshow/slideshow"],c),define("fetch",[t+"/fetch/fetch"]),define("objectassign",[o+"/objectassign"]),define("native-promise-only",[t+"/native-promise-only/lib/npo.src"]),define("fingerprintjs2",[t+"/fingerprintjs2/fingerprint2"],c),define("clearButtonStyle",["css!"+o+"/clearbutton"]),define("listView",[o+"/listview/listview"],c),define("listViewStyle",["css!"+o+"/listview/listview"],c),"registerElement"in document&&"content"in document.createElement("template")?define("webcomponentsjs",[]):define("webcomponentsjs",[t+"/webcomponentsjs/webcomponents-lite.min.js"]),Dashboard.isRunningInCordova()?define("registrationservices",["cordova/registrationservices"],c):define("registrationservices",["scripts/registrationservices"],c),Dashboard.isRunningInCordova()?(define("localassetmanager",["cordova/localassetmanager"]),define("fileupload",["cordova/fileupload"])):(define("localassetmanager",[n+"/localassetmanager"]),define("fileupload",[n+"/fileupload"])),define("connectionmanager",[n+"/connectionmanager"]),define("contentuploader",[n+"/sync/contentuploader"]),define("serversync",[n+"/sync/serversync"]),define("multiserversync",[n+"/sync/multiserversync"]),define("offlineusersync",[n+"/sync/offlineusersync"]),define("mediasync",[n+"/sync/mediasync"]),define("swiper",[t+"/Swiper/dist/js/swiper.min","css!"+t+"/Swiper/dist/css/swiper.min"],c),define("scroller",[o+"/scroller/smoothscroller"],c),define("toast",[o+"/toast/toast"],c),define("scrollHelper",[o+"/scrollhelper"],c),define("appSettings",[o+"/appsettings"],m),define("userSettings",[o+"/usersettings"],c),define("material-icons",["css!"+o+"/fonts/material-icons/style"]),define("robotoFont",["css!"+o+"/fonts/roboto/style"]),define("opensansFont",["css!"+o+"/fonts/opensans/style"]),define("montserratFont",["css!"+o+"/fonts/montserrat/style"]),define("scrollStyles",["css!"+o+"/scrollstyles"]),define("navdrawer",["components/navdrawer/navdrawer"],c),define("viewcontainer",["components/viewcontainer-lite","css!"+o+"/viewmanager/viewcontainer-lite"],c),define("queryString",[t+"/query-string/index"],function(){return queryString
}),define("jQuery",[t+"/jquery/dist/jquery.slim.min"],function(){return require(["legacy/fnchecked"]),window.ApiClient&&(jQuery.ajax=ApiClient.ajax),jQuery}),define("dialogHelper",[o+"/dialoghelper/dialoghelper"],function(e){return e.setOnOpen(h),e}),"registerElement"in document?define("registerElement",[]):define("registerElement",["webcomponentsjs"]),define("historyManager",[],function(){return Emby.Page}),define("playbackManager",[],function(){return{isPlayingVideo:function(){return!1}}}),define("skinManager",[],function(){return{loadUserSkin:function(){Emby.Page.show("/home.html")}}}),define("playbackManager",[],function(){return{}}),define("pluginManager",[],function(){return{}}),define("connectionManager",[],function(){return ConnectionManager}),define("apiClientResolver",[],function(){return function(){return window.ApiClient}}),define("embyRouter",[o+"/router"],function(e){function t(e){"string"==typeof e?require(["connectionManager"],function(n){var o=n.currentApiClient();o.getItem(o.getCurrentUserId(),e).then(t)}):Dashboard.navigate(LibraryBrowser.getHref(e))}return e.showLocalLogin=function(e,t){Dashboard.navigate("login.html?serverid="+t)},e.showSelectServer=function(){Dashboard.navigate("selectserver.html")},e.showWelcome=function(){Dashboard.navigate(Dashboard.isConnectMode()?"connectlogin.html?mode=welcome":"login.html")},e.showSettings=function(){Dashboard.navigate("mypreferencesmenu.html?userId="+ApiClient.getCurrentUserId())},e.showGuide=function(){Dashboard.navigate("livetv.html?tab=1")},e.showLiveTV=function(){Dashboard.navigate("livetv.html")},e.showRecordedTV=function(){Dashboard.navigate("livetv.html?tab=3")},e.showFavorites=function(){Dashboard.navigate("home.html?tab=3")},e.showItem=t,e})}function m(e){return e.enableExternalPlayers=function(t){return null!=t&&e.set("externalplayers",t.toString()),"true"==e.get("externalplayers")},e}function h(e){e.classList.contains("formDialog")&&(e.classList.contains("background-theme-b")||(e.classList.add("background-theme-a"),e.classList.add("ui-body-a")))}function b(e){var t=p(),n=t+"/emby-webcomponents",o=e.mobile||e.tv||e.xboxOne;o&&window.alert?define("alert",[n+"/alert/nativealert"],c):define("alert",[n+"/alert/alert"],c),o&&window.confirm?define("confirm",[n+"/confirm/nativeconfirm"],c):define("confirm",[n+"/confirm/confirm"],c),o&&window.prompt?define("prompt",[n+"/prompt/nativeprompt"],c):define("prompt",[n+"/prompt/prompt"],c),e.tv&&!e.animate?define("loading",[n+"/loading/loading-smarttv"],c):define("loading",[n+"/loading/loading-lite"],c),define("multi-download",[n+"/multidownload"],c),Dashboard.isRunningInCordova()&&e.android?define("fileDownloader",["cordova/android/filedownloader"],c):define("fileDownloader",[n+"/filedownloader"],c)}function f(){Dashboard.isRunningInCordova()&&browserInfo.android&&define("nativedirectorychooser",["cordova/android/nativedirectorychooser"]),Dashboard.isRunningInCordova()&&browserInfo.android?(MainActivity.getChromeVersion()>=48?define("audiorenderer",["scripts/htmlmediarenderer"]):(window.VlcAudio=!0,define("audiorenderer",["cordova/android/vlcplayer"])),define("videorenderer",["cordova/android/vlcplayer"])):Dashboard.isRunningInCordova()&&browserInfo.safari?(define("audiorenderer",["cordova/audioplayer"]),define("videorenderer",["scripts/htmlmediarenderer"])):(define("audiorenderer",["scripts/htmlmediarenderer"]),define("videorenderer",["scripts/htmlmediarenderer"])),Dashboard.isRunningInCordova()&&browserInfo.android?define("localsync",["cordova/android/localsync"]):define("localsync",["scripts/localsync"]),define("livetvcss",["css!css/livetv.css"]),define("detailtablecss",["css!css/detailtable.css"]),define("tileitemcss",["css!css/tileitem.css"]),define("buttonenabled",["legacy/buttonenabled"]);var e=[];e.push("events"),e.push("scripts/mediacontroller"),require(e,function(e){window.Events=e,v()})}function g(e){return new Promise(function(t){require(e,t)})}function v(){var e=[];e.push("scripts/extensions"),window.fetch||e.push("fetch"),"function"!=typeof Object.assign&&e.push("objectassign"),require(e,function(){r().then(function(){MediaController.init(),require(["globalize"],function(e){window.Globalize=e,Promise.all([w(e),y(e)]).then(I)})})})}function y(e){var t="bower_components/emby-webcomponents/strings/",n=["da","de","en-US","es-MX","kk","nb","nl","pt-BR","pt-PT","ru","sv"],o=n.map(function(e){return{lang:e,path:t+e+".json"}});e.loadStrings({name:"sharedcomponents",translations:o})}function w(e){var t="strings/",n=["ar","bg-BG","ca","cs","da","de","el","en-GB","en-US","es-AR","es-MX","es","fi","fr","gsw","he","hr","hu","id","it","kk","ko","ms","nb","nl","pl","pt-BR","pt-PT","ro","ru","sl-SI","sv","tr","uk","vi","zh-CN","zh-HK","zh-TW"],o=n.map(function(e){return{lang:e,path:t+e+".json"}});return e.defaultModule("core"),e.loadStrings({name:"core",translations:o})}function I(){document.title=Globalize.translateDocument(document.title,"core"),D()}function P(e,t){var n=Emby.Page.baseUrl(),o=e.path;o=o.replace(n,""),e.dictionary=e.dictionary||t||"core",Emby.Page.addRoute(o,e)}function S(){P({path:"/about.html",dependencies:[],autoFocus:!1,controller:"scripts/aboutpage",roles:"admin"}),P({path:"/addplugin.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/appservices.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/autoorganizelog.html",dependencies:[],roles:"admin"}),P({path:"/autoorganizesmart.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/autoorganizetv.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/channelitems.html",dependencies:[],autoFocus:!1,transition:"fade"}),P({path:"/channels.html",dependencies:[],autoFocus:!1,transition:"fade"}),P({path:"/channelsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/cinemamodeconfiguration.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/connectlogin.html",dependencies:["emby-button","emby-input"],autoFocus:!1,anonymous:!0,controller:"scripts/connectlogin"}),P({path:"/dashboard.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/dashboardgeneral.html",dependencies:["emby-collapsible","paper-textarea","paper-input","paper-checkbox","jqmlistview"],controller:"scripts/dashboardgeneral",autoFocus:!1,roles:"admin"}),P({path:"/dashboardhosting.html",dependencies:["paper-checkbox","emby-input","emby-button"],autoFocus:!1,roles:"admin",controller:"scripts/dashboardhosting"}),P({path:"/device.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/devices.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/devicesupload.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/dlnaprofile.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/dlnaprofiles.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/dlnaserversettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/dlnasettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/edititemmetadata.html",dependencies:[],autoFocus:!1}),P({path:"/encodingsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/favorites.html",dependencies:[],autoFocus:!1,controller:"scripts/favorites"}),P({path:"/forgotpassword.html",dependencies:["emby-input","emby-button"],anonymous:!0,controller:"scripts/forgotpassword"}),P({path:"/forgotpasswordpin.html",dependencies:["emby-input","emby-button"],autoFocus:!1,anonymous:!0,controller:"scripts/forgotpasswordpin"}),P({path:"/gamegenres.html",dependencies:[],autoFocus:!1}),P({path:"/games.html",dependencies:[],autoFocus:!1}),P({path:"/gamesrecommended.html",dependencies:[],autoFocus:!1}),P({path:"/gamestudios.html",dependencies:[],autoFocus:!1}),P({path:"/gamesystems.html",dependencies:[],autoFocus:!1}),P({path:"/home.html",dependencies:[],autoFocus:!1,controller:"scripts/indexpage",transition:"fade"}),P({path:"/index.html",dependencies:[],autoFocus:!1,isDefaultRoute:!0}),P({path:"/itemdetails.html",dependencies:["emby-button","tileitemcss","scripts/livetvcomponents","paper-icon-button-light","listViewStyle"],controller:"scripts/itemdetailpage",autoFocus:!1,transition:"fade"}),P({path:"/itemlist.html",dependencies:[],autoFocus:!1,controller:"scripts/itemlistpage",transition:"fade"}),P({path:"/kids.html",dependencies:[],autoFocus:!1}),P({path:"/library.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/librarydisplay.html",dependencies:["emby-button","paper-checkbox"],autoFocus:!1,roles:"admin",controller:"scripts/librarydisplay"}),P({path:"/librarypathmapping.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/librarysettings.html",dependencies:["emby-collapsible","paper-input","paper-checkbox","emby-button","jqmlistview"],autoFocus:!1,roles:"admin",controller:"scripts/librarysettings"}),P({path:"/livetv.html",dependencies:["emby-button","livetvcss"],controller:"scripts/livetvsuggested",autoFocus:!1,transition:"fade"}),P({path:"/livetvguideprovider.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/livetvitems.html",dependencies:[],autoFocus:!1}),P({path:"/livetvrecordinglist.html",dependencies:[],autoFocus:!1}),P({path:"/livetvseriestimer.html",dependencies:[],autoFocus:!1}),P({path:"/livetvsettings.html",dependencies:[],autoFocus:!1}),P({path:"/livetvstatus.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/livetvtunerprovider-hdhomerun.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/livetvtunerprovider-m3u.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/livetvtunerprovider-satip.html",dependencies:["paper-input","paper-checkbox"],autoFocus:!1,roles:"admin",controller:"scripts/livetvtunerprovider-satip"}),P({path:"/log.html",dependencies:["paper-toggle-button"],roles:"admin",controller:"scripts/logpage"}),P({path:"/login.html",dependencies:["emby-button","humanedate","emby-input"],autoFocus:!1,anonymous:!0,controller:"scripts/loginpage"}),P({path:"/metadata.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/metadataadvanced.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/metadataimages.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/metadatanfo.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/metadatasubtitles.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/movies.html",dependencies:["emby-button"],autoFocus:!1,controller:"scripts/moviesrecommended",transition:"fade"}),P({path:"/music.html",dependencies:[],controller:"scripts/musicrecommended",autoFocus:!1,transition:"fade"}),P({path:"/mypreferencesdisplay.html",dependencies:["emby-checkbox","emby-button","emby-select"],autoFocus:!1,transition:"fade",controller:"scripts/mypreferencesdisplay"}),P({path:"/mypreferenceshome.html",dependencies:["emby-checkbox","emby-button"],autoFocus:!1,transition:"fade",controller:"scripts/mypreferenceshome"}),P({path:"/mypreferenceslanguages.html",dependencies:["emby-button","emby-checkbox"],autoFocus:!1,transition:"fade",controller:"scripts/mypreferenceslanguages"}),P({path:"/mypreferencesmenu.html",dependencies:["emby-button"],autoFocus:!1,transition:"fade"}),P({path:"/myprofile.html",dependencies:["emby-button","emby-collapse","emby-checkbox","emby-input"],autoFocus:!1,transition:"fade",controller:"scripts/myprofile"}),P({path:"/mysync.html",dependencies:["scripts/syncactivity","scripts/taskbutton","emby-button"],autoFocus:!1,transition:"fade",controller:"scripts/mysync"}),P({path:"/mysyncjob.html",dependencies:[],autoFocus:!1,transition:"fade",controller:"scripts/syncjob"}),P({path:"/mysyncsettings.html",dependencies:["emby-checkbox","emby-input","emby-button","paper-icon-button-light"],autoFocus:!1,transition:"fade",controller:"scripts/mysyncsettings"}),P({path:"/notificationlist.html",dependencies:[],autoFocus:!1}),P({path:"/notificationsetting.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/notificationsettings.html",controller:"scripts/notificationsettings",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/nowplaying.html",dependencies:["paper-icon-button-light","emby-slider","emby-button","emby-input"],controller:"scripts/nowplayingpage",autoFocus:!1,transition:"fade"}),P({path:"/photos.html",dependencies:[],autoFocus:!1,transition:"fade"}),P({path:"/playbackconfiguration.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/playlists.html",dependencies:[],autoFocus:!1,transition:"fade"}),P({path:"/plugincatalog.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/plugins.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/reports.html",dependencies:[],autoFocus:!1}),P({path:"/scheduledtask.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/scheduledtasks.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/search.html",dependencies:[],controller:"scripts/searchpage"}),P({path:"/secondaryitems.html",dependencies:[],autoFocus:!1,controller:"scripts/secondaryitems"}),P({path:"/selectserver.html",dependencies:["listViewStyle","emby-button"],autoFocus:!1,anonymous:!0,controller:"scripts/selectserver"}),P({path:"/serversecurity.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/shared.html",dependencies:[],autoFocus:!1,anonymous:!0}),P({path:"/streamingsettings.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/support.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/supporterkey.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/syncactivity.html",dependencies:[],autoFocus:!1}),P({path:"/syncjob.html",dependencies:[],autoFocus:!1,transition:"fade",controller:"scripts/syncjob"}),P({path:"/syncsettings.html",dependencies:[],autoFocus:!1}),P({path:"/tv.html",dependencies:["paper-icon-button-light","emby-button"],autoFocus:!1,controller:"scripts/tvrecommended",transition:"fade"}),P({path:"/useredit.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/userlibraryaccess.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/usernew.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/userparentalcontrol.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/userpassword.html",dependencies:["emby-input","emby-button","emby-checkbox"],autoFocus:!1,controller:"scripts/userpasswordpage"}),P({path:"/userprofiles.html",dependencies:[],autoFocus:!1,roles:"admin"}),P({path:"/wizardagreement.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardcomponents.html",dependencies:["dashboardcss","emby-button","emby-input","emby-select"],autoFocus:!1,anonymous:!0,controller:"scripts/wizardcomponents"}),P({path:"/wizardfinish.html",dependencies:["emby-button","dashboardcss"],autoFocus:!1,anonymous:!0,controller:"scripts/wizardfinishpage"}),P({path:"/wizardlibrary.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardlivetvguide.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardlivetvtuner.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardservice.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardsettings.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizardstart.html",dependencies:["dashboardcss"],autoFocus:!1,anonymous:!0}),P({path:"/wizarduser.html",dependencies:["dashboardcss","emby-input"],autoFocus:!1,anonymous:!0}),P({path:"/configurationpage",dependencies:["jQuery"],autoFocus:!1,enableCache:!1,enableContentQueryString:!0,roles:"admin"}),P({path:"/",isDefaultRoute:!0,autoFocus:!1,dependencies:[]})}function D(){require(["scripts/mediaplayer"],function(){MediaPlayer.init()});var e=[];e.push("imageLoader"),e.push("embyRouter"),e.push("layoutManager"),AppInfo.isNativeApp&&browserInfo.android||document.documentElement.classList.add("minimumSizeTabs"),AppInfo.isNativeApp&&browserInfo.android?e.push("css!devices/android/android.css"):AppInfo.isNativeApp&&browserInfo.safari?e.push("css!devices/ios/ios.css"):AppInfo.isNativeApp&&browserInfo.edge&&e.push("css!devices/windowsphone/wp.css"),l(),Dashboard.isRunningInCordova()&&(e.push("registrationservices"),e.push("cordova/back"),browserInfo.android&&(e.push("cordova/android/androidcredentials"),e.push("cordova/android/links"))),e.push("scripts/librarylist"),e.push("scripts/librarymenu"),e.push("css!css/card.css"),require(e,function(e,t,n){window.ImageLoader=e,n.init(),window.Emby={},window.Emby.Page=t,window.Emby.TransparencyLevel=t.TransparencyLevel,S(),Emby.Page.start({click:!0,hashbang:AppInfo.enableHashBang});var o=[];o.push("scripts/thememediaplayer"),o.push("scripts/remotecontrol"),o.push("css!css/notifications.css"),o.push("css!css/chromecast.css"),o.push("scripts/autobackdrops"),Dashboard.isRunningInCordova()?(browserInfo.android?(o.push("cordova/android/mediasession"),o.push("cordova/android/chromecast")):o.push("cordova/volume"),browserInfo.safari&&(o.push("cordova/ios/chromecast"),o.push("cordova/ios/orientation"),o.push("cordova/ios/remotecontrols"),Dashboard.capabilities().SupportsSync&&o.push("cordova/ios/backgroundfetch"))):browserInfo.chrome&&o.push("scripts/chromecast"),AppInfo.enableNowPlayingBar&&o.push("scripts/nowplayingbar"),AppInfo.isNativeApp&&browserInfo.safari&&o.push("cordova/ios/tabbar"),o.push("components/remotecontrolautoplay"),browserInfo.mobile||-1==navigator.userAgent.toLowerCase().indexOf("windows")||o.push("robotoFont"),require(o),A()})}function A(){!AppInfo.enableAppLayouts&&browserInfo.mobile&&Dashboard.getPluginSecurityInfo().then(function(e){e.IsMBSupporter&&(AppInfo.enableAppLayouts=!0)})}function C(){var e=[];e.push("browser"),window.Promise||e.push("native-promise-only"),require(e,function(e){b(e),window.browserInfo=e,t(),d(e),f()})}var F;u(),C()}(),pageClassOn("viewinit","page",function(){var e=this,t=e.getAttribute("data-theme");if(!t){var n;n=e.classList.contains("libraryPage")?"b":"a",e.setAttribute("data-theme",n),t=n}e.classList.add("ui-page"),e.classList.add("ui-page-theme-"+t),e.classList.add("ui-body-"+t);for(var o=e.querySelectorAll("div[data-role='content']"),a=0,i=o.length;i>a;a++){var s=o[a];s.setAttribute("role","main"),s.classList.add("ui-content")}}),pageClassOn("viewshow","page",function(){var e=this,t=e.classList.contains("ui-page-theme-a")?"a":"b",n=document.documentElement;"a"==t?(n.classList.add("background-theme-a"),n.classList.remove("background-theme-b")):(n.classList.add("background-theme-b"),n.classList.remove("background-theme-a"));var o=window.ApiClient;Dashboard.ensureHeader(e),o&&o.isLoggedIn()&&!o.isWebSocketOpen()&&Dashboard.refreshSystemInfoFromServer()}),window.addEventListener("beforeunload",function(){var e=window.ApiClient;if(e&&e.isWebSocketOpen()){var t=MediaController.getPlayers().filter(function(e){return e.isLocalPlayer&&e.isPlaying()});t.length||e.closeWebSocket()}});