!function(t,i){function n(t,i){Dashboard.confirm(Globalize.translate("MessageConfirmPathSubstitutionDeletion"),Globalize.translate("HeaderConfirmDeletion"),function(n){n&&ApiClient.getServerConfiguration().then(function(n){n.PathSubstitutions.splice(i,1),ApiClient.updateServerConfiguration(n).then(function(){r(t)})})})}function e(i,n){n.PathSubstitutions.push({From:t("#txtFrom",i).val(),To:t("#txtTo",i).val()})}function a(i,e){var a=0,o=e.PathSubstitutions.map(function(t){var i="";return i+="<paper-icon-item>",i+='<paper-fab mini icon="folder" class="blue" item-icon></paper-fab>',i+="<paper-item-body three-line>",i+="<div>"+t.From+"</div>",i+="<div secondary><b>"+Globalize.translate("HeaderTo")+"</b></div>",i+="<div secondary>"+t.To+"</div>",i+="</paper-item-body>",i+='<paper-icon-button data-index="'+a+'" icon="delete" class="btnDeletePath"></paper-icon-button>',i+="</paper-icon-item>",a++,i}).join("");e.PathSubstitutions.length&&(o='<div class="paperList">'+o+"</div>");var r=t(".pathSubstitutions",i).html(o);t(".btnDeletePath",r).on("click",function(){n(i,parseInt(this.getAttribute("data-index")))})}function o(t,i){p=i,require(["paper-fab","paper-item-body","paper-icon-item"],function(){a(t,i),Dashboard.hideLoadingMsg()})}function r(i){t("#txtFrom",i).val(""),t("#txtTo",i).val(""),ApiClient.getServerConfiguration().then(function(t){o(i,t)})}function u(){Dashboard.showLoadingMsg();var i=this,n=t(i).parents(".page");return ApiClient.getServerConfiguration().then(function(t){e(n,t),ApiClient.updateServerConfiguration(t).then(function(){r(n)})}),!1}var p;t(i).on("pageinit","#libraryPathMappingPage",function(){var i=this;t(".libraryPathMappingForm").off("submit",u).on("submit",u),i.querySelector(".labelFromHelp").innerHTML=Globalize.translate("LabelFromHelp","D:\\Movies")}).on("pageshow","#libraryPathMappingPage",function(){Dashboard.showLoadingMsg();var t=this;ApiClient.getServerConfiguration().then(function(i){o(t,i)})}).on("pagebeforehide","#libraryPathMappingPage",function(){p=null})}(jQuery,document,window);