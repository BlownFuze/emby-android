define(["libraryBrowser","cardBuilder","emby-itemscontainer"],function(e,a){function n(n){Dashboard.showLoadingMsg(),t.UserId=Dashboard.getCurrentUserId(),ApiClient.getJSON(ApiClient.getUrl("Channels",t)).then(function(r){window.scrollTo(0,0);var s="",i="Thumb";"Thumb"==i?s=a.getCardsHtml({items:r.Items,shape:"backdrop",context:"channels",showTitle:!0,lazy:!0,centerText:!0,preferThumb:!0}):"ThumbCard"==i&&(s=a.getCardsHtml({items:r.Items,shape:"backdrop",preferThumb:!0,context:"channels",lazy:!0,cardLayout:!0,showTitle:!0}));var l=n.querySelector("#items");l.innerHTML=s,ImageLoader.lazyChildren(l),e.saveQueryValues("channels",t),Dashboard.hideLoadingMsg()})}function r(a,r){switch(r){case 1:e.loadSavedQueryValues("channels",t),n(a)}}var t={StartIndex:0};pageIdOn("pageinit","channelsPage",function(){var a=this,n=a.querySelector(".libraryViewNav");e.configurePaperLibraryTabs(a,n,a.querySelectorAll(".pageTabContent"),[0,1]),n.addEventListener("tabchange",function(e){r(a,parseInt(e.detail.selectedTabIndex))})})});