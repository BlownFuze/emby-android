define(["libraryBrowser","emby-itemscontainer"],function(e){function a(a){Dashboard.showLoadingMsg(),t.UserId=Dashboard.getCurrentUserId(),ApiClient.getJSON(ApiClient.getUrl("Channels",t)).then(function(n){window.scrollTo(0,0);var r="",s="Thumb";"Thumb"==s?r=e.getPosterViewHtml({items:n.Items,shape:"backdrop",context:"channels",showTitle:!0,lazy:!0,centerText:!0,preferThumb:!0}):"ThumbCard"==s&&(r=e.getPosterViewHtml({items:n.Items,shape:"backdrop",preferThumb:!0,context:"channels",lazy:!0,cardLayout:!0,showTitle:!0}));var i=a.querySelector("#items");i.innerHTML=r,ImageLoader.lazyChildren(i),e.saveQueryValues("channels",t),Dashboard.hideLoadingMsg()})}function n(n,r){switch(r){case 1:e.loadSavedQueryValues("channels",t),a(n)}}var t={StartIndex:0};pageIdOn("pageinit","channelsPage",function(){var a=this,t=a.querySelector(".libraryViewNav");e.configurePaperLibraryTabs(a,t,a.querySelectorAll(".pageTabContent"),[0,1]),t.addEventListener("tabchange",function(e){n(a,parseInt(e.detail.selectedTabIndex))})})});