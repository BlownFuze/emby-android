define(["datetime","listViewStyle"],function(e){return function(i){i.querySelector("#chkDebugLog").addEventListener("change",function(){ApiClient.getServerConfiguration().then(function(e){e.EnableDebugLevelLogging=i.querySelector("#chkDebugLog").checked,ApiClient.updateServerConfiguration(e)})}),i.addEventListener("viewbeforeshow",function(){Dashboard.showLoadingMsg();var t=ApiClient;t.getJSON(t.getUrl("System/Logs")).then(function(n){var a="";a+='<div class="paperList">',a+=n.map(function(i){var n=t.getUrl("System/Logs/Log",{name:i.Name});n+="&api_key="+t.accessToken();var a="";a+='<div class="listItem">',a+='<a item-icon class="clearLink" href="'+n+'" target="_blank" style="margin-left:1em;">',a+='<i class="md-icon listItemIcon">schedule</i>',a+="</a>",a+='<div class="listItemBody">',a+='<a class="clearLink" href="'+n+'" target="_blank">',a+="<div>"+i.Name+"</div>";var r=e.parseISO8601Date(i.DateModified,!0),o=r.toLocaleDateString();return o+=" "+e.getDisplayTime(r),a+='<div class="secondary">'+o+"</div>",a+="</a>",a+="</div>",a+="</div>"}).join(""),a+="</div>",i.querySelector(".serverLogs").innerHTML=a,Dashboard.hideLoadingMsg()}),t.getServerConfiguration().then(function(e){i.querySelector("#chkDebugLog").checked=e.EnableDebugLevelLogging})})}});