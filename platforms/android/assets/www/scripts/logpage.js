define(["datetime","listViewStyle"],function(e){return function(t){t.querySelector("#chkDebugLog").addEventListener("change",function(){ApiClient.getServerConfiguration().then(function(e){e.EnableDebugLevelLogging=t.querySelector("#chkDebugLog").checked,ApiClient.updateServerConfiguration(e)})}),t.addEventListener("viewbeforeshow",function(){Dashboard.showLoadingMsg();var i=ApiClient;i.getJSON(i.getUrl("System/Logs")).then(function(n){var a="";a+='<div class="paperList">',a+=n.map(function(t){var n=i.getUrl("System/Logs/Log",{name:t.Name});n+="&api_key="+i.accessToken();var a="";a+='<div class="listItem">',a+='<a item-icon class="clearLink" href="'+n+'" target="_blank">',a+='<i class="md-icon listItemIcon">schedule</i>',a+="</a>",a+='<div class="listItemBody two-line">',a+='<a class="clearLink" href="'+n+'" target="_blank">',a+="<h3 class='listItemBodyText'>"+t.Name+"</h3>";var o=e.parseISO8601Date(t.DateModified,!0),r=o.toLocaleDateString();return r+=" "+e.getDisplayTime(o),a+='<div class="listItemBodyText secondary">'+r+"</div>",a+="</a>",a+="</div>",a+="</div>"}).join(""),a+="</div>",t.querySelector(".serverLogs").innerHTML=a,Dashboard.hideLoadingMsg()}),i.getServerConfiguration().then(function(e){t.querySelector("#chkDebugLog").checked=e.EnableDebugLevelLogging})})}});