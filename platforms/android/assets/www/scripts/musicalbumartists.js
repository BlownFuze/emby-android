!function(e){function r(e){var r=a(e),t=u[r];return t||(t=u[r]={query:{SortBy:"SortName",SortOrder:"Ascending",Recursive:!0,Fields:"PrimaryImageAspectRatio,SortName,DateCreated,SyncInfo,ItemCounts",StartIndex:0,ImageTypeLimit:1,EnableImageTypes:"Primary,Backdrop,Banner,Thumb",Limit:LibraryBrowser.getDefaultPageSize()},view:LibraryBrowser.getSavedView(r)||LibraryBrowser.getDefaultItemsView("Poster","Poster")},t.query.ParentId=LibraryMenu.getTopParentId(),LibraryBrowser.loadSavedQueryValues(r,t.query)),t}function t(e){return r(e).query}function a(e){return e.savedQueryKey||(e.savedQueryKey=LibraryBrowser.getSavedQueryKey("albumartists")),e.savedQueryKey}function i(s){Dashboard.showLoadingMsg();var u=t(s);ApiClient.getAlbumArtists(Dashboard.getCurrentUserId(),u).then(function(t){window.scrollTo(0,0);var c=r(s).view,l="",y=LibraryBrowser.getQueryPagingHtml({startIndex:u.StartIndex,limit:u.Limit,totalRecordCount:t.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1,addLayoutButton:!0,currentLayout:c,filterButton:!0});s.querySelector(".listTopPaging").innerHTML=y,o(s),"List"==c?l=LibraryBrowser.getListViewHtml({items:t.Items,context:"music",sortBy:u.SortBy}):"Poster"==c?l=LibraryBrowser.getPosterViewHtml({items:t.Items,shape:"square",context:"music",showTitle:!0,coverImage:!0,lazy:!0,centerText:!0,overlayPlayButton:!0}):"PosterCard"==c&&(l=LibraryBrowser.getPosterViewHtml({items:t.Items,shape:"square",context:"music",showTitle:!0,coverImage:!0,lazy:!0,cardLayout:!0,showSongCount:!0}));var d=s.querySelector("#items");d.innerHTML=l+y,ImageLoader.lazyChildren(d),e(".btnNextPage",s).on("click",function(){u.StartIndex+=u.Limit,i(s)}),e(".btnPreviousPage",s).on("click",function(){u.StartIndex-=u.Limit,i(s)}),e(".btnChangeLayout",s).on("layoutchange",function(e,t){r(s).view=t,LibraryBrowser.saveViewSetting(a(s),t),i(s)}),e(".btnFilter",s).on("click",function(){n(s)}),LibraryBrowser.saveQueryValues(a(s),u),LibraryBrowser.setLastRefreshed(s),Dashboard.hideLoadingMsg()})}function n(e){require(["components/filterdialog/filterdialog"],function(r){var a=new r({query:t(e),mode:"albumartists"});Events.on(a,"filterchange",function(){i(e)}),a.show()})}function o(r){var a=t(r);e(".alphabetPicker",r).alphaValue(a.NameStartsWithOrGreater)}function s(r){e(".alphabetPicker",r).on("alphaselect",function(e,a){var n=t(r);n.NameStartsWithOrGreater=a,n.StartIndex=0,i(r)}).on("alphaclear",function(){var e=t(r);e.NameStartsWithOrGreater="",i(r)})}var u={};window.MusicPage.initAlbumArtistsTab=function(e,r){s(r)},window.MusicPage.renderAlbumArtistsTab=function(e,r){LibraryBrowser.needsRefresh(r)&&i(r)}}(jQuery,document);