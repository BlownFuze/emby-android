define([],function(){function e(){require(["scripts/wizardcontroller"],function(e){e.navigateToService()})}function t(e){ApiClient.getSystemInfo().then(function(t){if("Windows"==t.OperatingSystem&&"Arm"!=t.SystemArchitecture){e.querySelector(".suggestedLocation").innerHTML=Globalize.translate("FFmpegSuggestedDownload",'<a target="_blank" href="https://ffmpeg.zeranoe.com/builds">https://ffmpeg.zeranoe.com</a>');var n="";"X86"==t.SystemArchitecture?n="Download 32-Bit Static":"X64"==t.SystemArchitecture&&(n="Download 64-Bit Static"),e.querySelector(".downloadInstructions").innerHTML=n}else e.querySelector(".suggestedLocation").innerHTML=Globalize.translate("FFmpegSuggestedDownload",'<a target="_blank" href="http://ffmpeg.org">http://ffmpeg.org</a>'),e.querySelector(".downloadInstructions").innerHTML=""})}function n(){var e="";e=Globalize.translate("FFmpegSavePathNotFound"),require(["alert"],function(t){t(e)})}return function(r){r.querySelector("#btnSelectEncoderPath").addEventListener("click",function(){require(["directorybrowser"],function(e){var t=new e;t.show({includeFiles:!0,callback:function(e){e&&(r.querySelector(".txtEncoderPath").value=e),t.close()}})})}),r.querySelector("form").addEventListener("submit",function(t){var r=this;return ApiClient.ajax({url:ApiClient.getUrl("System/MediaEncoder/Path"),type:"POST",data:{Path:r.querySelector(".txtEncoderPath").value}}).then(e,n),t.preventDefault(),!1}),r.addEventListener("viewbeforeshow",function(){t(r)})}});