!function(e,n){function o(n,o){e("#chkEnableDebugEncodingLogging",n).checked(o.EnableDebugLogging).checkboxradio("refresh"),e("#chkEnableThrottle",n).checked(o.EnableThrottling).checkboxradio("refresh"),e(".radioEncodingQuality",n).each(function(){this.checked=o.EncodingQuality==this.value}).checkboxradio("refresh"),e("#selectVideoDecoder",n).val(o.HardwareAccelerationType),e("#selectThreadCount",n).val(o.EncodingThreadCount),e("#txtDownMixAudioBoost",n).val(o.DownMixAudioBoost),e("#txtTranscodingTempPath",n).val(o.TranscodingTempPath||""),Dashboard.hideLoadingMsg()}function a(){var n=this,o=function(){Dashboard.showLoadingMsg(),ApiClient.getNamedConfiguration("encoding").then(function(o){o.EnableDebugLogging=e("#chkEnableDebugEncodingLogging",n).checked(),o.EncodingQuality=e(".radioEncodingQuality:checked",n).val(),o.DownMixAudioBoost=e("#txtDownMixAudioBoost",n).val(),o.TranscodingTempPath=e("#txtTranscodingTempPath",n).val(),o.EnableThrottling=e("#chkEnableThrottle",n).checked(),o.EncodingThreadCount=e("#selectThreadCount",n).val(),o.HardwareAccelerationType=e("#selectVideoDecoder",n).val(),ApiClient.updateNamedConfiguration("encoding",o).then(Dashboard.processServerConfigurationUpdateResult)})};return e("#selectVideoDecoder",n).val()?Dashboard.alert({callback:o,title:Globalize.translate("TitleHardwareAcceleration"),message:Globalize.translate("HardwareAccelerationWarning")}):o(),!1}e(n).on("pageinit","#encodingSettingsPage",function(){var n=this;e("#btnSelectTranscodingTempPath",n).on("click.selectDirectory",function(){require(["directorybrowser"],function(o){var a=new o;a.show({callback:function(o){o&&e("#txtTranscodingTempPath",n).val(o),a.close()},header:Globalize.translate("HeaderSelectTranscodingPath"),instruction:Globalize.translate("HeaderSelectTranscodingPathHelp")})})}),e(".encodingSettingsForm").off("submit",a).on("submit",a)}).on("pageshow","#encodingSettingsPage",function(){Dashboard.showLoadingMsg();var e=this;ApiClient.getNamedConfiguration("encoding").then(function(n){o(e,n)})})}(jQuery,document,window);