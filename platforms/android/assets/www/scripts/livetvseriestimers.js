define(["datetime","jQuery","paper-icon-button-light"],function(e,i){function n(e,i){require(["confirm"],function(n){n(Globalize.translate("MessageConfirmSeriesCancellation"),Globalize.translate("HeaderConfirmSeriesCancellation")).then(function(){Dashboard.showLoadingMsg(),ApiClient.cancelLiveTvSeriesTimer(i).then(function(){require(["toast"],function(e){e(Globalize.translate("MessageSeriesCancelled"))}),t(e)})})})}function a(a,t){var r="";t.length&&(r+='<div class="paperList">');for(var o=0,s=t.length;s>o;o++){var l=t[o];if(r+="<paper-icon-item>",r+='<paper-fab mini icon="live-tv" item-icon></paper-fab>',r+="<paper-item-body three-line>",r+='<a class="clearLink" href="livetvseriestimer.html?id='+l.Id+'">',r+="<div>",r+=l.Name,r+="</div>",r+="<div secondary>",l.DayPattern)r+=l.DayPattern;else{var c=l.Days||[];r+=c.join(", ")}r+=l.RecordAnyTime?" - "+Globalize.translate("LabelAnytime"):" - "+e.getDisplayTime(l.StartDate),r+="</div>",r+="<div secondary>",l.RecordAnyChannel?r+=Globalize.translate("LabelAllChannels"):l.ChannelId&&(r+=l.ChannelName),r+="</div>",r+="</a>",r+="</paper-item-body>",r+='<button type="button" is="paper-icon-button-light" data-seriestimerid="'+l.Id+'" title="'+Globalize.translate("ButtonCancelSeries")+'" class="btnCancelSeries"><iron-icon icon="cancel"></iron-icon></button>',r+="</paper-icon-item>"}t.length&&(r+="</div>");var d=i("#items",a).html(r);i(".btnCancelSeries",d).on("click",function(){n(a,this.getAttribute("data-seriestimerid"))}),Dashboard.hideLoadingMsg()}function t(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvSeriesTimers(r).then(function(i){require(["paper-fab","paper-item-body","paper-icon-item"],function(){a(e,i.Items)}),LibraryBrowser.setLastRefreshed(e)})}var r={SortBy:"SortName",SortOrder:"Ascending"};window.LiveTvPage.renderSeriesTimersTab=function(e,i){LibraryBrowser.needsRefresh(i)&&t(i)}});