!function(e){function i(e,i){require(["confirm"],function(a){a(Globalize.translate("MessageConfirmSeriesCancellation"),Globalize.translate("HeaderConfirmSeriesCancellation")).then(function(){Dashboard.showLoadingMsg(),ApiClient.cancelLiveTvSeriesTimer(i).then(function(){Dashboard.alert(Globalize.translate("MessageSeriesCancelled")),n(e)})})})}function a(a,n){var r="";n.length&&(r+='<div class="paperList">');for(var t=0,s=n.length;s>t;t++){var o=n[t];if(r+="<paper-icon-item>",r+='<paper-fab mini icon="live-tv" item-icon></paper-fab>',r+="<paper-item-body three-line>",r+='<a class="clearLink" href="livetvseriestimer.html?id='+o.Id+'">',r+="<div>",r+=o.Name,r+="</div>",r+="<div secondary>",o.DayPattern)r+=o.DayPattern;else{var l=o.Days||[];r+=l.join(", ")}r+=o.RecordAnyTime?" - "+Globalize.translate("LabelAnytime"):" - "+LibraryBrowser.getDisplayTime(o.StartDate),r+="</div>",r+="<div secondary>",o.RecordAnyChannel?r+=Globalize.translate("LabelAllChannels"):o.ChannelId&&(r+=o.ChannelName),r+="</div>",r+="</a>",r+="</paper-item-body>",r+='<paper-icon-button icon="cancel" data-seriestimerid="'+o.Id+'" title="'+Globalize.translate("ButtonCancelSeries")+'" class="btnCancelSeries"></paper-icon-button>',r+="</paper-icon-item>"}n.length&&(r+="</div>");var c=e("#items",a).html(r);e(".btnCancelSeries",c).on("click",function(){i(a,this.getAttribute("data-seriestimerid"))}),Dashboard.hideLoadingMsg()}function n(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvSeriesTimers(r).then(function(i){require(["paper-fab","paper-item-body","paper-icon-item"],function(){a(e,i.Items)}),LibraryBrowser.setLastRefreshed(e)})}var r={SortBy:"SortName",SortOrder:"Ascending"};window.LiveTvPage.renderSeriesTimersTab=function(e,i){LibraryBrowser.needsRefresh(i)&&n(i)}}(jQuery,document);