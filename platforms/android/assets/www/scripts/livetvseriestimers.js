!function(e){function a(e,a){Dashboard.confirm(Globalize.translate("MessageConfirmSeriesCancellation"),Globalize.translate("HeaderConfirmSeriesCancellation"),function(i){i&&(Dashboard.showLoadingMsg(),ApiClient.cancelLiveTvSeriesTimer(a).then(function(){Dashboard.alert(Globalize.translate("MessageSeriesCancelled")),n(e)}))})}function i(i,n){var r="";n.length&&(r+='<div class="paperList">');for(var t=0,s=n.length;s>t;t++){var o=n[t];if(r+="<paper-icon-item>",r+='<paper-fab mini icon="live-tv" item-icon></paper-fab>',r+="<paper-item-body three-line>",r+='<a class="clearLink" href="livetvseriestimer.html?id='+o.Id+'">',r+="<div>",r+=o.Name,r+="</div>",r+="<div secondary>",o.DayPattern)r+=o.DayPattern;else{var l=o.Days||[];r+=l.join(", ")}r+=o.RecordAnyTime?" - "+Globalize.translate("LabelAnytime"):" - "+LibraryBrowser.getDisplayTime(o.StartDate),r+="</div>",r+="<div secondary>",o.RecordAnyChannel?r+=Globalize.translate("LabelAllChannels"):o.ChannelId&&(r+=o.ChannelName),r+="</div>",r+="</a>",r+="</paper-item-body>",r+='<paper-icon-button icon="cancel" data-seriestimerid="'+o.Id+'" title="'+Globalize.translate("ButtonCancelSeries")+'" class="btnCancelSeries"></paper-icon-button>',r+="</paper-icon-item>"}n.length&&(r+="</div>");var d=e("#items",i).html(r);e(".btnCancelSeries",d).on("click",function(){a(i,this.getAttribute("data-seriestimerid"))}),Dashboard.hideLoadingMsg()}function n(e){Dashboard.showLoadingMsg(),ApiClient.getLiveTvSeriesTimers(r).then(function(a){i(e,a.Items),LibraryBrowser.setLastRefreshed(e)})}var r={SortBy:"SortName",SortOrder:"Ascending"};window.LiveTvPage.renderSeriesTimersTab=function(e,a){LibraryBrowser.needsRefresh(a)&&n(a)}}(jQuery,document);