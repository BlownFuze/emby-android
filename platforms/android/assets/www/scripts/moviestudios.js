define(["jQuery"],function(e){function r(e){var r=t(),i=n[r];return i||(i=n[r]={query:{SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"Movie",Recursive:!0,Fields:"DateCreated,ItemCounts",StartIndex:0,Limit:LibraryBrowser.getDefaultPageSize()}},i.query.ParentId=e.topParentId,LibraryBrowser.loadSavedQueryValues(r,i.query)),i.query}function t(){return LibraryBrowser.getSavedQueryKey("studios")}function i(n,a){var o=r(a);Dashboard.showLoadingMsg(),ApiClient.getStudios(Dashboard.getCurrentUserId(),o).then(function(r){window.scrollTo(0,0);var s="";e(".listTopPaging",n).html(LibraryBrowser.getQueryPagingHtml({startIndex:o.StartIndex,limit:o.Limit,totalRecordCount:r.TotalRecordCount,showLimit:!1})),s+=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"backdrop",showTitle:!1,preferThumb:!0,showItemCounts:!0,centerText:!0,lazy:!0});var u=n.querySelector(".itemsContainer");u.innerHTML=s,ImageLoader.lazyChildren(u),e(".btnNextPage",n).on("click",function(){o.StartIndex+=o.Limit,i(n,a)}),e(".btnPreviousPage",n).on("click",function(){o.StartIndex-=o.Limit,i(n,a)}),LibraryBrowser.saveQueryValues(t(),o),Dashboard.hideLoadingMsg()})}var n={};return function(e,r,t){var n=this;n.renderTab=function(){i(t,r)}}});