define(["appSettings"],function(n){var e;window.LocalSync={isSupported:function(){return AppInfo.isNativeApp&&Dashboard.capabilities().SupportsSync},sync:function(i){return e?e.promise():new Promise(function(r){require(["multiserversync"],function(){i=i||{},LocalSync.normalizeSyncOptions(i),i.cameraUploadServers=n.cameraUploadServers(),e=new MediaBrowser.MultiServerSync(ConnectionManager).sync(i).then(function(){e=null,r()},function(){e=null})})})},normalizeSyncOptions:function(){},getSyncStatus:function(){return null!=e?"Syncing":"Idle"}}});