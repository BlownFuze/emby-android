define([],function(){return function(e,r,t){function n(e){var r=a(e),t=c[r];return t||(t=c[r]={query:{StartIndex:0,EnableFavoriteSorting:!0,Limit:LibraryBrowser.getDefaultPageSize()}},LibraryBrowser.loadSavedQueryValues(r,t.query)),t}function i(e){return n(e).query}function a(e){return e.savedQueryKey||(e.savedQueryKey=LibraryBrowser.getSavedQueryKey("channels")),e.savedQueryKey}function o(e){return LibraryBrowser.getPosterViewHtml({items:e,shape:"square",showTitle:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0})}function u(e,r){function t(){u.StartIndex+=u.Limit,l(e)}function n(){u.StartIndex-=u.Limit,l(e)}var u=i(e);e.querySelector(".paging").innerHTML=LibraryBrowser.getQueryPagingHtml({startIndex:u.StartIndex,limit:u.Limit,totalRecordCount:r.TotalRecordCount,showLimit:!1,updatePageSizeSetting:!1,filterButton:!1});var s=o(r.Items),d=e.querySelector("#items");d.innerHTML=s,ImageLoader.lazyChildren(d);var c,y,g;for(g=e.querySelectorAll(".btnNextPage"),c=0,y=g.length;y>c;c++)g[c].addEventListener("click",t);for(g=e.querySelectorAll(".btnPreviousPage"),c=0,y=g.length;y>c;c++)g[c].addEventListener("click",n);LibraryBrowser.saveQueryValues(a(e),u)}function s(e){require(["components/filterdialog/filterdialog"],function(r){var t=new r({query:i(e),mode:"livetvchannels"});Events.on(t,"filterchange",function(){l(e)}),t.show()})}function l(e){Dashboard.showLoadingMsg();var r=i(e);r.UserId=Dashboard.getCurrentUserId(),ApiClient.getLiveTvChannels(r).then(function(r){u(e,r),Dashboard.hideLoadingMsg()})}var d=this,c={};t.querySelector(".btnFilter").addEventListener("click",function(){s(t)}),d.renderTab=function(){l(t)}}});