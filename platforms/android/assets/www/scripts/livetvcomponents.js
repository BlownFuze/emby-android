define(["datetime"],function(e){function a(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function t(){return a()?"overflowSquare":"square"}function r(r){var i,n,s=r.map(function(e){return e.Type="Timer",e}),o=[],l="",u=[];for(i=0,n=s.length;n>i;i++){var d=s[i],c="";if(d.StartDate)try{var m=e.parseISO8601Date(d.StartDate,!0);c=LibraryBrowser.getFutureDateText(m,!0)}catch(h){}c!=l?(u.length&&o.push({name:l,items:u}),l=c,u=[d]):u.push(d)}var f="";for(i=0,n=o.length;n>i;i++){var v=o[i];f+='<div class="homePageSection">',f+='<h1 class="listHeader">'+v.name+"</h1>",f+=a()?'<div class="itemsContainer hiddenScrollX">':'<div class="itemsContainer">',f+=LibraryBrowser.getPosterViewHtml({items:v.items,shape:t(),showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0,defaultAction:"edit"}),f+="</div>",f+="</div>"}return Promise.resolve(f)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},renderOriginalAirDate:function(a,t){var r=t.PremiereDate;if(r&&t.IsRepeat){try{r=e.parseISO8601Date(r,!0).toLocaleDateString()}catch(i){}a.html(Globalize.translate("ValueOriginalAirDate").replace("{0}",r)).show()}else a.hide()},getTimersHtml:r}});