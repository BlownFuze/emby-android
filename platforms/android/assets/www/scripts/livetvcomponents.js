define(["datetime"],function(e){function a(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function r(r){var t,i,n=r.map(function(e){return e.Type="Timer",e}),s=[],o="",l=[];for(t=0,i=n.length;i>t;t++){var u=n[t],d="";if(u.StartDate)try{var m=e.parseISO8601Date(u.StartDate,!0);d=LibraryBrowser.getFutureDateText(m,!0)}catch(h){}d!=o?(l.length&&s.push({name:o,items:l}),o=d,l=[u]):l.push(u)}var c="";for(t=0,i=s.length;i>t;t++){var v=s[t];c+='<div class="homePageSection">',c+='<h1 class="listHeader">'+v.name+"</h1>",c+=a()?'<div class="itemsContainer hiddenScrollX">':'<div class="itemsContainer">',c+=LibraryBrowser.getPosterViewHtml({items:v.items,shape:"square",showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0}),c+="</div>",c+="</div>"}return Promise.resolve(c)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},renderOriginalAirDate:function(a,r){var t=r.PremiereDate;if(t&&r.IsRepeat){try{t=e.parseISO8601Date(t,!0).toLocaleDateString()}catch(i){}a.html(Globalize.translate("ValueOriginalAirDate").replace("{0}",t)).show()}else a.hide()},getTimersHtml:r}});