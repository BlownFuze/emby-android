define(["datetime"],function(e){function a(){return browserInfo.mobile&&AppInfo.enableAppLayouts}function t(t){var r,i,n=t.map(function(e){return e.Type="Timer",e}),s=[],o="",l=[];for(r=0,i=n.length;i>r;r++){var u=n[r],d="";if(u.StartDate)try{var m=e.parseISO8601Date(u.StartDate,!0);d=LibraryBrowser.getFutureDateText(m,!0)}catch(c){}d!=o?(l.length&&s.push({name:o,items:l}),o=d,l=[u]):l.push(u)}var h="";for(r=0,i=s.length;i>r;r++){var f=s[r];h+='<div class="homePageSection">',h+='<h1 class="listHeader">'+f.name+"</h1>",h+=a()?'<div class="itemsContainer hiddenScrollX">':'<div class="itemsContainer">',h+=LibraryBrowser.getPosterViewHtml({items:f.items,shape:"square",showTitle:!0,showAirTime:!0,showChannelName:!0,lazy:!0,cardLayout:!0,showDetailsMenu:!0,defaultAction:"edit"}),h+="</div>",h+="</div>"}return Promise.resolve(h)}window.LiveTvHelpers={getDaysOfWeek:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.map(function(e){return{name:e,value:e}})},renderOriginalAirDate:function(a,t){var r=t.PremiereDate;if(r&&t.IsRepeat){try{r=e.parseISO8601Date(r,!0).toLocaleDateString()}catch(i){}a.html(Globalize.translate("ValueOriginalAirDate").replace("{0}",r)).show()}else a.hide()},getTimersHtml:t}});