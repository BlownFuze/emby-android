define(["listView","cardBuilder","emby-itemscontainer"],function(e,t){function s(e,t){var s=[];t.ArtistCount&&s.push({name:Globalize.translate("TabArtists"),type:"MusicArtist"}),t.MovieCount&&s.push({name:Globalize.translate("TabMovies"),type:"Movie"}),t.SeriesCount&&s.push({name:Globalize.translate("TabSeries"),type:"Series"}),t.EpisodeCount&&s.push({name:Globalize.translate("TabEpisodes"),type:"Episode"}),t.TrailerCount&&s.push({name:Globalize.translate("TabTrailers"),type:"Trailer"}),t.GameCount&&s.push({name:Globalize.translate("TabGames"),type:"Game"}),t.AlbumCount&&s.push({name:Globalize.translate("TabAlbums"),type:"MusicAlbum"}),t.SongCount&&s.push({name:Globalize.translate("TabSongs"),type:"Audio"}),t.MusicVideoCount&&s.push({name:Globalize.translate("TabMusicVideos"),type:"MusicVideo"});var a=e.querySelector("#childrenContent");a.innerHTML=s.map(function(e){var t="";return t+='<div class="homePageSection" data-type="'+e.type+'">',t+="<div>",t+='<h1 class="listHeader" style="display:inline-block;vertical-align:middle;">',t+=e.name,t+="</h1>",t+='<a href="#" class="clearLink hide" style="margin-left:1em;vertical-align:middle;"><button is="emby-button" type="button" class="raised more mini noIcon">'+Globalize.translate("ButtonMore")+"</button></a>",t+="</div>",t+='<div is="emby-itemscontainer" class="itemsContainer">',t+="</div>",t+="</div>"}).join("");for(var r=a.querySelectorAll(".homePageSection"),n=0,o=r.length;o>n;n++)i(e,t,r[n],r[n].getAttribute("data-type"))}function i(e,t,s,i){switch(i){case"Movie":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Movie",PersonTypes:"",ArtistIds:"",Limit:10},{shape:"portrait",showTitle:!0,centerText:!0,overlayMoreButton:!0});break;case"MusicVideo":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"MusicVideo",PersonTypes:"",ArtistIds:"",Limit:10},{shape:"portrait",showTitle:!0,centerText:!0,overlayPlayButton:!0});break;case"Game":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Game",PersonTypes:"",ArtistIds:"",Limit:10},{shape:"portrait",showTitle:!0,centerText:!0,overlayMoreButton:!0});break;case"Trailer":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Trailer",PersonTypes:"",ArtistIds:"",Limit:10},{shape:"portrait",showTitle:!0,centerText:!0,overlayPlayButton:!0});break;case"Series":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Series",PersonTypes:"",ArtistIds:"",Limit:10},{shape:"portrait",showTitle:!0,centerText:!0,overlayMoreButton:!0});break;case"MusicAlbum":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"MusicAlbum",PersonTypes:"",ArtistIds:"",Limit:8},{shape:"square",playFromHere:!0,showTitle:!0,showParentTitle:!0,coverImage:!0,centerText:!0,overlayPlayButton:!0});break;case"MusicArtist":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"MusicArtist",PersonTypes:"",ArtistIds:"",Limit:8},{shape:"square",playFromHere:!0,showTitle:!0,showParentTitle:!0,coverImage:!0,centerText:!0,overlayPlayButton:!0});break;case"Episode":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Episode",PersonTypes:"",ArtistIds:"",Limit:6},{shape:"backdrop",showTitle:!0,showParentTitle:!0,centerText:!0,overlayPlayButton:!0});break;case"Audio":a(s,t,i,{MediaTypes:"",IncludeItemTypes:"Audio",PersonTypes:"",ArtistIds:"",Limit:30},{playFromHere:!0,action:"playallfromhere",smallIcon:!0})}}function a(s,i,a,n,d){n=o(n,i),l(n,i)(n.StartIndex,n.Limit,n.Fields).then(function(o){var l="";if(n.Limit&&o.TotalRecordCount>n.Limit){var u=s.querySelector("a");u.classList.remove("hide"),u.setAttribute("href",r(i,a))}else s.querySelector("a").classList.add("hide");d.items=o.Items;var c=s.querySelector(".itemsContainer");"Audio"==a?(l=e.getListViewHtml(d),c.classList.remove("vertical-wrap"),c.classList.add("vertical-list")):(l=t.getCardsHtml(d),c.classList.add("vertical-wrap"),c.classList.remove("vertical-list")),c.innerHTML=l,ImageLoader.lazyChildren(c)})}function r(e,t){return"secondaryitems.html?type="+t+"&parentId="+e.Id}function n(e,t){"Person"==t.Type?e.PersonIds=t.Id:"Genre"==t.Type?e.Genres=t.Name:"MusicGenre"==t.Type?e.Genres=t.Name:"GameGenre"==t.Type?e.Genres=t.Name:"Studio"==t.Type?e.StudioIds=t.Id:"MusicArtist"==t.Type&&(e.ArtistIds=t.Id)}function o(e,t){var s={SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"",Recursive:!0,Fields:"AudioInfo,SeriesInfo,ParentId,PrimaryImageAspectRatio,BasicSyncInfo",Limit:LibraryBrowser.getDefaultPageSize(),StartIndex:0,CollapseBoxSetItems:!1};return s=Object.assign(s,e||{}),"Audio"==s.IncludeItemTypes&&(s.SortBy="AlbumArtist,Album,SortName"),n(s,t),s}function l(e,t){var s=o(e,t);return function(e,t,i){return s.StartIndex=e,s.Limit=t,i&&(s.Fields+=","+i),ApiClient.getItems(Dashboard.getCurrentUserId(),s)}}window.ItemsByName={renderItems:s}});