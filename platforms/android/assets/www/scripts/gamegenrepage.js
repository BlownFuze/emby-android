define(["jQuery"],function(e){function r(){return LibraryBrowser.getSavedQueryKey()}function t(n){Dashboard.showLoadingMsg(),ApiClient.getGameGenres(Dashboard.getCurrentUserId(),a).then(function(i){window.scrollTo(0,0);var o="";e(".listTopPaging",n).html(LibraryBrowser.getQueryPagingHtml({startIndex:a.StartIndex,limit:a.Limit,totalRecordCount:i.TotalRecordCount,showLimit:!1})),o=LibraryBrowser.getPosterViewHtml({items:i.Items,shape:"backdrop",preferThumb:!0,context:"games",showItemCounts:!0,centerText:!0,lazy:!0});var s=n.querySelector("#items");s.innerHTML=o,ImageLoader.lazyChildren(s),e(".btnNextPage",n).on("click",function(){a.StartIndex+=a.Limit,t(n)}),e(".btnPreviousPage",n).on("click",function(){a.StartIndex-=a.Limit,t(n)}),LibraryBrowser.saveQueryValues(r(),a),Dashboard.hideLoadingMsg()})}var a={SortBy:"SortName",SortOrder:"Ascending",Recursive:!0,Fields:"DateCreated,ItemCounts",StartIndex:0};e(document).on("pagebeforeshow","#gameGenresPage",function(){a.ParentId=LibraryMenu.getTopParentId();var e=LibraryBrowser.getDefaultPageSize();e!=a.Limit&&(a.Limit=e,a.StartIndex=0),LibraryBrowser.loadSavedQueryValues(r(),a),t(this)})});