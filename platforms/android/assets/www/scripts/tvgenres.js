!function(e){function t(){var e=o(),t=n[e];return t||(t=n[e]={query:{SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"Series",Recursive:!0,Fields:"DateCreated,SyncInfo,ItemCounts",StartIndex:0,Limit:LibraryBrowser.getDefaultPageSize()},view:LibraryBrowser.getSavedView(e)||LibraryBrowser.getDefaultItemsView("Thumb","Thumb")},t.query.ParentId=LibraryMenu.getTopParentId(),LibraryBrowser.loadSavedQueryValues(e,t.query)),t}function r(){return t().query}function o(){return LibraryBrowser.getSavedQueryKey("genres")}function a(n){Dashboard.showLoadingMsg();var i=r();ApiClient.getGenres(Dashboard.getCurrentUserId(),i).then(function(r){window.scrollTo(0,0);var s="",u=t().view;e(".listTopPaging",n).html(LibraryBrowser.getQueryPagingHtml({startIndex:i.StartIndex,limit:i.Limit,totalRecordCount:r.TotalRecordCount,viewButton:!1,showLimit:!1,updatePageSizeSetting:!1,addLayoutButton:!0,currentLayout:u})),"Thumb"==u?s=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"backdrop",preferThumb:!0,context:"tv",showItemCounts:!0,centerText:!0,lazy:!0,overlayPlayButton:!0}):"ThumbCard"==u?s=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"backdrop",preferThumb:!0,context:"tv",showItemCounts:!0,cardLayout:!0,showTitle:!0,lazy:!0}):"PosterCard"==u?s=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"portrait",context:"tv",showItemCounts:!0,lazy:!0,cardLayout:!0,showTitle:!0}):"Poster"==u&&(s=LibraryBrowser.getPosterViewHtml({items:r.Items,shape:"portrait",context:"tv",centerText:!0,showItemCounts:!0,lazy:!0,overlayPlayButton:!0}));var y=n.querySelector("#items");y.innerHTML=s,ImageLoader.lazyChildren(y),e(".btnNextPage",n).on("click",function(){i.StartIndex+=i.Limit,a(n)}),e(".btnPreviousPage",n).on("click",function(){i.StartIndex-=i.Limit,a(n)}),e(".btnChangeLayout",n).on("layoutchange",function(e,r){t().view=r,LibraryBrowser.saveViewSetting(o(),r),a(n)}),LibraryBrowser.saveQueryValues(o(),i),Dashboard.hideLoadingMsg()})}var n={};window.TvPage.renderGenresTab=function(e,t){LibraryBrowser.needsRefresh(t)&&a(t)}}(jQuery,document);