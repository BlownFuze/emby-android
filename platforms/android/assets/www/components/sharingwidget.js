define(["dialogHelper","thirdparty/social-share-kit-1.0.4/dist/js/social-share-kit.min","css!thirdparty/social-share-kit-1.0.4/dist/css/social-share-kit.css"],function(s){function e(e,a,t){function i(){n=!0,s.close(l)}var l=s.createDialog({removeOnClose:!0,autoFocus:!1});l.id="dlg"+(new Date).getTime();var r="";r+="<h2>"+Globalize.translate("HeaderShare")+"</h2>",r+="<div>",r+='<div class="ssk-group ssk-round ssk-lg">',Dashboard.isConnectMode()&&(r+='<a href="" class="ssk ssk-facebook"></a>'),r+='<a href="" class="ssk ssk-twitter"></a><a href="" class="ssk ssk-google-plus"></a><a href="" class="ssk ssk-pinterest"></a><a href="" class="ssk ssk-tumblr"></a></div>',r+="</div>",r+='<div style="max-width:240px;">',r+=Globalize.translate("ButtonShareHelp"),r+="</div>",r+='<div class="buttons">',r+='<paper-button class="btnCancel" dialog-dismiss>'+Globalize.translate("ButtonCancel")+"</paper-button>",r+="</div>",l.innerHTML=r,document.body.appendChild(l);var n=!1,o=e.share;SocialShareKit.init({selector:"#"+l.id+" .ssk",url:o.Url,title:o.Name,text:o.Overview,image:o.ImageUrl,via:"Emby"}),l.addEventListener("close",function(){n?a(e):t(e)});for(var c=l.querySelectorAll(".ssk"),d=0,h=c.length;h>d;d++)c[d].addEventListener("click",i);l.querySelector(".btnCancel").addEventListener("click",function(){s.close(l)}),s.open(l)}return{showMenu:e}});