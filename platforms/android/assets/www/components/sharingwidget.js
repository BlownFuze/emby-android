define(["jQuery","thirdparty/social-share-kit-1.0.4/dist/js/social-share-kit.min","css!thirdparty/social-share-kit-1.0.4/dist/css/social-share-kit.css","fade-in-animation","fade-out-animation","paper-dialog"],function(a){function s(s,e,i){var t="dlg"+(new Date).getTime(),n="";n+='<paper-dialog id="'+t+'" entry-animation="fade-in-animation" exit-animation="fade-out-animation" with-backdrop>',n+="<h2>"+Globalize.translate("HeaderShare")+"</h2>",n+="<div>",n+='<div class="ssk-group ssk-round ssk-lg">',Dashboard.isConnectMode()&&(n+='<a href="" class="ssk ssk-facebook"></a>'),n+='<a href="" class="ssk ssk-twitter"></a><a href="" class="ssk ssk-google-plus"></a><a href="" class="ssk ssk-pinterest"></a><a href="" class="ssk ssk-tumblr"></a></div>',n+="</div>",n+='<div style="max-width:240px;">',n+=Globalize.translate("ButtonShareHelp"),n+="</div>",n+='<div class="buttons">',n+='<paper-button class="btnCancel" dialog-dismiss>'+Globalize.translate("ButtonCancel")+"</paper-button>",n+="</div>",n+="</paper-dialog>",a(document.body).append(n);var o=!1;setTimeout(function(){var n=document.getElementById(t);n.open();var r=s.share;SocialShareKit.init({selector:"#"+t+" .ssk",url:r.Url,title:r.Name,text:r.Overview,image:r.ImageUrl,via:"Emby"}),a(n).on("iron-overlay-closed",function(){a(this).remove(),o?e(s):i(s)}),a(".ssk",n).on("click",function(){o=!0,n.close()})},100)}return{showMenu:s}});