!function(){function e(e,n){"IMG"!==e.tagName?e.style.backgroundImage="url('"+n+"')":e.setAttribute("src",n),browserInfo.chrome&&!browserInfo.mobile&&(e.classList.contains("noFade")||t(e,1))}function t(e,t){var n=[{opacity:"0",offset:0},{opacity:"1",offset:1}],o={duration:200,iterations:t};return e.animate(n,o)}function n(e,t,o,r){("."==t[0]||""==t[0])&&(t=t.slice(1)),e.getDirectory(t[0],{create:!0},function(e){t.length>1?n(e,t.slice(1),o,r):o(e)},r)}function o(){function t(e){var t=e.indexOf("://");return-1!=t&&(e=e.substring(t+3),t=e.indexOf("/"),-1!=t&&(e=e.substring(t+1))),CryptoJS.MD5(e).toString()}function n(e,t,n,r,i){Logger.log("Downloading "+e);var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==this.status?o(t,n,this.getResponseHeader("Content-Type"),this.response,r,i):i("")},a.send()}function o(e,t,n,o,r,i){e.getFile(t,{create:!0},function(e){e.createWriter(function(t){t.onwriteend=function(){r(e)},t.onerror=i;var a=new Blob([o],{type:n});t.write(a)},i)},i)}var i=this;i.getImageUrl=function(e){return new Promise(function(o,i){-1!=e.indexOf("tag=")&&(e+="&accept=webp");var u=t(e),c=function(e){o(e.toURL())},f=function(e){Logger.log("Imagestore error: "+e.name),i()};if(!s||!r)return void f("");var g="/"+a+"/"+u;s.root.getFile(g,{create:!1},c,function(){n(e,r,u,c,f)})})},i.setImageInto=function(t,n){i.getImageUrl(n).then(function(n){e(t,n)},function(){e(t,n)})},window.ImageStore=i}var r,i=524288e3,a="images";navigator.webkitPersistentStorage.requestQuota(i,function(e){var t=window.webkitRequestFileSystem||window.requestFileSystem;t(PERSISTENT,e,function(e){s=e,n(s.root,a.split("/"),function(e){r=e})})});var s;require(["cryptojs-sha1"],function(){new o})}();