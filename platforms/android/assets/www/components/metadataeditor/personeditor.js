define(["dialogHelper","jQuery"],function(e,t){return{show:function(n){return new Promise(function(o,a){var l=new XMLHttpRequest;l.open("GET","components/metadataeditor/personeditor.template.html",!0),l.onload=function(){var l=this.response,r=e.createDialog({removeOnClose:!0,size:"medium"});r.classList.add("ui-body-b"),r.classList.add("background-theme-b"),r.classList.add("formDialog");var s="",i=!1;s+=Globalize.translateDocument(l),r.innerHTML=s,document.body.appendChild(r),t(".txtPersonName",r).val(n.Name||""),t(".selectPersonType",r).val(n.Type||""),t(".txtPersonRole",r).val(n.Role||""),e.open(r),r.addEventListener("close",function(){i?o(n):a()}),r.querySelector(".btnCancel").addEventListener("click",function(){e.close(r)}),r.querySelector("form").addEventListener("submit",function(o){return i=!0,n.Name=t(".txtPersonName",r).val(),n.Type=t(".selectPersonType",r).val(),n.Role=t(".txtPersonRole",r).val()||null,e.close(r),o.preventDefault(),!1})},l.send()})}}});