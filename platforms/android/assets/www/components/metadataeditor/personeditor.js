define(["dialogHelper","paper-icon-button-light","emby-input","emby-select"],function(e){return{show:function(t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("GET","components/metadataeditor/personeditor.template.html",!0),r.onload=function(){var r=this.response,l=e.createDialog({removeOnClose:!0,size:"medium"});l.classList.add("ui-body-b"),l.classList.add("background-theme-b"),l.classList.add("formDialog");var a="",s=!1;a+=Globalize.translateDocument(r),l.innerHTML=a,document.body.appendChild(l),l.querySelector(".txtPersonName",l).value=t.Name||"",l.querySelector(".selectPersonType",l).value=t.Type||"",l.querySelector(".txtPersonRole",l).value=t.Role||"",e.open(l),l.addEventListener("close",function(){s?n(t):o()}),l.querySelector(".btnCancel").addEventListener("click",function(){e.close(l)}),l.querySelector("form").addEventListener("submit",function(n){return s=!0,t.Name=l.querySelector(".txtPersonName",l).value,t.Type=l.querySelector(".selectPersonType",l).value,t.Role=l.querySelector(".txtPersonRole",l).value||null,e.close(l),n.preventDefault(),!1})},r.send()})}}});