!function(){function e(){var e=this;if(!r){if(appStorage.getItem(c)==u)return void(r=!0);require(["css!themes/halloween/style.css"]),browserInfo.mobile||(e.classList.contains("itemDetailPage")||Backdrops.setBackdropUrl(e,"themes/halloween/bg.jpg"),0==i?l("http://github.com/MediaBrowser/Emby.Resources/raw/master/themes/halloween/monsterparadefade.mp3",.1):(new Date).getTime()-i>3e4&&l("http://github.com/MediaBrowser/Emby.Resources/raw/master/themes/halloween/howl.wav")),o()}}function o(){if(!n){n=!0;var e=document.createElement("paper-icon-button");e.icon="info",e.classList.add("halloweenInfoButton"),$(e).on("click",a);var o=document.querySelector(".viewMenuSecondary");o&&o.insertBefore(e,o.childNodes[0])}}function a(){Dashboard.dialog({title:"Happy Halloween",message:"Happy Halloween from the Emby Team. We hope your Halloween is spooktacular! Would you like to allow the Halloween theme to continue?",callback:function(e){1==e&&t()},buttons:[Globalize.translate("ButtonYes"),Globalize.translate("ButtonNo")]})}function t(){r=!0;var e=document.querySelector(".halloweenInfoButton");e&&e.parentNode.removeChild(e),s&&s.stop(),Dashboard.removeStylesheet("themes/halloween/style.css"),Backdrops.clear(),appStorage.setItem(c,u)}function l(e,o){require(["howler"],function(){var a=new Howl({urls:[e],volume:o||.3});a.play(),s=a,i=(new Date).getTime()})}var n,r,s,i=0,c="cancelHalloween2015",u="6";pageClassOn("pageshow","libraryPage",e),$($.mobile.activePage)[0].classList.contains("libraryPage")&&e.call($($.mobile.activePage)[0])}();