!function(){function e(e){function r(){Events.trigger(window.AudioRenderer.Current,"ended")}function n(){Events.trigger(window.AudioRenderer.Current,"timeupdate")}function t(){Events.trigger(window.AudioRenderer.Current,"playing")}function u(){Events.trigger(window.AudioRenderer.Current,"pause")}function i(){var e=this.error?this.error.code:"";Logger.log("Media element error code: "+e),Events.trigger(window.AudioRenderer.Current,"error")}function o(e,n){e.progressInterval&&clearInterval(e.progressInterval),e.release(),n?i():r()}function a(e){var n=AudioRenderer.Current.playerState;n.volume=0,"playbackstop"==e?(n.paused=!1,r()):"paused"==e?(n.paused=!0,u()):"unpaused"==e?(n.paused=!1,t()):"playing"==e&&(n.paused=!1,t())}var d=this;window.AudioRenderer.Current=d,d.enableProgressReporting="audio"==e.type;var s;d.playerState={},d.currentTime=function(e){var r=s;return null!=e?void(r&&r.seekTo(e)):d.playerState.currentTime},d.duration=function(){return 1},d.stop=function(){var e=s;e&&e.stop()},d.pause=function(){var e=s;e&&(e.pause(),a("paused"))},d.unpause=function(){var e=s;e&&(e.play(),a("playing"))},d.volume=function(e){var r=s;return null!=e?void(r&&r.setVolume(e/100)):d.playerState.volume},d.setCurrentSrc=function(r){if(r){var t=r.url,u=t.indexOf("#t="),i=0;if(-1!=u&&(i=t.substring(u+3),i=1e3*parseFloat(i),t=t.split("#")[0]),"audio"==e.type){var d=new Media(t,function(){o(d,!1)},function(){o(d,!0)},function(e){2==e?a("playing"):3==e?a("paused"):4==e&&o(d,!1)});d.play(),s=d,d.progressInterval=setInterval(function(){d.getCurrentPosition(function(e){var r=AudioRenderer.Current.playerState;r.currentTime=e>-1?1e3*e:0,n()})},1e3)}AudioRenderer.Current.playerState.currentSrc=t}},d.currentSrc=function(){return d.playerState.currentSrc},d.paused=function(){return d.playerState.paused},d.cleanup=function(){d.playerState={}},d.init=function(){return Promise.resolve()}}window.AudioRenderer=function(r){return r=r||{},r.type="audio",new e(r)}}();