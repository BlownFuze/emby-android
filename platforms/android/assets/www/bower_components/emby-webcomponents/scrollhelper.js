define(["focusManager"],function(e){function t(e){var t=document,n={top:0,left:0};if(!t)return n;var o=t.documentElement;e.getBoundingClientRect&&(n=e.getBoundingClientRect());var r=t.defaultView;return{top:n.top+r.pageYOffset-o.clientTop,left:n.left+r.pageXOffset-o.clientLeft}}function n(e,n,o){var r=t(e),f=t(n),c=o?f.left-r.left:f.top-r.top,i=n[o?"offsetWidth":"offsetHeight"];c+=o?e.scrollLeft:e.scrollTop;var s=o?e.offsetWidth:e.offsetHeight;return{start:c,center:c-s/2+i/2,end:c-s+i,size:i}}function o(e,t,o){var r=n(e,t,o);e.scrollTo?o?e.scrollTo(r.center,0):e.scrollTo(0,r.center):o?e.scrollLeft=Math.round(r.center):e.scrollTop=Math.round(r.center)}function r(t,n,r){var f=e.focusableParent(t.target);f&&o(n,f,r)}function f(e){r(e,this,!0)}function c(e){r(e,this,!1)}return{getPosition:n,centerFocus:{on:function(e,t){t?e.addEventListener("focus",f,!0):e.addEventListener("focus",c,!0)},off:function(e,t){t?e.removeEventListener("focus",f,!0):e.removeEventListener("focus",c,!0)}},toCenter:o}});