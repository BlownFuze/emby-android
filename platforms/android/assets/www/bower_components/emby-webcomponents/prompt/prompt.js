define(["paperdialoghelper","layoutManager","html!./icons.html","css!./style.css","paper-button","paper-input"],function(t,e){function n(n,o,r){var a={removeOnClose:!0},i=!1,l=!1;e.tv&&(a.size="fullscreen",i=!0,l=!0);var p=t.createDialog(a);p.classList.add("promptDialog");var c="",u="";c+='<div class="promptDialogContent">',i&&(c+='<paper-icon-button tabindex="-1" icon="dialog:arrow-back" class="btnPromptExit"></paper-icon-button>'),c+='<paper-input autoFocus class="txtPromptValue"></paper-input>',c+="<br/>",l?c+='<paper-button raised class="btnSubmit"><iron-icon icon="dialog:check"></iron-icon><span>'+Globalize.translate("core#ButtonOk")+"</span></paper-button>":(c+='<paper-button class="btnSubmit">'+Globalize.translate("core#ButtonOk")+"</paper-button>",c+='<paper-button class="btnPromptExit">'+Globalize.translate("core#ButtonCancel")+"</paper-button>"),c+="</div>",p.innerHTML=c,n.text&&(p.querySelector(".txtPromptValue").value=n.text),n.title&&(p.querySelector(".txtPromptValue").label=n.title),document.body.appendChild(p),p.querySelector(".btnSubmit").addEventListener("click",function(){u=p.querySelector(".txtPromptValue").value,t.close(p)}),p.querySelector(".btnPromptExit").addEventListener("click",function(){t.close(p)}),p.addEventListener("iron-overlay-closed",function(){var t=u;t?o(t):r()}),t.open(p)}return function(t){return new Promise(function(e,o){"string"==typeof t&&(t={title:"",text:t}),n(t,e,o)})}});