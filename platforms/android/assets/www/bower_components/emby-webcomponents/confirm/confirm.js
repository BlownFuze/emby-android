define(["layoutManager","globalize"],function(t,n){function e(t){return new Promise(function(e,o){require(["actionsheet"],function(a){var r=[];r.push({name:n.translate("sharedcomponents#ButtonOk"),id:"ok"}),r.push({name:n.translate("sharedcomponents#ButtonCancel"),id:"cancel"}),a.show({title:t.text,items:r}).then(function(t){switch(t){case"ok":e();break;default:o()}},o)})})}function o(e,o,a,r){var i={removeOnClose:!0},u=!1;t.tv?(i.size="fullscreen",u=!0,i.autoFocus=!0):(i.modal=!1,i.entryAnimationDuration=160,i.exitAnimationDuration=160,i.autoFocus=!1);var c=o.createDialog(i),s="";e.title&&(s+="<h2>"+e.title+"</h2>");var l=e.html||e.text;l&&(s+="<div>"+l+"</div>"),s+='<div class="buttons">',s+='<paper-button class="btnConfirm" autofocus>'+n.translate("sharedcomponents#ButtonOk")+"</paper-button>",s+='<paper-button class="btnCancel">'+n.translate("sharedcomponents#ButtonCancel")+"</paper-button>",s+="</div>",c.innerHTML=s,document.body.appendChild(c);var d=!1;c.querySelector(".btnConfirm").addEventListener("click",function(){d=!0,o.close(c)}),c.querySelector(".btnCancel").addEventListener("click",function(){d=!1,o.close(c)}),o.open(c).then(function(){d?a():r()})}function a(t){return new Promise(function(n,e){require(["dialogHelper","paper-button"],function(a){o(t,a,n,e)})})}return function(n,o){var r;return r="string"==typeof n?{title:o,text:n}:n,t.tv?e(r):a(r)}});