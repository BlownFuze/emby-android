define(["layoutManager","globalize"],function(t,n){function e(t){return new Promise(function(e,o){require(["actionsheet"],function(i){var a=[];a.push({name:n.translate("sharedcomponents#ButtonOk"),id:"ok"}),a.push({name:n.translate("sharedcomponents#ButtonCancel"),id:"cancel"}),i.show({title:t.text,items:a}).then(function(t){switch(t){case"ok":e();break;default:o()}},o)})})}function o(e,o,i,a){var u={removeOnClose:!0},r=!1;t.tv?(u.size="fullscreen",r=!0,u.autoFocus=!0):(u.modal=!1,u.entryAnimationDuration=160,u.exitAnimationDuration=160,u.autoFocus=!1);var c=o.createDialog(u),s="";e.title&&(s+="<h2>"+e.title+"</h2>");var l=e.html||e.text;l&&(s+="<div>"+l+"</div>"),s+='<div class="buttons">',s+='<button is="emby-button" type="button" class="btnConfirm" autofocus>'+n.translate("sharedcomponents#ButtonOk")+"</button>",s+='<button is="emby-button" type="button" class="btnCancel">'+n.translate("sharedcomponents#ButtonCancel")+"</button>",s+="</div>",c.innerHTML=s,document.body.appendChild(c);var d=!1;c.querySelector(".btnConfirm").addEventListener("click",function(){d=!0,o.close(c)}),c.querySelector(".btnCancel").addEventListener("click",function(){d=!1,o.close(c)}),o.open(c).then(function(){d?i():a()})}function i(t){return new Promise(function(n,e){require(["dialogHelper","emby-button"],function(i){o(t,i,n,e)})})}return function(n,o){var a;return a="string"==typeof n?{title:o,text:n}:n,t.tv?e(a):i(a)}});