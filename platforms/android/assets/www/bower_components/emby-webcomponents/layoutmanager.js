define(["browser","appSettings"],function(t,o){function e(t,o,e){o==e?(t[o]=!0,document.documentElement.classList.add("layout-"+o)):(t[o]=!1,document.documentElement.classList.remove("layout-"+o))}function u(){var u=this;u.setLayout=function(t,a){t&&"auto"!=t?(e(u,"mobile",t),e(u,"tv",t),e(u,"desktop",t),a!==!1&&o.set("layout",t)):(u.autoLayout(),a!==!1&&o.set("layout",""))},u.getSavedLayout=function(){return o.get("layout")},u.autoLayout=function(){t.mobile?u.setLayout("mobile",!1):t.tv?u.setLayout("tv",!1):u.setLayout(u.undetectedAutoLayout||"desktop",!1)},u.init=function(){var t=u.getSavedLayout();t?u.setLayout(t,!1):u.autoLayout()}}return new u});