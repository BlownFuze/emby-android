define([],function(){function n(n){return new Promise(function(t,i){e();var r=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.oSpeechRecognition||window.msSpeechRecognition);r.lang=n,r.onresult=function(n){if(n.results.length>0){var e=n.results[0][0].transcript||"";t(e)}},r.onerror=function(){i({error:event.error,message:event.message})},r.onnomatch=function(){i({error:"no-match"})},o=r,o.start()})}function e(){o&&(o.abort(),o=null)}var o=null;return{listenForCommand:n,cancel:e}});