define(["layoutManager","browser","css!./emby-input","registerElement"],function(){var e=Object.create(HTMLInputElement.prototype),t=0,i=!1;if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");if(n&&n.configurable){var s=n.set;n.set=function(e){s.call(this,e),this.dispatchEvent(new CustomEvent("valueset",{bubbles:!1,cancelable:!1}))},Object.defineProperty(HTMLInputElement.prototype,"value",n),i=!0}}e.createdCallback=function(){this.id||(this.id="embyinput"+t,t++)},e.attachedCallback=function(){function e(){this.value?n.classList.remove("inputLabel-float"):s&&n.classList.add("inputLabel-float")}if(!this.classList.contains("emby-input")){this.classList.add("emby-input");var t=this.parentNode,n=this.ownerDocument.createElement("label");n.innerHTML=this.getAttribute("label")||"",n.classList.add("inputLabel");var s=i&&"date"!=this.type;n.htmlFor=this.id,t.insertBefore(n,this);var a=document.createElement("div");a.classList.add("emby-input-selectionbar"),t.insertBefore(a,this.nextSibling),this.addEventListener("focus",function(){e.call(this),n.classList.add("inputLabelFocused"),n.classList.remove("inputLabelUnfocused")}),this.addEventListener("blur",function(){e.call(this),n.classList.remove("inputLabelFocused"),n.classList.add("inputLabelUnfocused")}),this.addEventListener("change",e),this.addEventListener("input",e),this.addEventListener("valueset",e),e.call(this),this.label=function(e){n.innerHTML=e}}},document.registerElement("emby-input",{prototype:e,"extends":"input"})});