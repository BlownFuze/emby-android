define(["dialogHelper","globalize","require","paper-icon-button-light","emby-input","emby-select"],function(e,t,n){function o(o){return new Promise(function(r,l){n(["text!./personeditor.template.html"],function(n){var u=e.createDialog({removeOnClose:!0,size:"medium"});u.classList.add("ui-body-b"),u.classList.add("background-theme-b"),u.classList.add("formDialog");var a="",c=!1;a+=t.translateDocument(n),u.innerHTML=a,document.body.appendChild(u),u.querySelector(".txtPersonName",u).value=o.Name||"",u.querySelector(".selectPersonType",u).value=o.Type||"",u.querySelector(".txtPersonRole",u).value=o.Role||"",e.open(u),u.addEventListener("close",function(){c?r(o):l()}),u.querySelector(".btnCancel").addEventListener("click",function(){e.close(u)}),u.querySelector("form").addEventListener("submit",function(t){return c=!0,o.Name=u.querySelector(".txtPersonName",u).value,o.Type=u.querySelector(".selectPersonType",u).value,o.Role=u.querySelector(".txtPersonRole",u).value||null,e.close(u),t.preventDefault(),!1})})})}return{show:o}});