define(["dialogHelper","layoutManager","globalize","require","paper-icon-button-light","emby-input","emby-select","css!./../formdialog"],function(e,t,o,n){function r(e,t,o){n(["scrollHelper"],function(n){var r=o?"on":"off";n.centerFocus[r](e,t)})}function l(l){return new Promise(function(a,c){n(["text!./personeditor.template.html"],function(n){var u={removeOnClose:!0,scrollY:!1};u.size=t.tv?"fullscreen":"medium";var s=e.createDialog(u);s.classList.add("ui-body-b"),s.classList.add("background-theme-b"),s.classList.add("formDialog");var i="",d=!1;i+=o.translateDocument(n,"sharedcomponents"),s.innerHTML=i,document.body.appendChild(s),s.querySelector(".txtPersonName",s).value=l.Name||"",s.querySelector(".selectPersonType",s).value=l.Type||"",s.querySelector(".txtPersonRole",s).value=l.Role||"",t.tv&&r(s.querySelector(".dialogContent"),!1,!0),e.open(s),s.addEventListener("close",function(){t.tv&&r(s.querySelector(".dialogContent"),!1,!1),d?a(l):c()}),s.querySelector(".btnCancel").addEventListener("click",function(){e.close(s)}),s.querySelector("form").addEventListener("submit",function(t){return d=!0,l.Name=s.querySelector(".txtPersonName",s).value,l.Type=s.querySelector(".selectPersonType",s).value,l.Role=s.querySelector(".txtPersonRole",s).value||null,e.close(s),t.preventDefault(),!1})})})}return{show:l}});