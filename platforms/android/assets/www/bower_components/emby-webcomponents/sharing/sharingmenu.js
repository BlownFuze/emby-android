define(["dialogHelper","layoutManager","globalize","./social-share-kit-1.0.4/dist/js/social-share-kit.min","css!./social-share-kit-1.0.4/dist/css/social-share-kit.css"],function(s,e,a){function t(t){function r(){l=!0,s.close(i)}var i=s.createDialog({removeOnClose:!0,autoFocus:e.tv});i.id="dlg"+(new Date).getTime();var n="";n+="<h2>"+Globalize.translate("Share")+"</h2>",n+="<div>",n+='<div class="ssk-group ssk-round ssk-lg">',n+='<a href="" class="ssk ssk-facebook"></a>',n+='<a href="" class="ssk ssk-twitter"></a><a href="" class="ssk ssk-google-plus"></a><a href="" class="ssk ssk-pinterest"></a><a href="" class="ssk ssk-tumblr"></a></div>',n+="</div>",n+='<div class="buttons">',n+='<paper-button class="btnCancel">'+a.translate("sharedcomponents#ButtonCancel")+"</paper-button>",n+="</div>",i.innerHTML=n,document.body.appendChild(i);var l=!1,o=t.share;SocialShareKit.init({selector:"#"+i.id+" .ssk",url:o.Url,title:o.Name,text:o.Overview,image:o.ImageUrl,via:"Emby"});for(var c=i.querySelectorAll(".ssk"),d=0,u=c.length;u>d;d++)c[d].addEventListener("click",r);i.querySelector(".btnCancel").addEventListener("click",function(){s.close(i)});var k=new Promise(function(s,e){i.addEventListener("close",function(){l?s():e()})});return s.open(i),k}return{showMenu:t}});