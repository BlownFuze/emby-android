define(["layoutManager","globalize"],function(t,n){function e(t){return new Promise(function(e,o){require(["actionsheet"],function(i){var a=[];a.push({name:n.translate("sharedcomponents#ButtonOk"),id:"ok"}),a.push({name:n.translate("sharedcomponents#ButtonCancel"),id:"cancel"}),i.show({title:t.text,items:t.buttons}).then(e,o)})})}function o(n,e,o,i){function a(){v=this.getAttribute("data-id"),e.close(s)}var u={removeOnClose:!0},r=!1;t.tv?(u.size="fullscreen",r=!0,u.autoFocus=!0):(u.modal=!1,u.entryAnimationDuration=160,u.exitAnimationDuration=160,u.autoFocus=!0);var s=e.createDialog(u),l="";n.title&&(l+="<h2>"+n.title+"</h2>");var c=n.html||n.text;c&&(l+='<div style="margin:1em 0;">'+c+"</div>"),l+='<div class="buttons">';var d,m;for(d=0,m=n.buttons.length;m>d;d++){var b=n.buttons[d],f=0==d?" autofocus":"";l+='<button is="emby-button" type="button" class="btnOption" data-id="'+b.id+'"'+f+">"+b.name+"</button>"}l+="</div>",s.innerHTML=l,document.body.appendChild(s);var v,h=s.querySelectorAll(".btnOption");for(d=0,m=n.buttons.length;m>d;d++)h[d].addEventListener("click",a);e.open(s).then(function(){v?o(v):i()})}function i(t){return new Promise(function(n,e){require(["dialogHelper","emby-button"],function(i){o(t,i,n,e)})})}return function(n,o){var a;return a="string"==typeof n?{title:o,text:n}:n,t.tv?e(a):i(a)}});