define(["layoutManager","globalize","css!./dialog"],function(t){function n(t){return new Promise(function(n,e){require(["actionsheet"],function(o){o.show({title:t.text,items:t.buttons}).then(n,e)})})}function e(n,e,o,i){function u(){m=this.getAttribute("data-id"),e.close(l)}var r={removeOnClose:!0},a=!1;t.tv?(r.size="fullscreen",a=!0,r.autoFocus=!0):(r.modal=!1,r.entryAnimationDuration=160,r.exitAnimationDuration=160,r.autoFocus=!0);var l=e.createDialog(r),s="";n.title&&(s+="<h2>"+n.title+"</h2>");var c=n.html||n.text;c&&(s+='<div style="margin:1em 0;">'+c+"</div>"),s+='<div class="dialogButtons">';var d,f;for(d=0,f=n.buttons.length;f>d;d++){var b=n.buttons[d],v=0==d?" autofocus":"";s+='<button is="emby-button" type="button" class="btnOption dialogButton" data-id="'+b.id+'"'+v+">"+b.name+"</button>"}s+="</div>",l.innerHTML=s,document.body.appendChild(l);var m,g=l.querySelectorAll(".btnOption");for(d=0,f=n.buttons.length;f>d;d++)g[d].addEventListener("click",u);e.open(l).then(function(){m?o(m):i()})}function o(t){return new Promise(function(n,o){require(["dialogHelper","emby-button"],function(i){e(t,i,n,o)})})}return function(e,i){var u;return u="string"==typeof e?{title:i,text:e}:e,t.tv?n(u):o(u)}});